var C=(m,u,l)=>new Promise((n,f)=>{var g=a=>{try{i(l.next(a))}catch(r){f(r)}},c=a=>{try{i(l.throw(a))}catch(r){f(r)}},i=a=>a.done?n(a.value):Promise.resolve(a.value).then(g,c);i((l=l.apply(m,u)).next())});import{_ as z,r as F,o as L,h as o,i as v,d as D,e as t,w as e,F as O,k as j,q,D as S,M as A,m as G,j as s}from"./index.a8948c02.js";import H from"./Edit.abd5336c.js";import{u as J}from"./usePagination.27a1eb36.js";import"./tinymce.b4091e4a.js";import"./echarts.98d40a9a.js";import"./useModal.97c00550.js";import"./useForm.049bdf41.js";const K={name:"listBasic",components:{Edit:H},setup(){const m=[{title:"ID",dataIndex:"id",width:64,align:"center"},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u64CD\u4F5C",key:"action",width:180}],{list:u,pagination:l,loading:n,resetPagination:f}=J(),g=F();function c(){return C(this,null,function*(){const{pageSize:_,current:d}=l;n.value=!0;const{code:h,data:p}=yield S.common.getPageList({pageSize:_,page:d}).catch(()=>{n.value=!1});n.value=!1,h===200&&(u.value=p.rows,l.total=p.total)})}function i(){f(),c()}function a({id:_}){A.confirm({title:"\u5220\u9664\u63D0\u793A",content:"\u786E\u8BA4\u5220\u9664\uFF1F",onOk:()=>C(this,null,function*(){n.value=!0;const{code:d}=yield S.common.deleteData({id:_}).catch(()=>{n.value=!1});d===200?(G.success("\u5220\u9664\u6210\u529F"),yield c()):n.value=!1})})}function r({current:_,pageSize:d}){l.current=_,l.pageSize=d,c()}function k(){c()}return L(()=>{c()}),{editRef:g,columns:m,loading:n,list:u,pagination:l,handleSearch:i,handleDelete:a,onTableChange:r,onOk:k}}},Q=s("\u641C\u7D22 "),U=s(" \u65B0\u5EFA "),W=s("\u641C\u7D22 "),X=s("\u7F16\u8F91"),Y=s("\u5220\u9664"),Z=s(" \u66F4\u591A "),$=s("\u83DC\u5355 1"),tt=s("\u83DC\u5355 2"),et=s("\u83DC\u5355 3");function nt(m,u,l,n,f,g){const c=o("a-input"),i=o("a-form-item"),a=o("a-col"),r=o("a-select"),k=o("a-range-picker"),_=o("a-button"),d=o("a-row"),h=o("a-form"),p=o("x-search-bar"),B=o("icon-plus-outlined"),N=o("x-action-bar"),b=o("x-action-button"),P=o("icon-down-outlined"),y=o("a-menu-item"),R=o("a-menu"),V=o("a-dropdown"),E=o("a-table"),I=o("a-card"),M=o("edit");return v(),D(O,null,[t(p,{class:"mb-8-2"},{default:e(()=>[t(h,{layout:"inline"},{default:e(()=>[t(d,{gutter:16},{default:e(()=>[t(a,{span:6},{default:e(()=>[t(i,{label:"\u6807\u9898"},{default:e(()=>[t(c)]),_:1})]),_:1}),t(a,{span:6},{default:e(()=>[t(i,{label:"\u6807\u9898"},{default:e(()=>[t(r)]),_:1})]),_:1}),t(a,{span:6},{default:e(()=>[t(i,{label:"\u6807\u9898"},{default:e(()=>[t(k)]),_:1})]),_:1}),t(a,{span:6},{default:e(()=>[t(_,{type:"primary",ghost:"",onClick:n.handleSearch},{default:e(()=>[Q]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),t(I,null,{default:e(()=>[t(N,{class:"mb-8-2"},{extra:e(()=>[t(p,{"body-style":{padding:0}},{default:e(()=>[t(h,{layout:"inline"},{default:e(()=>[t(d,{gutter:12,type:"flex"},{default:e(()=>[t(a,null,{default:e(()=>[t(i,null,{default:e(()=>[t(c)]),_:1})]),_:1}),t(a,null,{default:e(()=>[t(_,{type:"primary",ghost:"",onClick:n.handleSearch},{default:e(()=>[W]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),default:e(()=>[t(_,{type:"primary",onClick:u[0]||(u[0]=w=>m.$refs.editRef.handleCreate())},{icon:e(()=>[t(B)]),default:e(()=>[U]),_:1})]),_:1}),t(E,{columns:n.columns,pagination:n.pagination,"data-source":n.list,loading:n.loading,"row-key":"id",onChange:n.onTableChange},{bodyCell:e(({column:w,record:x,index:ot})=>[w.key==="action"?(v(),D(O,{key:0},[t(b,{onClick:T=>m.$refs.editRef.handleEdit(x)},{default:e(()=>[X]),_:2},1032,["onClick"]),t(b,{onClick:T=>n.handleDelete(x)},{default:e(()=>[Y]),_:2},1032,["onClick"]),t(b,{tag:"span"},{default:e(()=>[t(V,{trigger:["click"]},{overlay:e(()=>[t(R,null,{default:e(()=>[t(y,null,{default:e(()=>[$]),_:1}),t(y,null,{default:e(()=>[tt]),_:1}),t(y,null,{default:e(()=>[et]),_:1})]),_:1})]),default:e(()=>[j("a",null,[Z,t(P)])]),_:1})]),_:1})],64)):q("",!0)]),_:1},8,["columns","pagination","data-source","loading","onChange"])]),_:1}),t(M,{ref:"editRef",onOk:n.onOk},null,8,["onOk"])],64)}const rt=z(K,[["render",nt]]);export{rt as default};
