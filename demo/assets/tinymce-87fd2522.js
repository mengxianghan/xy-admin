var RC=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function e2(An){return An&&An.__esModule&&Object.prototype.hasOwnProperty.call(An,"default")?An.default:An}var Ic={},JU={get exports(){return Ic},set exports(An){Ic=An}};(function(An){(function(){var Lc=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},BC=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},DC=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},_C=function(e,t){return Ua(function(n,r){return e.eq(t(n),t(r))})},Ua=function(e){return{eq:e}},OC=Ua(function(e,t){return e===t}),PC=OC,$c=function(e){return Ua(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},IC=function(e,t){return _C($c(e),function(n){return DC(n,t)})},Fc=function(e){return Ua(function(t,n){var r=Object.keys(t),a=Object.keys(n);if(!IC(PC).eq(r,a))return!1;for(var i=r.length,o=0;o<i;o++){var u=r[o];if(!e.eq(t[u],n[u]))return!1}return!0})},Wu=Ua(function(e,t){if(e===t)return!0;var n=Lc(e),r=Lc(t);return n!==r?!1:BC(n)?e===t:n==="array"?$c(Wu).eq(e,t):n==="object"?Fc(Wu).eq(e,t):!1}),LC=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},ju=function(e){return function(t){return LC(t)===e}},Ku=function(e){return function(t){return typeof t===e}},Mc=function(e){return function(t){return e===t}},Le=ju("string"),Wr=ju("object"),Lt=ju("array"),za=Mc(null),Uc=Ku("boolean"),Ct=Mc(void 0),on=function(e){return e==null},Ee=function(e){return!on(e)},Re=Ku("function"),jr=Ku("number"),le=function(){},mr=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},zc=function(e,t){return function(n){return e(t(n))}},G=function(e){return function(){return e}},wt=function(e){return e},$C=function(e,t){return e===t};function K(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t.concat(r);return e.apply(null,i)}}var Gu=function(e){return function(t){return!e(t)}},FC=function(e){return function(){throw new Error(e)}},MC=function(e){return e()},UC=function(e){e()},xe=G(!1),Fe=G(!0),Fi=function(){return Xu},Xu=function(){var e=function(r){return r()},t=wt,n={fold:function(r,a){return r()},isSome:xe,isNone:Fe,getOr:t,getOrThunk:e,getOrDie:function(r){throw new Error(r||"error: getOrDie called on none.")},getOrNull:G(null),getOrUndefined:G(void 0),or:t,orThunk:e,map:Fi,each:le,bind:Fi,exists:xe,forall:Fe,filter:function(){return Fi()},toArray:function(){return[]},toString:G("none()")};return n}(),Yu=function(e){var t=G(e),n=function(){return a},r=function(i){return i(e)},a={fold:function(i,o){return o(e)},isSome:Fe,isNone:xe,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(i){return Yu(i(e))},each:function(i){i(e)},bind:r,exists:r,forall:r,filter:function(i){return i(e)?a:Xu},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},zC=function(e){return e==null?Xu:Yu(e)},h={some:Yu,none:Fi,from:zC},Qu=Array.prototype.slice,HC=Array.prototype.indexOf,VC=Array.prototype.push,Hc=function(e,t){return HC.call(e,t)},qC=function(e,t){var n=Hc(e,t);return n===-1?h.none():h.some(n)},Xe=function(e,t){return Hc(e,t)>-1},vt=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return!0}return!1},Te=function(e,t){for(var n=e.length,r=new Array(n),a=0;a<n;a++){var i=e[a];r[a]=t(i,a)}return r},X=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];t(a,n)}},Vc=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},qc=function(e,t){for(var n=[],r=[],a=0,i=e.length;a<i;a++){var o=e[a],u=t(o,a)?n:r;u.push(o)}return{pass:n,fail:r}},ve=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Wc=function(e,t,n){return Vc(e,function(r,a){n=t(n,r,a)}),n},jt=function(e,t,n){return X(e,function(r,a){n=t(n,r,a)}),n},jc=function(e,t,n){for(var r=0,a=e.length;r<a;r++){var i=e[r];if(t(i,r))return h.some(i);if(n(i,r))break}return h.none()},Ye=function(e,t){return jc(e,t,xe)},Mi=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return h.some(n)}return h.none()},WC=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Lt(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);VC.apply(t,e[n])}return t},Kr=function(e,t){return WC(Te(e,t))},Ha=function(e,t){for(var n=0,r=e.length;n<r;++n){var a=e[n];if(t(a,n)!==!0)return!1}return!0},Ui=function(e){var t=Qu.call(e,0);return t.reverse(),t},Kc=function(e,t){return ve(e,function(n){return!Xe(t,n)})},jC=function(e,t){for(var n={},r=0,a=e.length;r<a;r++){var i=e[r];n[String(i)]=t(i,r)}return n},Zu=function(e,t){var n=Qu.call(e,0);return n.sort(t),n},Ju=function(e,t){return t>=0&&t<e.length?h.some(e[t]):h.none()},At=function(e){return Ju(e,0)},pr=function(e){return Ju(e,e.length-1)},un=Re(Array.from)?Array.from:function(e){return Qu.call(e)},Gc=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return h.none()},Gr=Object.keys,KC=Object.hasOwnProperty,Be=function(e,t){for(var n=Gr(e),r=0,a=n.length;r<a;r++){var i=n[r],o=e[i];t(o,i)}},Xc=function(e,t){return GC(e,function(n,r){return{k:r,v:t(n,r)}})},GC=function(e,t){var n={};return Be(e,function(r,a){var i=t(r,a);n[i.k]=i.v}),n},ef=function(e){return function(t,n){e[n]=t}},Yc=function(e,t,n,r){var a={};return Be(e,function(i,o){(t(i,o)?n:r)(i,o)}),a},XC=function(e,t){var n={},r={};return Yc(e,t,ef(n),ef(r)),{t:n,f:r}},Va=function(e,t){var n={};return Yc(e,t,ef(n),le),n},YC=function(e,t){var n=[];return Be(e,function(r,a){n.push(t(r,a))}),n},QC=function(e){return YC(e,wt)},Me=function(e,t){return de(e,t)?h.from(e[t]):h.none()},de=function(e,t){return KC.call(e,t)},Xr=function(e,t){return de(e,t)&&e[t]!==void 0&&e[t]!==null},ZC=function(e,t,n){return n===void 0&&(n=Wu),Fc(n).eq(e,t)},tf=Array.isArray,JC=function(e){if(tf(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},qa=function(e,t,n){var r,a;if(!e)return!1;if(n=n||e,e.length!==void 0){for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(r in e)if(de(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},nf=function(e,t){var n=[];return qa(e,function(r,a){n.push(t(r,a,e))}),n},Yr=function(e,t){var n=[];return qa(e,function(r,a){(!t||t(r,a,e))&&n.push(r)}),n},Qc=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},zi=function(e,t,n,r){for(var a=Ct(n)?e[0]:n,i=0;i<e.length;i++)a=t.call(r,a,e[i],i);return a},Zc=function(e,t,n){var r,a;for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return r;return-1},Mn=function(e){return e[e.length-1]},ae=function(){return ae=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ae.apply(this,arguments)};function e0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Tn(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Jc=function(e){var t=!1,n;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t||(t=!0,n=e.apply(null,r)),n}},t0=function(e,t,n,r){var a=e.isiOS()&&/ipad/i.test(n)===!0,i=e.isiOS()&&!a,o=e.isiOS()||e.isAndroid(),u=o||r("(pointer:coarse)"),f=a||!i&&o&&r("(min-device-width:768px)"),s=i||o&&!f,l=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,c=!s&&!f&&!l;return{isiPad:G(a),isiPhone:G(i),isTablet:G(f),isPhone:G(s),isTouch:G(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:G(l),isDesktop:G(c)}},n0=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},r0=function(e,t){var n=n0(e,t);if(!n)return{major:0,minor:0};var r=function(a){return Number(t.replace(n,"$"+a))};return rf(r(1),r(2))},a0=function(e,t){var n=String(t).toLowerCase();return e.length===0?ev():r0(e,n)},ev=function(){return rf(0,0)},rf=function(e,t){return{major:e,minor:t}},Wa={nu:rf,detect:a0,unknown:ev},i0=function(e,t){return Gc(t.brands,function(n){var r=n.brand.toLowerCase();return Ye(e,function(a){var i;return r===((i=a.brand)===null||i===void 0?void 0:i.toLowerCase())}).map(function(a){return{current:a.name,version:Wa.nu(parseInt(n.version,10),0)}})})},tv=function(e,t){var n=String(t).toLowerCase();return Ye(e,function(r){return r.search(n)})},o0=function(e,t){return tv(e,t).map(function(n){var r=Wa.detect(n.versionRegexes,t);return{current:n.name,version:r}})},u0=function(e,t){return tv(e,t).map(function(n){var r=Wa.detect(n.versionRegexes,t);return{current:n.name,version:r}})},f0=function(e,t){return e.substring(t)},s0=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t},l0=function(e,t){return gr(e,t)?f0(e,t.length):e},dt=function(e,t){return e.indexOf(t)!==-1},gr=function(e,t){return s0(e,t,0)},af=function(e){return function(t){return t.replace(e,"")}},of=af(/^\s+|\s+$/g),c0=af(/^\s+/g),nv=af(/\s+$/g),Hi=function(e){return e.length>0},rv=function(e){return!Hi(e)},uf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Rn=function(e){return function(t){return dt(t,e)}},v0=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return dt(e,"edge/")&&dt(e,"chrome")&&dt(e,"safari")&&dt(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,uf],search:function(e){return dt(e,"chrome")&&!dt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return dt(e,"msie")||dt(e,"trident")}},{name:"Opera",versionRegexes:[uf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Rn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Rn("firefox")},{name:"Safari",versionRegexes:[uf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(dt(e,"safari")||dt(e,"mobile/"))&&dt(e,"applewebkit")}}],d0=[{name:"Windows",search:Rn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return dt(e,"iphone")||dt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Rn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Rn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Rn("linux"),versionRegexes:[]},{name:"Solaris",search:Rn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Rn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Rn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],av={browsers:G(v0),oses:G(d0)},iv="Edge",ov="Chrome",uv="IE",fv="Opera",sv="Firefox",lv="Safari",m0=function(){return cv({current:void 0,version:Wa.unknown()})},cv=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isEdge:r(iv),isChrome:r(ov),isIE:r(uv),isOpera:r(fv),isFirefox:r(sv),isSafari:r(lv)}},vv={unknown:m0,nu:cv,edge:G(iv),chrome:G(ov),ie:G(uv),opera:G(fv),firefox:G(sv),safari:G(lv)},dv="Windows",mv="iOS",pv="Android",gv="Linux",hv="OSX",bv="Solaris",yv="FreeBSD",Cv="ChromeOS",p0=function(){return wv({current:void 0,version:Wa.unknown()})},wv=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isWindows:r(dv),isiOS:r(mv),isAndroid:r(pv),isOSX:r(hv),isLinux:r(gv),isSolaris:r(bv),isFreeBSD:r(yv),isChromeOS:r(Cv)}},Ev={unknown:p0,nu:wv,windows:G(dv),ios:G(mv),android:G(pv),linux:G(gv),osx:G(hv),solaris:G(bv),freebsd:G(yv),chromeos:G(Cv)},g0=function(e,t,n){var r=av.browsers(),a=av.oses(),i=t.bind(function(f){return i0(r,f)}).orThunk(function(){return o0(r,e)}).fold(vv.unknown,vv.nu),o=u0(a,e).fold(Ev.unknown,Ev.nu),u=t0(o,i,e,n);return{browser:i,os:o,deviceType:u}},h0={detect:g0},b0=function(e){return window.matchMedia(e).matches},y0=Jc(function(){return h0.detect(navigator.userAgent,h.from(navigator.userAgentData),b0)}),$t=function(){return y0()},Sv=navigator.userAgent,ff=$t(),mt=ff.browser,Tt=ff.os,fn=ff.deviceType,C0=/WebKit/.test(Sv)&&!mt.isEdge(),w0="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,E0=Sv.indexOf("Windows Phone")!==-1,ue={opera:mt.isOpera(),webkit:C0,ie:mt.isIE()||mt.isEdge()?mt.version.major:!1,gecko:mt.isFirefox(),mac:Tt.isOSX()||Tt.isiOS(),iOS:fn.isiPad()||fn.isiPhone(),android:Tt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:mt.isIE()?document.documentMode||7:10,fileApi:w0,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!mt.isIE(),desktop:fn.isDesktop(),windowsPhone:E0,browser:{current:mt.current,version:mt.version,isChrome:mt.isChrome,isEdge:mt.isEdge,isFirefox:mt.isFirefox,isIE:mt.isIE,isOpera:mt.isOpera,isSafari:mt.isSafari},os:{current:Tt.current,version:Tt.version,isAndroid:Tt.isAndroid,isChromeOS:Tt.isChromeOS,isFreeBSD:Tt.isFreeBSD,isiOS:Tt.isiOS,isLinux:Tt.isLinux,isOSX:Tt.isOSX,isSolaris:Tt.isSolaris,isWindows:Tt.isWindows},deviceType:{isDesktop:fn.isDesktop,isiPad:fn.isiPad,isiPhone:fn.isiPhone,isPhone:fn.isPhone,isTablet:fn.isTablet,isTouch:fn.isTouch,isWebView:fn.isWebView}},S0=/^\s*|\s*$/g,kv=function(e){return e==null?"":(""+e).replace(S0,"")},xv=function(e,t){return t?t==="array"&&tf(e)?!0:typeof e===t:e!==void 0},k0=function(e,t,n){var r;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},x0=de,N0=function(e,t,n){var r=this,a,i,o,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var f=e[3].match(/(^|\.)(\w+)$/i)[2],s=r.createNS(e[3].replace(/\.\w+$/,""),n);if(!s[f]){if(e[2]==="static"){s[f]=t,this.onCreate&&this.onCreate(e[2],e[3],s[f]);return}t[f]||(t[f]=function(){},u=1),s[f]=t[f],r.extend(s[f].prototype,t),e[5]&&(a=r.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],o=s[f],u?s[f]=function(){return a[i].apply(this,arguments)}:s[f]=function(){return this.parent=a[i],o.apply(this,arguments)},s[f].prototype[f]=s[f],r.each(a,function(l,c){s[f].prototype[c]=a[c]}),r.each(t,function(l,c){a[c]?s[f].prototype[c]=function(){return this.parent=a[c],l.apply(this,arguments)}:c!==f&&(s[f].prototype[c]=l)})),r.each(t.static,function(l,c){s[f][c]=l})}},A0=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var a=t[r];for(var i in a)if(de(a,i)){var o=a[i];o!==void 0&&(e[i]=o)}}return e},Nv=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),qa(e,function(a,i){if(t.call(r,a,i,n)===!1)return!1;Nv(a,t,n,r)}))},T0=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},R0=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],!!t);n++);return t},B0=function(e,t){return!e||xv(e,"array")?e:nf(e.split(t||","),kv)},D0=function(e){var t=ue.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},B={trim:kv,isArray:tf,is:xv,toArray:JC,makeMap:k0,each:qa,map:nf,grep:Yr,inArray:Qc,hasOwn:x0,extend:A0,create:N0,walk:Nv,createNS:T0,resolve:R0,explode:B0,_addCacheSuffix:D0},_0=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ja(r.childNodes[0])},O0=function(e,t){var n=t||document,r=n.createElement(e);return ja(r)},P0=function(e,t){var n=t||document,r=n.createTextNode(e);return ja(r)},ja=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},I0=function(e,t,n){return h.from(e.dom.elementFromPoint(t,n)).map(ja)},k={fromHtml:_0,fromTag:O0,fromText:P0,fromDom:ja,fromPoint:I0},Av=function(e,t){var n=[],r=function(i){return n.push(i),t(i)},a=t(e);do a=a.bind(r);while(a.isSome());return n},L0=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0},$0=function(e,t){return L0(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},F0=8,Tv=9,Rv=11,sf=1,M0=3,Qr=function(e,t){var n=e.dom;if(n.nodeType!==sf)return!1;var r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Bv=function(e){return e.nodeType!==sf&&e.nodeType!==Tv&&e.nodeType!==Rv||e.childElementCount===0},U0=function(e,t){var n=t===void 0?document:t.dom;return Bv(n)?[]:Te(n.querySelectorAll(e),k.fromDom)},z0=function(e,t){var n=t===void 0?document:t.dom;return Bv(n)?h.none():h.from(n.querySelector(e)).map(k.fromDom)},Se=function(e,t){return e.dom===t.dom},H0=function(e,t){var n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},V0=function(e,t){return $0(e.dom,t.dom)},Un=function(e,t){return $t().browser.isIE()?V0(e,t):H0(e,t)};typeof window!="undefined"||Function("return this;")();var Ue=function(e){var t=e.dom.nodeName;return t.toLowerCase()},Dv=function(e){return e.dom.nodeType},Vi=function(e){return function(t){return Dv(t)===e}},q0=function(e){return Dv(e)===F0||Ue(e)==="#comment"},Kt=Vi(sf),Ft=Vi(M0),W0=Vi(Tv),j0=Vi(Rv),K0=function(e){return function(t){return Kt(t)&&Ue(t)===e}},_v=function(e){return k.fromDom(e.dom.ownerDocument)},Zr=function(e){return W0(e)?e:_v(e)},G0=function(e){return k.fromDom(Zr(e).dom.documentElement)},Ov=function(e){return k.fromDom(Zr(e).dom.defaultView)},Gt=function(e){return h.from(e.dom.parentNode).map(k.fromDom)},X0=function(e,t){for(var n=Re(t)?t:xe,r=e.dom,a=[];r.parentNode!==null&&r.parentNode!==void 0;){var i=r.parentNode,o=k.fromDom(i);if(a.push(o),n(o)===!0)break;r=i}return a},Y0=function(e){var t=function(n){return ve(n,function(r){return!Se(e,r)})};return Gt(e).map(Mt).map(t).getOr([])},hr=function(e){return h.from(e.dom.previousSibling).map(k.fromDom)},Ka=function(e){return h.from(e.dom.nextSibling).map(k.fromDom)},Pv=function(e){return Ui(Av(e,hr))},Iv=function(e){return Av(e,Ka)},Mt=function(e){return Te(e.dom.childNodes,k.fromDom)},qi=function(e,t){var n=e.dom.childNodes;return h.from(n[t]).map(k.fromDom)},Lv=function(e){return qi(e,0)},lf=function(e){return qi(e,e.dom.childNodes.length-1)},$v=function(e){return e.dom.childNodes.length},Q0=function(e){var t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return k.fromDom(t)},Fv=function(e){return j0(e)&&Ee(e.dom.host)},Mv=Re(Element.prototype.attachShadow)&&Re(Node.prototype.getRootNode),Z0=G(Mv),br=Mv?function(e){return k.fromDom(e.dom.getRootNode())}:Zr,cf=function(e){return Fv(e)?e:Q0(Zr(e))},J0=function(e){var t=br(e);return Fv(t)?h.some(t):h.none()},ew=function(e){return k.fromDom(e.dom.host)},tw=function(e){if(Z0()&&Ee(e.target)){var t=k.fromDom(e.target);if(Kt(t)&&nw(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return At(n)}}return h.from(e.target)},nw=function(e){return Ee(e.dom.shadowRoot)},Xt=function(e,t){var n=Gt(e);n.each(function(r){r.dom.insertBefore(t.dom,e.dom)})},Ga=function(e,t){var n=Ka(e);n.fold(function(){var r=Gt(e);r.each(function(a){et(a,t)})},function(r){Xt(r,t)})},Uv=function(e,t){var n=Lv(e);n.fold(function(){et(e,t)},function(r){e.dom.insertBefore(t.dom,r.dom)})},et=function(e,t){e.dom.appendChild(t.dom)},rw=function(e,t){Xt(e,t),et(t,e)},aw=function(e,t){X(t,function(n){Xt(e,n)})},Wi=function(e,t){X(t,function(n){et(e,n)})},vf=function(e){e.dom.textContent="",X(Mt(e),function(t){Qe(t)})},Qe=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},zv=function(e){var t=Mt(e);t.length>0&&aw(e,t),Qe(e)},Xa=function(e){var t=Ft(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var n=t.ownerDocument;return J0(k.fromDom(t)).fold(function(){return n.body.contains(t)},zc(Xa,ew))},Hv=function(e,t){var n=function(r,a){return Hv(e+r,t+a)};return{left:e,top:t,translate:n}},Jr=Hv,iw=function(e){var t=e.getBoundingClientRect();return Jr(t.left,t.top)},ji=function(e,t){return e!==void 0?e:t!==void 0?t:0},ow=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,a=t.documentElement;if(n===e.dom)return Jr(n.offsetLeft,n.offsetTop);var i=ji(r==null?void 0:r.pageYOffset,a.scrollTop),o=ji(r==null?void 0:r.pageXOffset,a.scrollLeft),u=ji(a.clientTop,n.clientTop),f=ji(a.clientLeft,n.clientLeft);return df(e).translate(o-f,i-u)},df=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?Jr(r.offsetLeft,r.offsetTop):Xa(e)?iw(t):Jr(0,0)},mf=function(e){var t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Jr(n,r)},Vv=function(e,t,n){var r=n!==void 0?n.dom:document,a=r.defaultView;a&&a.scrollTo(e,t)},qv=function(e,t){var n=$t().browser.isSafari();n&&Re(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},uw=function(e){var t=e===void 0?window:e;return $t().browser.isFirefox()?h.none():h.from(t.visualViewport)},Wv=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},jv=function(e){var t=e===void 0?window:e,n=t.document,r=mf(k.fromDom(n));return uw(t).fold(function(){var a=t.document.documentElement,i=a.clientWidth,o=a.clientHeight;return Wv(r.left,r.top,i,o)},function(a){return Wv(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height)})},Ya=function(e){return function(t){return!!t&&t.nodeType===e}},Ki=function(e){return!!e&&!Object.getPrototypeOf(e)},re=Ya(1),Ut=function(e){var t=e.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var r=n.nodeName.toLowerCase();return Xe(t,r)}return!1}},Gi=function(e,t){var n=t.toLowerCase().split(" ");return function(r){if(re(r))for(var a=0;a<n.length;a++){var i=r.ownerDocument.defaultView.getComputedStyle(r,null),o=i?i.getPropertyValue(e):null;if(o===n[a])return!0}return!1}},Kv=function(e){return function(t){return re(t)&&t.hasAttribute(e)}},fw=function(e,t){return function(n){return re(n)&&n.getAttribute(e)===t}},yr=function(e){return re(e)&&e.hasAttribute("data-mce-bogus")},sw=function(e){return re(e)&&e.getAttribute("data-mce-bogus")==="all"},ea=function(e){return re(e)&&e.tagName==="TABLE"},Gv=function(e){return function(t){return!!(re(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},pf=Ut(["textarea","input"]),Q=Ya(3),lw=Ya(8),gf=Ya(9),hf=Ya(11),_e=Ut(["br"]),cw=Ut(["img"]),sn=Gv("true"),Ae=Gv("false"),Xi=Ut(["td","th"]),zt=Ut(["video","audio","object","embed"]),Yi=function(e,t,n){return n===void 0&&(n=$C),e.exists(function(r){return n(r,t)})},vw=function(e){for(var t=[],n=function(a){t.push(a)},r=0;r<e.length;r++)e[r].each(n);return t},ht=function(e,t,n){return e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none()},dw=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?h.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):h.none()},mw=function(e,t){return e?h.some(t):h.none()},Qi=function(e){return e.style!==void 0&&Re(e.style.getPropertyValue)},Xv=function(e,t,n){if(Le(n)||Uc(n)||jr(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ln=function(e,t,n){Xv(e.dom,t,n)},zn=function(e,t){var n=e.dom;Be(t,function(r,a){Xv(n,a,r)})},Qa=function(e,t){var n=e.dom.getAttribute(t);return n===null?void 0:n},Yv=function(e,t){return h.from(Qa(e,t))},pw=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Hn=function(e,t){e.dom.removeAttribute(t)},gw=function(e){return jt(e.dom.attributes,function(t,n){return t[n.name]=n.value,t},{})},hw=function(e,t,n){if(!Le(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Qi(e)&&e.style.setProperty(t,n)},bw=function(e,t){var n=e.dom;Be(t,function(r,a){hw(n,a,r)})},Bn=function(e,t){var n=e.dom,r=window.getComputedStyle(n),a=r.getPropertyValue(t);return a===""&&!Xa(e)?Qv(n,t):a},Qv=function(e,t){return Qi(e)?e.style.getPropertyValue(t):""},bf=function(e,t){var n=e.dom,r=Qv(n,t);return h.from(r).filter(function(a){return a.length>0})},Zv=function(e){var t={},n=e.dom;if(Qi(n))for(var r=0;r<n.style.length;r++){var a=n.style.item(r);t[a]=n.style[a]}return t},yw=function(e){return e.dom.offsetWidth},Cw=$t().browser,Jv=function(e){return Ye(e,Kt)},ww=function(e){return Cw.isFirefox()&&Ue(e)==="table"?Jv(Mt(e)).filter(function(t){return Ue(t)==="caption"}).bind(function(t){return Jv(Iv(t)).map(function(n){var r=n.dom.offsetTop,a=t.dom.offsetTop,i=t.dom.offsetHeight;return r<=a?-i:0})}).getOr(0):0},ed=function(e,t){return e.children&&Xe(e.children,t)},Ew=function(e,t,n){var r=0,a=0,i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Bn(k.fromDom(e),"position")==="static"){var o=t.getBoundingClientRect();return r=o.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,a=o.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:r,y:a}}for(var u=t;u&&u!==n&&u.nodeType&&!ed(u,n);){var f=u;r+=f.offsetLeft||0,a+=f.offsetTop||0,u=f.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!ed(u,n);)r-=u.scrollLeft||0,a-=u.scrollTop||0,u=u.parentNode;a+=ww(k.fromDom(t))}return{x:r,y:a}},td={},nd={exports:td};(function(e,t,n,r){(function(a,i){typeof t=="object"&&typeof n!="undefined"?n.exports=i():typeof e=="function"&&e.amd?e(i):(a=typeof globalThis!="undefined"?globalThis:a||self,a.EphoxContactWrapper=i())})(this,function(){var a=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof RC!="undefined"?RC:typeof self!="undefined"?self:{},i={exports:{}};(function(s){(function(l){var c=setTimeout;function v(){}function d(C,x){return function(){C.apply(x,arguments)}}function m(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof C!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],S(C,this)}function p(C,x){for(;C._state===3;)C=C._value;if(C._state===0){C._deferreds.push(x);return}C._handled=!0,m._immediateFn(function(){var T=C._state===1?x.onFulfilled:x.onRejected;if(T===null){(C._state===1?g:y)(x.promise,C._value);return}var I;try{I=T(C._value)}catch(J){y(x.promise,J);return}g(x.promise,I)})}function g(C,x){try{if(x===C)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var T=x.then;if(x instanceof m){C._state=3,C._value=x,b(C);return}else if(typeof T=="function"){S(d(T,x),C);return}}C._state=1,C._value=x,b(C)}catch(I){y(C,I)}}function y(C,x){C._state=2,C._value=x,b(C)}function b(C){C._state===2&&C._deferreds.length===0&&m._immediateFn(function(){C._handled||m._unhandledRejectionFn(C._value)});for(var x=0,T=C._deferreds.length;x<T;x++)p(C,C._deferreds[x]);C._deferreds=null}function w(C,x,T){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof x=="function"?x:null,this.promise=T}function S(C,x){var T=!1;try{C(function(I){T||(T=!0,g(x,I))},function(I){T||(T=!0,y(x,I))})}catch(I){if(T)return;T=!0,y(x,I)}}m.prototype.catch=function(C){return this.then(null,C)},m.prototype.then=function(C,x){var T=new this.constructor(v);return p(this,new w(C,x,T)),T},m.all=function(C){var x=Array.prototype.slice.call(C);return new m(function(T,I){if(x.length===0)return T([]);var J=x.length;function q(ne,F){try{if(F&&(typeof F=="object"||typeof F=="function")){var V=F.then;if(typeof V=="function"){V.call(F,function($){q(ne,$)},I);return}}x[ne]=F,--J===0&&T(x)}catch($){I($)}}for(var D=0;D<x.length;D++)q(D,x[D])})},m.resolve=function(C){return C&&typeof C=="object"&&C.constructor===m?C:new m(function(x){x(C)})},m.reject=function(C){return new m(function(x,T){T(C)})},m.race=function(C){return new m(function(x,T){for(var I=0,J=C.length;I<J;I++)C[I].then(x,T)})},m._immediateFn=typeof setImmediate=="function"?function(C){setImmediate(C)}:function(C){c(C,0)},m._unhandledRejectionFn=function(x){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",x)},m._setImmediateFn=function(x){m._immediateFn=x},m._setUnhandledRejectionFn=function(x){m._unhandledRejectionFn=x},s.exports?s.exports=m:l.Promise||(l.Promise=m)})(a)})(i);var o=i.exports,u=function(){return typeof window!="undefined"?window:Function("return this;")()}(),f={boltExport:u.Promise||o};return f})})(void 0,td,nd);var yf=nd.exports.boltExport,Cf=function(e){var t=h.none(),n=[],r=function(s){return Cf(function(l){a(function(c){l(s(c))})})},a=function(s){o()?f(s):n.push(s)},i=function(s){o()||(t=h.some(s),u(n),n=[])},o=function(){return t.isSome()},u=function(s){X(s,f)},f=function(s){t.each(function(l){setTimeout(function(){s(l)},0)})};return e(i),{get:a,map:r,isReady:o}},Sw=function(e){return Cf(function(t){t(e)})},kw={nu:Cf,pure:Sw},xw=function(e){setTimeout(function(){throw e},0)},ta=function(e){var t=function(f){e().then(f,xw)},n=function(f){return ta(function(){return e().then(f)})},r=function(f){return ta(function(){return e().then(function(s){return f(s).toPromise()})})},a=function(f){return ta(function(){return e().then(function(){return f.toPromise()})})},i=function(){return kw.nu(t)},o=function(){var f=null;return ta(function(){return f===null&&(f=e()),f})},u=e;return{map:n,bind:r,anonBind:a,toLazy:i,toCached:o,toPromise:u,get:t}},Nw=function(e){return ta(function(){return new yf(e)})},Aw=function(e){return ta(function(){return yf.resolve(e)})},rd={nu:Nw,pure:Aw},Tw=function(e,t){return t(function(n){var r=[],a=0,i=function(o){return function(u){r[o]=u,a++,a>=e.length&&n(r)}};e.length===0?n([]):X(e,function(o,u){o.get(i(u))})})},Rw=function(e){return Tw(e,rd.nu)},na=function(e){var t=function(c){return na(e)},n=function(c){return na(e)},r=function(c){return na(c(e))},a=function(c){return na(e)},i=function(c){c(e)},o=function(c){return c(e)},u=function(c,v){return v(e)},f=function(c){return c(e)},s=function(c){return c(e)},l=function(){return h.some(e)};return{isValue:Fe,isError:xe,getOr:G(e),getOrThunk:G(e),getOrDie:G(e),or:t,orThunk:n,fold:u,map:r,mapError:a,each:i,bind:o,exists:f,forall:s,toOptional:l}},Za=function(e){var t=function(s){return s()},n=function(){return FC(String(e))()},r=wt,a=function(s){return s()},i=function(s){return Za(e)},o=function(s){return Za(s(e))},u=function(s){return Za(e)},f=function(s,l){return s(e)};return{isValue:xe,isError:Fe,getOr:wt,getOrThunk:t,getOrDie:n,or:r,orThunk:a,fold:f,map:i,mapError:o,each:le,bind:u,exists:xe,forall:Fe,toOptional:h.none}},Bw=function(e,t){return e.fold(function(){return Za(t)},na)},ad={value:na,error:Za,fromOption:Bw},Dw=function(e){if(!Lt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],n={};return X(e,function(r,a){var i=Gr(r);if(i.length!==1)throw new Error("one and only one name per case");var o=i[0],u=r[o];if(n[o]!==void 0)throw new Error("duplicate key detected:"+o);if(o==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Lt(u))throw new Error("case arguments must be an array");t.push(o),n[o]=function(){for(var f=[],s=0;s<arguments.length;s++)f[s]=arguments[s];var l=f.length;if(l!==u.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+u.length+" ("+u+"), got "+l);var c=function(v){var d=Gr(v);if(t.length!==d.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+d.join(","));var m=Ha(t,function(p){return Xe(d,p)});if(!m)throw new Error("Not all branches were specified when using match. Specified: "+d.join(", ")+`
Required: `+t.join(", "));return v[o].apply(null,f)};return{fold:function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];if(v.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+v.length);var m=v[a];return m.apply(null,f)},match:c,log:function(v){console.log(v,{constructors:t,constructor:o,params:f})}}}}),n},Vn={generate:Dw};Vn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var id=function(e){return e.fold(wt,wt)};function od(e,t,n,r,a){return e(n,r)?h.some(n):Re(a)&&a(n)?h.none():t(n,r,a)}var Ja=function(e,t,n){for(var r=e.dom,a=Re(n)?n:xe;r.parentNode;){r=r.parentNode;var i=k.fromDom(r);if(t(i))return h.some(i);if(a(i))break}return h.none()},Zi=function(e,t,n){var r=function(a,i){return i(a)};return od(r,Ja,e,t,n)},_w=function(e,t){var n=e.dom;return n.parentNode?Ow(k.fromDom(n.parentNode),function(r){return!Se(e,r)&&t(r)}):h.none()},Ow=function(e,t){var n=function(a){return t(k.fromDom(a))},r=Ye(e.dom.childNodes,n);return r.map(k.fromDom)},Ji=function(e,t,n){return Ja(e,function(r){return Qr(r,t)},n)},eo=function(e,t){return z0(t,e)},wf=function(e,t,n){var r=function(a,i){return Qr(a,i)};return od(r,Ji,e,t,n)},tt=window.Promise?window.Promise:yf,Ef,Pw=function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],a=function(o){window.setTimeout(o,0)},i=0;i<r.length&&!n;i++)n=window[r[i]+"RequestAnimationFrame"];n||(n=a),n(e,t)},Sf=function(e,t){return typeof t!="number"&&(t=0),setTimeout(e,t)},ud=function(e,t){return typeof t!="number"&&(t=1),setInterval(e,t)},Iw=function(e){return clearTimeout(e)},Lw=function(e){return clearInterval(e)},fd=function(e,t){var n,r=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];clearTimeout(n),n=Sf(function(){e.apply(this,a)},t)};return r.stop=function(){clearTimeout(n)},r},nt={requestAnimationFrame:function(e,t){if(Ef){Ef.then(e);return}Ef=new tt(function(n){t||(t=document.body),Pw(n,t)}).then(e)},setTimeout:Sf,setInterval:ud,setEditorTimeout:function(e,t,n){return Sf(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=ud(function(){e.removed?clearInterval(r):t()},n);return r},debounce:fd,throttle:fd,clearInterval:Lw,clearTimeout:Iw},sd=function(e,t){t===void 0&&(t={});var n=0,r={},a=k.fromDom(e),i=Zr(a),o=t.maxLoadTime||5e3,u=function(g){t.referrerPolicy=g},f=function(g){et(cf(a),g)},s=function(g){var y=cf(a);eo(y,"#"+g).each(Qe)},l=function(g){return Me(r,g).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},c=function(g,y,b){var w,S=B._addCacheSuffix(g),C=l(S);r[S]=C,C.count++;var x=function(F,V){for(var $=F.length;$--;)F[$]();C.status=V,C.passed=[],C.failed=[],w&&(w.onload=null,w.onerror=null,w=null)},T=function(){return x(C.passed,2)},I=function(){return x(C.failed,3)},J=function(F,V){F()||(Date.now()-ne<o?nt.setTimeout(V):I())},q=function(){J(function(){for(var F=e.styleSheets,V=F.length;V--;){var $=F[V],H=$.ownerNode;if(H&&H.id===w.id)return T(),!0}return!1},q)};if(y&&C.passed.push(y),b&&C.failed.push(b),C.status!==1){if(C.status===2){T();return}if(C.status===3){I();return}C.status=1;var D=k.fromTag("link",i.dom);zn(D,{rel:"stylesheet",type:"text/css",id:C.id});var ne=Date.now();t.contentCssCors&&ln(D,"crossOrigin","anonymous"),t.referrerPolicy&&ln(D,"referrerpolicy",t.referrerPolicy),w=D.dom,w.onload=q,w.onerror=I,f(D),ln(D,"href",S)}},v=function(g){return rd.nu(function(y){c(g,mr(y,G(ad.value(g))),mr(y,G(ad.error(g))))})},d=function(g,y,b){Rw(Te(g,v)).get(function(w){var S=qc(w,function(C){return C.isValue()});S.fail.length>0?b(S.fail.map(id)):y(S.pass.map(id))})},m=function(g){var y=B._addCacheSuffix(g);Me(r,y).each(function(b){var w=--b.count;w===0&&(delete r[y],s(b.id))})},p=function(g){X(g,function(y){m(y)})};return{load:c,loadAll:d,unload:m,unloadAll:p,_setReferrerPolicy:u}},$w=function(){var e=new WeakMap,t=function(n,r){var a=br(n),i=a.dom;return h.from(e.get(i)).getOrThunk(function(){var o=sd(i,r);return e.set(i,o),o})};return{forElement:t}},ld=$w(),Ve=function(){function e(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},e.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},e.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},e.prototype.findSibling=function(t,n,r,a){var i,o;if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){if(i=t[r],i)return i;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[r],i)return i}}},e.prototype.findPreviousNode=function(t,n,r,a){var i,o,u;if(t){if(i=t[r],this.rootNode&&i===this.rootNode)return;if(i){if(!a){for(u=i[n];u;u=u[n])if(!u[n])return u}return i}if(o=t.parentNode,o&&o!==this.rootNode)return o}},e}(),Fw=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Mw=["td","th"],Uw=["thead","tbody","tfoot"],zw=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Hw=["h1","h2","h3","h4","h5","h6"],Vw=["li","dd","dt"],qw=["ul","ol","dl"],Ww=["pre","script","textarea","style"],qn=function(e){var t;return function(n){return t=t||jC(e,Fe),de(t,Ue(n))}},jw=qn(Hw),cn=qn(Fw),Kw=function(e){return Ue(e)==="table"},kf=function(e){return Kt(e)&&!cn(e)},ra=function(e){return Kt(e)&&Ue(e)==="br"},cd=qn(zw),xf=qn(qw),ei=qn(Vw),Gw=qn(Uw),to=qn(Mw),no=qn(Ww),Xw=function(e,t,n){return Ji(e,t,n).isSome()},Nf="\uFEFF",Et=" ",Yw=function(e){return e===Nf},Qw=function(e){return e.replace(/\uFEFF/g,"")},Ze=Nf,ro=Yw,Wn=Qw,Zw=re,aa=Q,ia=function(e){return aa(e)&&(e=e.parentNode),Zw(e)&&e.hasAttribute("data-mce-caret")},oa=function(e){return aa(e)&&ro(e.data)},Rt=function(e){return ia(e)||oa(e)},vd=function(e){return e.firstChild!==e.lastChild||!_e(e.firstChild)},Jw=function(e,t){var n=e.ownerDocument,r=n.createTextNode(Ze),a=e.parentNode;if(t){var i=e.previousSibling;if(aa(i)){if(Rt(i))return i;if(io(i))return i.splitText(i.data.length-1)}a.insertBefore(r,e)}else{var i=e.nextSibling;if(aa(i)){if(Rt(i))return i;if(ao(i))return i.splitText(1),i}e.nextSibling?a.insertBefore(r,e.nextSibling):a.appendChild(r)}return r},Af=function(e){var t=e.container();return Q(t)?t.data.charAt(e.offset())===Ze||e.isAtStart()&&oa(t.previousSibling):!1},Tf=function(e){var t=e.container();return Q(t)?t.data.charAt(e.offset()-1)===Ze||e.isAtEnd()&&oa(t.nextSibling):!1},eE=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},tE=function(e,t,n){var r=t.ownerDocument,a=r.createElement(e);a.setAttribute("data-mce-caret",n?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(eE());var i=t.parentNode;return n?i.insertBefore(a,t):t.nextSibling?i.insertBefore(a,t.nextSibling):i.appendChild(a),a},ao=function(e){return aa(e)&&e.data[0]===Ze},io=function(e){return aa(e)&&e.data[e.data.length-1]===Ze},nE=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];yr(n)&&n.parentNode.removeChild(n)},Rf=function(e){return e&&e.hasAttribute("data-mce-caret")?(nE(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},dd=function(e){return ia(e.startContainer)},md=sn,rE=Ae,aE=_e,iE=Q,oE=Ut(["script","style","textarea"]),pd=Ut(["img","input","textarea","hr","iframe","video","audio","object","embed"]),uE=Ut(["table"]),fE=Rt,vn=function(e){return fE(e)?!1:iE(e)?!oE(e.parentNode):pd(e)||aE(e)||uE(e)||Bf(e)},sE=function(e){return re(e)&&e.getAttribute("unselectable")==="true"},Bf=function(e){return sE(e)===!1&&rE(e)},lE=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Bf(e))return!1;if(md(e))return!0}return!0},cE=function(e){return Bf(e)?jt(un(e.getElementsByTagName("*")),function(t,n){return t||md(n)},!1)!==!0:!1},vE=function(e){return pd(e)||cE(e)},oo=function(e,t){return vn(e)&&lE(e,t)},dE=/^[ \t\r\n]*$/,Cr=function(e){return dE.test(e)},mE=function(e,t){var n=k.fromDom(t),r=k.fromDom(e);return Xw(r,"pre,code",K(Se,n))},pE=function(e,t){return Q(e)&&Cr(e.data)&&mE(e,t)===!1},gE=function(e){return re(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},uo=function(e,t){return vn(e)&&pE(e,t)===!1||gE(e)||hE(e)},hE=Kv("data-mce-bookmark"),bE=Kv("data-mce-bogus"),yE=fw("data-mce-bogus","all"),CE=function(e,t){var n=0;if(uo(e,e))return!1;var r=e.firstChild;if(!r)return!0;var a=new Ve(r,e);do{if(t){if(yE(r)){r=a.next(!0);continue}if(bE(r)){r=a.next();continue}}if(_e(r)){n++,r=a.next();continue}if(uo(r,e))return!1;r=a.next()}while(r);return n<=1},qe=function(e,t){return t===void 0&&(t=!0),CE(e.dom,t)},wE=function(e){return e.nodeName.toLowerCase()==="span"},gd=function(e,t){return Ee(e)&&(uo(e,t)||kf(k.fromDom(e)))},EE=function(e,t){var n=new Ve(e,t).prev(!1),r=new Ve(e,t).next(!1),a=Ct(n)||gd(n,t),i=Ct(r)||gd(r,t);return a&&i},hd=function(e){return wE(e)&&e.getAttribute("data-mce-type")==="bookmark"},SE=function(e,t){return Q(e)&&e.data.length>0&&EE(e,t)},kE=function(e){return re(e)?e.childNodes.length>0:!1},xE=function(e){return hf(e)||gf(e)},Df=function(e,t,n){var r=n||t;if(re(t)&&hd(t))return t;for(var a=t.childNodes,i=a.length-1;i>=0;i--)Df(e,a[i],r);if(re(t)){var o=t.childNodes;o.length===1&&hd(o[0])&&t.parentNode.insertBefore(o[0],t)}return!xE(t)&&!uo(t,r)&&!kE(t)&&!SE(t,r)&&e.remove(t),t},NE=B.makeMap,fo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,so=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AE=/[<>&\"\']/g,TE=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,RE={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},wr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},BE={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},DE=function(e){var t=k.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},bd=function(e,t){var n,r,a,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),wr[r]||(a="&"+e[n+1]+";",i[r]=a,i[a]=r);return i}},_f=bd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),yd=function(e,t){return e.replace(t?fo:so,function(n){return wr[n]||n})},_E=function(e){return(""+e).replace(AE,function(t){return wr[t]||t})},Cd=function(e,t){return e.replace(t?fo:so,function(n){return n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":wr[n]||"&#"+n.charCodeAt(0)+";"})},Of=function(e,t,n){return n=n||_f,e.replace(t?fo:so,function(r){return wr[r]||n[r]||r})},OE=function(e,t){var n=bd(t)||_f,r=function(o,u){return o.replace(u?fo:so,function(f){return wr[f]!==void 0?wr[f]:n[f]!==void 0?n[f]:f.length>1?"&#"+((f.charCodeAt(0)-55296)*1024+(f.charCodeAt(1)-56320)+65536)+";":"&#"+f.charCodeAt(0)+";"})},a=function(o,u){return Of(o,u,n)},i=NE(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?a:Of:i.numeric?Cd:yd},PE=function(e){return e.replace(TE,function(t,n){return n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):RE[n]||String.fromCharCode(n)):BE[t]||_f[t]||DE(t)})},jn={encodeRaw:yd,encodeAllRaw:_E,encodeNumeric:Cd,encodeNamed:Of,getEncodeFunc:OE,decode:PE},Kn={},IE={},ua=B.makeMap,rt=B.each,Pf=B.extend,wd=B.explode,LE=B.inArray,Je=function(e,t){return e=B.trim(e),e?e.split(t||" "):[]},Ed=function(e,t){var n=ua(e," ",ua(e.toUpperCase()," "));return Pf(n,t)},Sd=function(e){return Ed("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},$E=function(e){var t={},n,r,a,i,o,u,f=function(l,c,v){var d,m,p,g=function(b,w){var S={},C,x;for(C=0,x=b.length;C<x;C++)S[b[C]]=w||{};return S};v=v||[],c=c||"",typeof v=="string"&&(v=Je(v));var y=Je(l);for(d=y.length;d--;)m=Je([n,c].join(" ")),p={attributes:g(m),attributesOrder:m,children:g(v,IE)},t[y[d]]=p},s=function(l,c){var v,d,m,p,g=Je(l);v=g.length;for(var y=Je(c);v--;)for(d=t[g[v]],m=0,p=y.length;m<p;m++)d.attributes[y[m]]={},d.attributesOrder.push(y[m])};return Kn[e]?Kn[e]:(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(n+=" xml:lang",u="acronym applet basefont big font strike tt",a=[a,u].join(" "),rt(Je(u),function(l){f(l,"",a)}),o="center dir isindex noframes",r=[r,o].join(" "),i=[r,a].join(" "),rt(Je(o),function(l){f(l,"",i)})),i=i||[r,a].join(" "),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),f("address dt dd div caption","",i),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),f("blockquote","cite",i),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",i),f("dl","","dt dd"),f("a","href target rel media hreflang type",a),f("q","cite",a),f("ins del","cite datetime",i),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",i),f("embed","src type width height"),f("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),f("param","name value"),f("map","name",[i,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",i),f("th","colspan rowspan headers scope abbr",i),f("form","accept-charset action autocomplete enctype method name novalidate target",i),f("fieldset","disabled form name",[i,"legend"].join(" ")),f("label","form for",a),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:a),f("select","disabled form multiple name required size","option optgroup"),f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[i,"li"].join(" ")),f("noscript","",i),e!=="html4"&&(f("wbr"),f("ruby","",[a,"rt rp"].join(" ")),f("figcaption","",i),f("mark rt rp summary bdi","",a),f("canvas","width height",i),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[a,"option"].join(" ")),f("article section nav aside main header footer","",i),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[i,"figcaption"].join(" ")),f("time","datetime",a),f("dialog","open",i),f("command","type label icon disabled checked radiogroup command"),f("output","for form name",a),f("progress","value max",a),f("meter","value min max low high optimum",a),f("details","open",[i,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),e!=="html4"&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allowfullscreen loading")),rt(Je("a form meter progress dfn"),function(l){t[l]&&delete t[l].children[l]}),delete t.caption.children.table,delete t.script,Kn[e]=t,t)},If=function(e,t){var n;return e&&(n={},typeof e=="string"&&(e={"*":e}),rt(e,function(r,a){n[a]=n[a.toUpperCase()]=t==="map"?ua(r,/[, ]/):wd(r,/[, ]/)})),n},Gn=function(e){var t={},n={},r=[],a={},i={},o=function(O,U,Z){var N=e[O];return N?N=ua(N,/[, ]/,ua(N.toUpperCase(),/[, ]/)):(N=Kn[O],N||(N=Ed(U,Z),Kn[O]=N)),N};e=e||{};var u=$E(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var f=If(e.valid_styles),s=If(e.invalid_styles,"map"),l=If(e.valid_classes,"map"),c=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),v=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),d=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),m=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),p="td th iframe video audio object script code",g=o("non_empty_elements",p+" pre",d),y=o("move_caret_before_on_enter_elements",p+" table",d),b=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),w=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",b),S=o("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");rt((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(O){i[O]=new RegExp("</"+O+"[^>]*>","gi")});var C=function(O){return new RegExp("^"+O.replace(/([?+*])/g,".$1")+"$")},x=function(O){var U,Z,N,P,L,Y,ee,pe,Oe,ze,qt,ut,ct,Pe,Fn,He,rn,xn,Ne=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,be=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Ie=/[*?+]/;if(O){var an=Je(O,",");for(t["@"]&&(He=t["@"].attributes,rn=t["@"].attributesOrder),U=0,Z=an.length;U<Z;U++)if(L=Ne.exec(an[U]),L){if(Pe=L[1],Oe=L[2],Fn=L[3],pe=L[5],ut={},ct=[],Y={attributes:ut,attributesOrder:ct},Pe==="#"&&(Y.paddEmpty=!0),Pe==="-"&&(Y.removeEmpty=!0),L[4]==="!"&&(Y.removeEmptyAttrs=!0),He&&(Be(He,function(Nn,Wt){ut[Wt]=Nn}),ct.push.apply(ct,rn)),pe){for(pe=Je(pe,"|"),N=0,P=pe.length;N<P;N++)if(L=be.exec(pe[N]),L){if(ee={},qt=L[1],ze=L[2].replace(/[\\:]:/g,":"),Pe=L[3],xn=L[4],qt==="!"&&(Y.attributesRequired=Y.attributesRequired||[],Y.attributesRequired.push(ze),ee.required=!0),qt==="-"){delete ut[ze],ct.splice(LE(ct,ze),1);continue}Pe&&(Pe==="="&&(Y.attributesDefault=Y.attributesDefault||[],Y.attributesDefault.push({name:ze,value:xn}),ee.defaultValue=xn),Pe===":"&&(Y.attributesForced=Y.attributesForced||[],Y.attributesForced.push({name:ze,value:xn}),ee.forcedValue=xn),Pe==="<"&&(ee.validValues=ua(xn,"?"))),Ie.test(ze)?(Y.attributePatterns=Y.attributePatterns||[],ee.pattern=C(ze),Y.attributePatterns.push(ee)):(ut[ze]||ct.push(ze),ut[ze]=ee)}}!He&&Oe==="@"&&(He=ut,rn=ct),Fn&&(Y.outputName=Oe,t[Fn]=Y),Ie.test(Oe)?(Y.pattern=C(Oe),r.push(Y)):t[Oe]=Y}}},T=function(O){t={},r=[],x(O),rt(u,function(U,Z){n[Z]=U.children})},I=function(O){var U=/^(~)?(.+)$/;O&&(Kn.text_block_elements=Kn.block_elements=null,rt(Je(O,","),function(Z){var N=U.exec(Z),P=N[1]==="~",L=P?"span":"div",Y=N[2];if(n[Y]=n[L],a[Y]=L,P||(w[Y.toUpperCase()]={},w[Y]={}),!t[Y]){var ee=t[L];ee=Pf({},ee),delete ee.removeEmptyAttrs,delete ee.removeEmpty,t[Y]=ee}rt(n,function(pe,Oe){pe[L]&&(n[Oe]=pe=Pf({},n[Oe]),pe[Y]=pe[L])})}))},J=function(O){var U=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Kn[e.schema]=null,O&&rt(Je(O,","),function(Z){var N=U.exec(Z),P,L;N&&(L=N[1],L?P=n[N[2]]:P=n[N[2]]={"#comment":{}},P=n[N[2]],rt(Je(N[3],"|"),function(Y){L==="-"?delete P[Y]:P[Y]={}}))})},q=function(O){var U=t[O],Z;if(U)return U;for(Z=r.length;Z--;)if(U=r[Z],U.pattern.test(O))return U};e.valid_elements?T(e.valid_elements):(rt(u,function(O,U){t[U]={attributes:O.attributes,attributesOrder:O.attributesOrder},n[U]=O.children}),e.schema!=="html5"&&rt(Je("strong/b em/i"),function(O){var U=Je(O,"/");t[U[1]].outputName=U[0]}),rt(S,function(O,U){t[U]&&(e.padd_empty_block_inline_children&&(t[U].paddInEmptyBlock=!0),t[U].removeEmpty=!0)}),rt(Je("ol ul blockquote a table tbody"),function(O){t[O]&&(t[O].removeEmpty=!0)}),rt(Je("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(O){t[O].paddEmpty=!0}),rt(Je("span"),function(O){t[O].removeEmptyAttrs=!0})),I(e.custom_elements),J(e.valid_children),x(e.extended_valid_elements),J("+ol[ul|ol],+ul[ul|ol]"),rt({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(O,U){t[U]&&(t[U].parentsRequired=Je(O))}),e.invalid_elements&&rt(wd(e.invalid_elements),function(O){t[O]&&delete t[O]}),q("span")||x("span[!data-mce-type|*]");var D=G(f),ne=G(s),F=G(l),V=G(m),$=G(w),H=G(b),j=G(S),_=G(d),W=G(v),fe=G(g),ge=G(y),se=G(c),Ge=G(i),we=function(O,U){var Z=n[O.toLowerCase()];return!!(Z&&Z[U.toLowerCase()])},ot=function(O,U){var Z,N,P=q(O);if(P)if(U){if(P.attributes[U])return!0;if(Z=P.attributePatterns,Z){for(N=Z.length;N--;)if(Z[N].pattern.test(O))return!0}}else return!0;return!1},yt=G(a);return{children:n,elements:t,getValidStyles:D,getValidClasses:F,getBlockElements:$,getInvalidStyles:ne,getShortEndedElements:_,getTextBlockElements:H,getTextInlineElements:j,getBoolAttrs:V,getElementRule:q,getSelfClosingElements:W,getNonEmptyElements:fe,getMoveCaretBeforeOnEnterElements:ge,getWhiteSpaceElements:se,getSpecialElements:Ge,isValidChild:we,isValid:ot,getCustomElements:yt,addValidElements:x,setValidElements:T,addCustomElements:I,addValidChildren:J}},kd=function(e,t,n,r){var a=function(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i};return"#"+a(t)+a(n)+a(r)},Lf=function(e,t){var n=this,r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,u,f={},s,l,c=Nf;e=e||{},t&&(s=t.getValidStyles(),l=t.getInvalidStyles());var v=(`\\" \\' \\; \\: ; : `+c).split(" ");for(u=0;u<v.length;u++)f[v[u]]=c+u,f[c+u]=v[u];return{toHex:function(d){return d.replace(r,kd)},parse:function(d){var m={},p,g,y,b,w=e.url_converter,S=e.url_converter_scope||n,C=function(F,V,$){var H=m[F+"-top"+V];if(H){var j=m[F+"-right"+V];if(j){var _=m[F+"-bottom"+V];if(_){var W=m[F+"-left"+V];if(W){var fe=[H,j,_,W];for(u=fe.length-1;u--&&fe[u]===fe[u+1];);u>-1&&$||(m[F+V]=u===-1?fe[0]:fe.join(" "),delete m[F+"-top"+V],delete m[F+"-right"+V],delete m[F+"-bottom"+V],delete m[F+"-left"+V])}}}}},x=function(F){var V=m[F],$;if(V){for(V=V.split(" "),$=V.length;$--;)if(V[$]!==V[0])return!1;return m[F]=V[0],!0}},T=function(F,V,$,H){x(V)&&x($)&&x(H)&&(m[F]=m[V]+" "+m[$]+" "+m[H],delete m[V],delete m[$],delete m[H])},I=function(F){return b=!0,f[F]},J=function(F,V){return b&&(F=F.replace(/\uFEFF[0-9]/g,function($){return f[$]})),V||(F=F.replace(/\\([\'\";:])/g,"$1")),F},q=function(F){return String.fromCharCode(parseInt(F.slice(1),16))},D=function(F){return F.replace(/\\[0-9a-f]+/gi,q)},ne=function(F,V,$,H,j,_){if(j=j||_,j)return j=J(j),"'"+j.replace(/\'/g,"\\'")+"'";if(V=J(V||$||H),!e.allow_script_urls){var W=V.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(W)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(W))return""}return w&&(V=w.call(S,V,"style")),"url('"+V.replace(/\'/g,"\\'")+"')"};if(d){for(d=d.replace(/[\u0000-\u001F]/g,""),d=d.replace(/\\[\"\';:\uFEFF]/g,I).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(F){return F.replace(/[;:]/g,I)});p=i.exec(d);)if(i.lastIndex=p.index+p[0].length,g=p[1].replace(o,"").toLowerCase(),y=p[2].replace(o,""),g&&y){if(g=D(g),y=D(y),g.indexOf(c)!==-1||g.indexOf('"')!==-1||!e.allow_script_urls&&(g==="behavior"||/expression\s*\(|\/\*|\*\//.test(y)))continue;g==="font-weight"&&y==="700"?y="bold":(g==="color"||g==="background-color")&&(y=y.toLowerCase()),y=y.replace(r,kd),y=y.replace(a,ne),m[g]=b?J(y,!0):y}C("border","",!0),C("border","-width"),C("border","-color"),C("border","-style"),C("padding",""),C("margin",""),T("border","border-width","border-style","border-color"),m.border==="medium none"&&delete m.border,m["border-image"]==="none"&&delete m["border-image"]}return m},serialize:function(d,m){var p="",g=function(b){var w,S=s[b];if(S)for(var C=0,x=S.length;C<x;C++)b=S[C],w=d[b],w&&(p+=(p.length>0?" ":"")+b+": "+w+";")},y=function(b,w){var S=l["*"];return S&&S[b]?!1:(S=l[w],!(S&&S[b]))};return m&&s?(g("*"),g(m)):Be(d,function(b,w){b&&(!l||y(w,m))&&(p+=(p.length>0?" ":"")+w+": "+b+";")}),p}}},FE={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},$f=function(e){return e instanceof Event||Re(e.initEvent)},ME=function(e){return e.isDefaultPrevented===Fe||e.isDefaultPrevented===xe},UE=function(e){return on(e.preventDefault)||$f(e)},zE=function(e,t){var n=t!=null?t:{};for(var r in e)de(FE,r)||(n[r]=e[r]);return Ee(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n},xd=function(e,t,n,r){var a,i=zE(t,r);return i.type=e,on(i.target)&&(i.target=(a=i.srcElement)!==null&&a!==void 0?a:n),UE(t)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=Fe,Re(t.preventDefault)?t.preventDefault():$f(t)&&(t.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=Fe,Re(t.stopPropagation)?t.stopPropagation():$f(t)&&(t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Fe,i.stopPropagation()},ME(i)||(i.isDefaultPrevented=i.defaultPrevented===!0?Fe:xe,i.isPropagationStopped=i.cancelBubble===!0?Fe:xe,i.isImmediatePropagationStopped=xe)),i},HE="mce-data-",VE=/^(?:mouse|contextmenu)|click/,Ff=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},lo=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},qE=function(e){return Ee(e)&&VE.test(e.type)},fa=function(e,t){var n=xd(e.type,e,document,t);if(qE(e)&&Ct(e.pageX)&&!Ct(e.clientX)){var r=n.target.ownerDocument||document,a=r.documentElement,i=r.body,o=n;o.pageX=e.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)}return Ct(n.metaKey)&&(n.metaKey=!1),n},WE=function(e,t,n){var r=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}var i=function(){return r.readyState==="complete"||r.readyState==="interactive"&&r.body},o=function(){lo(e,"DOMContentLoaded",o),lo(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};i()?o():Ff(e,"DOMContentLoaded",o),n.domLoaded||Ff(e,"load",o)},sa=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=HE+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(t,n,r,a){var i=this,o,u,f,s,l,c,v,d=window,m=function(g){i.executeHandlers(fa(g||d.event),o)};if(!(!t||t.nodeType===3||t.nodeType===8)){t[i.expando]?o=t[i.expando]:(o=i.count++,t[i.expando]=o,i.events[o]={}),a=a||t;var p=n.split(" ");for(f=p.length;f--;){if(s=p[f],c=m,l=v=!1,s==="DOMContentLoaded"&&(s="ready"),i.domLoaded&&s==="ready"&&t.readyState==="complete"){r.call(a,fa({type:s}));continue}i.hasMouseEnterLeave||(l=i.mouseEnterLeave[s],l&&(c=function(g){var y=g.currentTarget,b=g.relatedTarget;if(b&&y.contains)b=y.contains(b);else for(;b&&b!==y;)b=b.parentNode;b||(g=fa(g||d.event),g.type=g.type==="mouseout"?"mouseleave":"mouseenter",g.target=y,i.executeHandlers(g,o))})),!i.hasFocusIn&&(s==="focusin"||s==="focusout")&&(v=!0,l=s==="focusin"?"focus":"blur",c=function(g){g=fa(g||d.event),g.type=g.type==="focus"?"focusin":"focusout",i.executeHandlers(g,o)}),u=i.events[o][s],u?s==="ready"&&i.domLoaded?r(fa({type:s})):u.push({func:r,scope:a}):(i.events[o][s]=u=[{func:r,scope:a}],u.fakeName=l,u.capture=v,u.nativeHandler=c,s==="ready"?WE(t,c,i):Ff(t,l||s,c,v))}return t=u=null,r}},e.prototype.unbind=function(t,n,r){var a,i,o,u,f;if(!t||t.nodeType===3||t.nodeType===8)return this;var s=t[this.expando];if(s){if(f=this.events[s],n){var l=n.split(" ");for(i=l.length;i--;)if(u=l[i],a=f[u],a){if(r){for(o=a.length;o--;)if(a[o].func===r){var c=a.nativeHandler,v=a.fakeName,d=a.capture;a=a.slice(0,o).concat(a.slice(o+1)),a.nativeHandler=c,a.fakeName=v,a.capture=d,f[u]=a}}(!r||a.length===0)&&(delete f[u],lo(t,a.fakeName||u,a.nativeHandler,a.capture))}}else Be(f,function(m,p){lo(t,m.fakeName||p,m.nativeHandler,m.capture)}),f={};for(u in f)if(de(f,u))return this;delete this.events[s];try{delete t[this.expando]}catch(m){t[this.expando]=null}}return this},e.prototype.fire=function(t,n,r){var a;if(!t||t.nodeType===3||t.nodeType===8)return this;var i=fa({type:n,target:t},r);do a=t[this.expando],a&&this.executeHandlers(i,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!i.isPropagationStopped());return this},e.prototype.clean=function(t){var n,r;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),r=t.getElementsByTagName("*"),n=r.length;n--;)t=r[n],t[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,n){var r=this.events[n],a=r&&r[t.type];if(a)for(var i=0,o=a.length;i<o;i++){var u=a[i];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},e.Event=new e,e}(),We,ye,co,Nd,ti,Mf,Ad,vo,Xn,la,Yn,Bt,mo,dn,Qn,ca,jE,ni,at="sizzle"+-new Date,Yt=window.document,mn=0,KE=0,Td=Vf(),Rd=Vf(),Bd=Vf(),Uf=function(e,t){return e===t&&(la=!0),0},po="undefined",Dd=1<<31,GE={}.hasOwnProperty,Zn=[],XE=Zn.pop,YE=Zn.push,Jn=Zn.push,_d=Zn.slice,Er=Zn.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},QE="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",De="[\\x20\\t\\r\\n\\f]",Sr="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Od="\\["+De+"*("+Sr+")(?:"+De+"*([*^$|!~]?=)"+De+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Sr+"))|)"+De+"*\\]",Pd=":("+Sr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Od+")*)|.*)\\)|)",go=new RegExp("^"+De+"+|((?:^|[^\\\\])(?:\\\\.)*)"+De+"+$","g"),ZE=new RegExp("^"+De+"*,"+De+"*"),JE=new RegExp("^"+De+"*([>+~]|"+De+")"+De+"*"),eS=new RegExp("="+De+`*([^\\]'"]*?)`+De+"*\\]","g"),tS=new RegExp(Pd),nS=new RegExp("^"+Sr+"$"),ho={ID:new RegExp("^#("+Sr+")"),CLASS:new RegExp("^\\.("+Sr+")"),TAG:new RegExp("^("+Sr+"|[*])"),ATTR:new RegExp("^"+Od),PSEUDO:new RegExp("^"+Pd),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+De+"*(even|odd|(([+-]|)(\\d*)n|)"+De+"*(?:([+-]|)"+De+"*(\\d+)|))"+De+"*\\)|)","i"),bool:new RegExp("^(?:"+QE+")$","i"),needsContext:new RegExp("^"+De+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+De+"*((?:-\\d)?\\d*)"+De+"*\\)|)(?=[^-]|$)","i")},rS=/^(?:input|select|textarea|button)$/i,aS=/^h\d$/i,zf=/^[^{]+\{\s*\[native \w/,iS=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Hf=/[+~]/,oS=/'|\\/g,er=new RegExp("\\\\([\\da-f]{1,6}"+De+"?|("+De+")|.)","ig"),tr=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{Jn.apply(Zn=_d.call(Yt.childNodes),Yt.childNodes),Zn[Yt.childNodes.length].nodeType}catch(e){Jn={apply:Zn.length?function(t,n){YE.apply(t,_d.call(n))}:function(t,n){for(var r=t.length,a=0;t[r++]=n[a++];);t.length=r-1}}}var he=function(e,t,n,r){var a,i,o,u,f,s,l,c,v,d;if((t?t.ownerDocument||t:Yt)!==Bt&&Yn(t),t=t||Bt,n=n||[],!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(dn&&!r){if(a=iS.exec(e))if(o=a[1]){if(u===9)if(i=t.getElementById(o),i&&i.parentNode){if(i.id===o)return n.push(i),n}else return n;else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(o))&&ni(t,i)&&i.id===o)return n.push(i),n}else{if(a[2])return Jn.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&We.getElementsByClassName)return Jn.apply(n,t.getElementsByClassName(o)),n}if(We.qsa&&(!Qn||!Qn.test(e))){if(c=l=at,v=t,d=u===9&&e,u===1&&t.nodeName.toLowerCase()!=="object"){for(s=ti(e),(l=t.getAttribute("id"))?c=l.replace(oS,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",f=s.length;f--;)s[f]=c+bo(s[f]);v=Hf.test(e)&&qf(t.parentNode)||t,d=s.join(",")}if(d)try{return Jn.apply(n,v.querySelectorAll(d)),n}catch(m){}finally{l||t.removeAttribute("id")}}}return Ad(e.replace(go,"$1"),t,n,r)};function Vf(){var e=[];function t(n,r){return e.push(n+" ")>ye.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function Qt(e){return e[at]=!0,e}function Id(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||Dd)-(~e.sourceIndex||Dd);if(r)return r;if(n){for(;n=n.nextSibling;)if(n===t)return-1}return e?1:-1}function uS(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function fS(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function kr(e){return Qt(function(t){return t=+t,Qt(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function qf(e){return e&&typeof e.getElementsByTagName!==po&&e}We=he.support={},Nd=he.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},Yn=he.setDocument=function(e){var t,n=e?e.ownerDocument||e:Yt,r=n.defaultView;function a(i){try{return i.top}catch(o){}return null}return n===Bt||n.nodeType!==9||!n.documentElement?Bt:(Bt=n,mo=n.documentElement,dn=!Nd(n),r&&r!==a(r)&&(r.addEventListener?r.addEventListener("unload",function(){Yn()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Yn()})),We.attributes=!0,We.getElementsByTagName=!0,We.getElementsByClassName=zf.test(n.getElementsByClassName),We.getById=!0,ye.find.ID=function(i,o){if(typeof o.getElementById!==po&&dn){var u=o.getElementById(i);return u&&u.parentNode?[u]:[]}},ye.filter.ID=function(i){var o=i.replace(er,tr);return function(u){return u.getAttribute("id")===o}},ye.find.TAG=We.getElementsByTagName?function(i,o){if(typeof o.getElementsByTagName!==po)return o.getElementsByTagName(i)}:function(i,o){var u,f=[],s=0,l=o.getElementsByTagName(i);if(i==="*"){for(;u=l[s++];)u.nodeType===1&&f.push(u);return f}return l},ye.find.CLASS=We.getElementsByClassName&&function(i,o){if(dn)return o.getElementsByClassName(i)},ca=[],Qn=[],We.disconnectedMatch=!0,Qn=Qn.length&&new RegExp(Qn.join("|")),ca=ca.length&&new RegExp(ca.join("|")),t=zf.test(mo.compareDocumentPosition),ni=t||zf.test(mo.contains)?function(i,o){var u=i.nodeType===9?i.documentElement:i,f=o&&o.parentNode;return i===f||!!(f&&f.nodeType===1&&(u.contains?u.contains(f):i.compareDocumentPosition&&i.compareDocumentPosition(f)&16))}:function(i,o){if(o){for(;o=o.parentNode;)if(o===i)return!0}return!1},Uf=t?function(i,o){if(i===o)return la=!0,0;var u=!i.compareDocumentPosition-!o.compareDocumentPosition;return u||(u=(i.ownerDocument||i)===(o.ownerDocument||o)?i.compareDocumentPosition(o):1,u&1||!We.sortDetached&&o.compareDocumentPosition(i)===u?i===n||i.ownerDocument===Yt&&ni(Yt,i)?-1:o===n||o.ownerDocument===Yt&&ni(Yt,o)?1:Xn?Er.call(Xn,i)-Er.call(Xn,o):0:u&4?-1:1)}:function(i,o){if(i===o)return la=!0,0;var u,f=0,s=i.parentNode,l=o.parentNode,c=[i],v=[o];if(!s||!l)return i===n?-1:o===n?1:s?-1:l?1:Xn?Er.call(Xn,i)-Er.call(Xn,o):0;if(s===l)return Id(i,o);for(u=i;u=u.parentNode;)c.unshift(u);for(u=o;u=u.parentNode;)v.unshift(u);for(;c[f]===v[f];)f++;return f?Id(c[f],v[f]):c[f]===Yt?-1:v[f]===Yt?1:0},n)},he.matches=function(e,t){return he(e,null,null,t)},he.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Bt&&Yn(e),t=t.replace(eS,"='$1']"),We.matchesSelector&&dn&&(!ca||!ca.test(t))&&(!Qn||!Qn.test(t)))try{var n=jE.call(e,t);if(n||We.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return he(t,Bt,null,[e]).length>0},he.contains=function(e,t){return(e.ownerDocument||e)!==Bt&&Yn(e),ni(e,t)},he.attr=function(e,t){(e.ownerDocument||e)!==Bt&&Yn(e);var n=ye.attrHandle[t.toLowerCase()],r=n&&GE.call(ye.attrHandle,t.toLowerCase())?n(e,t,!dn):void 0;return r!==void 0?r:We.attributes||!dn?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},he.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},he.uniqueSort=function(e){var t,n=[],r=0,a=0;if(la=!We.detectDuplicates,Xn=!We.sortStable&&e.slice(0),e.sort(Uf),la){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return Xn=null,e},co=he.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(a===1||a===9||a===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=co(e)}else if(a===3||a===4)return e.nodeValue}else for(;t=e[r++];)n+=co(t);return n},ye=he.selectors={cacheLength:50,createPseudo:Qt,match:ho,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(er,tr),e[3]=(e[3]||e[4]||e[5]||"").replace(er,tr),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||he.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&he.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ho.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&tS.test(n)&&(t=ti(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(er,tr).toLowerCase();return e==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Td[e+" "];return t||(t=new RegExp("(^|"+De+")"+e+"("+De+"|$)"))&&Td(e,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!==po&&n.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=he.attr(r,e);return a==null?t==="!=":t?(a+="",t==="="?a===n:t==="!="?a!==n:t==="^="?n&&a.indexOf(n)===0:t==="*="?n&&a.indexOf(n)>-1:t==="$="?n&&a.slice(-n.length)===n:t==="~="?(" "+a+" ").indexOf(n)>-1:t==="|="?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,a){var i=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&a===0?function(f){return!!f.parentNode}:function(f,s,l){var c,v,d,m,p,g,y=i!==o?"nextSibling":"previousSibling",b=f.parentNode,w=u&&f.nodeName.toLowerCase(),S=!l&&!u;if(b){if(i){for(;y;){for(d=f;d=d[y];)if(u?d.nodeName.toLowerCase()===w:d.nodeType===1)return!1;g=y=e==="only"&&!g&&"nextSibling"}return!0}if(g=[o?b.firstChild:b.lastChild],o&&S){for(v=b[at]||(b[at]={}),c=v[e]||[],p=c[0]===mn&&c[1],m=c[0]===mn&&c[2],d=p&&b.childNodes[p];d=++p&&d&&d[y]||(m=p=0)||g.pop();)if(d.nodeType===1&&++m&&d===f){v[e]=[mn,p,m];break}}else if(S&&(c=(f[at]||(f[at]={}))[e])&&c[0]===mn)m=c[1];else for(;(d=++p&&d&&d[y]||(m=p=0)||g.pop())&&!((u?d.nodeName.toLowerCase()===w:d.nodeType===1)&&++m&&(S&&((d[at]||(d[at]={}))[e]=[mn,m]),d===f)););return m-=a,m===r||m%r===0&&m/r>=0}}},PSEUDO:function(e,t){var n,r=ye.pseudos[e]||ye.setFilters[e.toLowerCase()]||he.error("unsupported pseudo: "+e);return r[at]?r(t):r.length>1?(n=[e,e,"",t],ye.setFilters.hasOwnProperty(e.toLowerCase())?Qt(function(a,i){for(var o,u=r(a,t),f=u.length;f--;)o=Er.call(a,u[f]),a[o]=!(i[o]=u[f])}):function(a){return r(a,0,n)}):r}},pseudos:{not:Qt(function(e){var t=[],n=[],r=Mf(e.replace(go,"$1"));return r[at]?Qt(function(a,i,o,u){for(var f,s=r(a,null,u,[]),l=a.length;l--;)(f=s[l])&&(a[l]=!(i[l]=f))}):function(a,i,o){return t[0]=a,r(t,null,o,n),t[0]=null,!n.pop()}}),has:Qt(function(e){return function(t){return he(e,t).length>0}}),contains:Qt(function(e){return e=e.replace(er,tr),function(t){return(t.textContent||t.innerText||co(t)).indexOf(e)>-1}}),lang:Qt(function(e){return nS.test(e||"")||he.error("unsupported lang: "+e),e=e.replace(er,tr).toLowerCase(),function(t){var n;do if(n=dn?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===mo},focus:function(e){return e===Bt.activeElement&&(!Bt.hasFocus||Bt.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ye.pseudos.empty(e)},header:function(e){return aS.test(e.nodeName)},input:function(e){return rS.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:kr(function(){return[0]}),last:kr(function(e,t){return[t-1]}),eq:kr(function(e,t,n){return[n<0?n+t:n]}),even:kr(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:kr(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:kr(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:kr(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},ye.pseudos.nth=ye.pseudos.eq,X(["radio","checkbox","file","password","image"],function(e){ye.pseudos[e]=uS(e)}),X(["submit","reset"],function(e){ye.pseudos[e]=fS(e)});function Ld(){}Ld.prototype=ye.filters=ye.pseudos,ye.setFilters=new Ld,ti=he.tokenize=function(e,t){var n,r,a,i,o,u,f,s=Rd[e+" "];if(s)return t?0:s.slice(0);for(o=e,u=[],f=ye.preFilter;o;){(!n||(r=ZE.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),u.push(a=[])),n=!1,(r=JE.exec(o))&&(n=r.shift(),a.push({value:n,type:r[0].replace(go," ")}),o=o.slice(n.length));for(i in ye.filter)ye.filter.hasOwnProperty(i)&&(r=ho[i].exec(o))&&(!f[i]||(r=f[i](r)))&&(n=r.shift(),a.push({value:n,type:i,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?he.error(e):Rd(e,u).slice(0)};function bo(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Wf(e,t,n){var r=t.dir,a=n&&r==="parentNode",i=KE++;return t.first?function(o,u,f){for(;o=o[r];)if(o.nodeType===1||a)return e(o,u,f)}:function(o,u,f){var s,l,c=[mn,i];if(f){for(;o=o[r];)if((o.nodeType===1||a)&&e(o,u,f))return!0}else for(;o=o[r];)if(o.nodeType===1||a){if(l=o[at]||(o[at]={}),(s=l[r])&&s[0]===mn&&s[1]===i)return c[2]=s[2];if(l[r]=c,c[2]=e(o,u,f))return!0}}}function jf(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function sS(e,t,n){for(var r=0,a=t.length;r<a;r++)he(e,t[r],n);return n}function yo(e,t,n,r,a){for(var i,o=[],u=0,f=e.length,s=t!=null;u<f;u++)(i=e[u])&&(!n||n(i,r,a))&&(o.push(i),s&&t.push(u));return o}function Kf(e,t,n,r,a,i){return r&&!r[at]&&(r=Kf(r)),a&&!a[at]&&(a=Kf(a,i)),Qt(function(o,u,f,s){var l,c,v,d=[],m=[],p=u.length,g=o||sS(t||"*",f.nodeType?[f]:f,[]),y=e&&(o||!t)?yo(g,d,e,f,s):g,b=n?a||(o?e:p||r)?[]:u:y;if(n&&n(y,b,f,s),r)for(l=yo(b,m),r(l,[],f,s),c=l.length;c--;)(v=l[c])&&(b[m[c]]=!(y[m[c]]=v));if(o){if(a||e){if(a){for(l=[],c=b.length;c--;)(v=b[c])&&l.push(y[c]=v);a(null,b=[],l,s)}for(c=b.length;c--;)(v=b[c])&&(l=a?Er.call(o,v):d[c])>-1&&(o[l]=!(u[l]=v))}}else b=yo(b===u?b.splice(p,b.length):b),a?a(null,u,b,s):Jn.apply(u,b)})}function Gf(e){for(var t,n,r,a=e.length,i=ye.relative[e[0].type],o=i||ye.relative[" "],u=i?1:0,f=Wf(function(c){return c===t},o,!0),s=Wf(function(c){return Er.call(t,c)>-1},o,!0),l=[function(c,v,d){var m=!i&&(d||v!==vo)||((t=v).nodeType?f(c,v,d):s(c,v,d));return t=null,m}];u<a;u++)if(n=ye.relative[e[u].type])l=[Wf(jf(l),n)];else{if(n=ye.filter[e[u].type].apply(null,e[u].matches),n[at]){for(r=++u;r<a&&!ye.relative[e[r].type];r++);return Kf(u>1&&jf(l),u>1&&bo(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(go,"$1"),n,u<r&&Gf(e.slice(u,r)),r<a&&Gf(e=e.slice(r)),r<a&&bo(e))}l.push(n)}return jf(l)}function lS(e,t){var n=t.length>0,r=e.length>0,a=function(i,o,u,f,s){var l,c,v,d=0,m="0",p=i&&[],g=[],y=vo,b=i||r&&ye.find.TAG("*",s),w=mn+=y==null?1:Math.random()||.1,S=b.length;for(s&&(vo=o!==Bt&&o);m!==S&&(l=b[m])!=null;m++){if(r&&l){for(c=0;v=e[c++];)if(v(l,o,u)){f.push(l);break}s&&(mn=w)}n&&((l=!v&&l)&&d--,i&&p.push(l))}if(d+=m,n&&m!==d){for(c=0;v=t[c++];)v(p,g,o,u);if(i){if(d>0)for(;m--;)p[m]||g[m]||(g[m]=XE.call(f));g=yo(g)}Jn.apply(f,g),s&&!i&&g.length>0&&d+t.length>1&&he.uniqueSort(f)}return s&&(mn=w,vo=y),p};return n?Qt(a):a}Mf=he.compile=function(e,t){var n,r=[],a=[],i=Bd[e+" "];if(!i){for(t||(t=ti(e)),n=t.length;n--;)i=Gf(t[n]),i[at]?r.push(i):a.push(i);i=Bd(e,lS(a,r)),i.selector=e}return i},Ad=he.select=function(e,t,n,r){var a,i,o,u,f,s=typeof e=="function"&&e,l=!r&&ti(e=s.selector||e);if(n=n||[],l.length===1){if(i=l[0]=l[0].slice(0),i.length>2&&(o=i[0]).type==="ID"&&We.getById&&t.nodeType===9&&dn&&ye.relative[i[1].type]){if(t=(ye.find.ID(o.matches[0].replace(er,tr),t)||[])[0],t)s&&(t=t.parentNode);else return n;e=e.slice(i.shift().value.length)}for(a=ho.needsContext.test(e)?0:i.length;a--&&(o=i[a],!ye.relative[u=o.type]);)if((f=ye.find[u])&&(r=f(o.matches[0].replace(er,tr),Hf.test(i[0].type)&&qf(t.parentNode)||t))){if(i.splice(a,1),e=r.length&&bo(i),!e)return Jn.apply(n,r),n;break}}return(s||Mf(e,l))(r,t,!dn,n,Hf.test(e)&&qf(t.parentNode)||t),n},We.sortStable=at.split("").sort(Uf).join("")===at,We.detectDuplicates=!!la,Yn(),We.sortDetached=!0;var $d=document,Xf=Array.prototype.push,cS=Array.prototype.slice,vS=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ri=sa.Event,dS=B.makeMap("children,contents,next,prev"),ai=function(e){return typeof e!="undefined"},Yf=function(e){return typeof e=="string"},mS=function(e){return e&&e===e.window},Fd=function(e,t){t=t||$d;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var a;a=n.firstChild;)r.appendChild(a);return r},va=function(e,t,n,r){var a;if(Yf(t))t=Fd(t,Jf(e[0]));else if(t.length&&!t.nodeType){if(t=ie.makeArray(t),r)for(a=t.length-1;a>=0;a--)va(e,t[a],n,r);else for(a=0;a<t.length;a++)va(e,t[a],n,r);return e}if(t.nodeType)for(a=e.length;a--;)n.call(e[a],t);return e},Md=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Ud=function(e,t,n){var r,a;return t=ie(t)[0],e.each(function(){var i=this;(!n||r!==i.parentNode)&&(r=i.parentNode,a=t.cloneNode(!1),i.parentNode.insertBefore(a,i)),a.appendChild(i)}),e},pS=B.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),gS=B.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),hS={for:"htmlFor",class:"className",readonly:"readOnly"},bS={float:"cssFloat"},Qf={},Zf={},Dt=function(e,t){return new ie.fn.init(e,t)},yS=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},CS=/^\s*|\s*$/g,zd=function(e){return e==null?"":(""+e).replace(CS,"")},Dn=function(e,t){var n,r,a,i;if(e)if(n=e.length,n===void 0){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(a=0;a<n&&(i=e[a],t.call(i,a,i)!==!1);a++);return e},Hd=function(e,t){var n=[];return Dn(e,function(r,a){t(a,r)&&n.push(a)}),n},Jf=function(e){return e?e.nodeType===9?e:e.ownerDocument:$d};Dt.fn=Dt.prototype={constructor:Dt,selector:"",context:null,length:0,init:function(e,t){var n=this,r,a;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return ie(e).attr(t);n.context=t=document}if(Yf(e))if(n.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?r=[null,e,null]:r=vS.exec(e),r)if(r[1])for(a=Fd(e,Jf(t)).firstChild;a;)Xf.call(n,a),a=a.nextSibling;else{if(a=Jf(t).getElementById(r[2]),!a)return n;if(a.id!==r[2])return n.find(e);n.length=1,n[0]=a}else return ie(t).find(e);else this.add(e,!1);return n},toArray:function(){return B.toArray(this)},add:function(e,t){var n=this,r,a;if(Yf(e))return n.add(ie(e));if(t!==!1)for(r=ie.unique(n.toArray().concat(ie.makeArray(e))),n.length=r.length,a=0;a<r.length;a++)n[a]=r[a];else Xf.apply(n,ie.makeArray(e));return n},attr:function(e,t){var n=this,r;if(typeof e=="object")Dn(e,function(a,i){n.attr(a,i)});else if(ai(t))this.each(function(){var a;if(this.nodeType===1){if(a=Qf[e],a&&a.set){a.set(this,t);return}t===null?this.removeAttribute(e,2):this.setAttribute(e,t,2)}});else{if(n[0]&&n[0].nodeType===1){if(r=Qf[e],r&&r.get)return r.get(n[0],e);if(gS[e])return n.prop(e)?e:void 0;t=n[0].getAttribute(e,2),t===null&&(t=void 0)}return t}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=hS[e]||e,typeof e=="object")Dn(e,function(r,a){n.prop(r,a)});else if(ai(t))this.each(function(){this.nodeType===1&&(this[e]=t)});else return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;return n},css:function(e,t){var n=this,r,a,i=function(u){return u.replace(/-(\D)/g,function(f,s){return s.toUpperCase()})},o=function(u){return u.replace(/[A-Z]/g,function(f){return"-"+f})};if(typeof e=="object")Dn(e,function(u,f){n.css(u,f)});else if(ai(t))e=i(e),typeof t=="number"&&!pS[e]&&(t=t.toString()+"px"),n.each(function(){var u=this.style;if(a=Zf[e],a&&a.set){a.set(this,t);return}try{this.style[bS[e]||e]=t}catch(f){}(t===null||t==="")&&(u.removeProperty?u.removeProperty(o(e)):u.removeAttribute(e))});else{if(r=n[0],a=Zf[e],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(o(e))}catch(u){return}else return r.currentStyle?r.currentStyle[i(e)]:""}return n},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],ri.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(ai(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch(r){ie(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(ai(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return va(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return va(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?va(e,arguments,function(t){this.parentNode.insertBefore(t,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?va(e,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):e},appendTo:function(e){return ie(e).append(this),this},prependTo:function(e){return ie(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ud(this,e)},wrapAll:function(e){return Ud(this,e,!0)},wrapInner:function(e){return this.each(function(){ie(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ie(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ie(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Dn(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(r,a){var i=Md(a,e);if(i!==t){var o=a.className;i?a.className=zd((" "+o+" ").replace(" "+e+" "," ")):a.className+=o?" "+e:e}})),n},hasClass:function(e){return Md(this[0],e)},each:function(e){return Dn(this,e)},on:function(e,t){return this.each(function(){ri.bind(this,e,t)})},off:function(e,t){return this.each(function(){ri.unbind(this,e,t)})},trigger:function(e){return this.each(function(){typeof e=="object"?ri.fire(this,e.type,e):ri.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ie(cS.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)ie.find(e,this[t],r);return ie(r)},filter:function(e){return ie(typeof e=="function"?Hd(this.toArray(),function(t,n){return e(n,t)}):ie.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ie&&(e=e[0]),this.each(function(n,r){for(;r;){if(typeof e=="string"&&ie(r).is(e)){t.push(r);break}else if(r===e){t.push(r);break}r=r.parentNode}}),ie(t)},offset:function(e){var t,n,r,a=0,i=0,o;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),a=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,i=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:a,top:i})},push:Xf,sort:Array.prototype.sort,splice:Array.prototype.splice},B.extend(Dt,{extend:B.extend,makeArray:function(e){return mS(e)||e.nodeType?[e]:B.toArray(e)},inArray:yS,isArray:B.isArray,each:Dn,trim:zd,grep:Hd,find:he,expr:he.selectors,unique:he.uniqueSort,text:he.getText,contains:he.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)t[r].nodeType!==1&&t.splice(r,1);return t.length===1?t=ie.find.matchesSelector(t[0],e)?[t[0]]:[]:t=ie.find.matches(e,t),t}});var Vd=function(e,t,n){var r=[],a=e[t];for(typeof n!="string"&&n instanceof ie&&(n=n[0]);a&&a.nodeType!==9&&!(n!==void 0&&(a===n||typeof n=="string"&&ie(a).is(n)));)a.nodeType===1&&r.push(a),a=a[t];return r},es=function(e,t,n,r){var a=[];for(r instanceof ie&&(r=r[0]);e;e=e[t])if(!(n&&e.nodeType!==n)){if(r!==void 0&&(e===r||typeof r=="string"&&ie(e).is(r)))break;a.push(e)}return a},qd=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Dn({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Vd(e,"parentNode")},next:function(e){return qd(e,"nextSibling",1)},prev:function(e){return qd(e,"previousSibling",1)},children:function(e){return es(e.firstChild,"nextSibling",1)},contents:function(e){return B.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Dt.fn[e]=function(n){var r=this,a=[];r.each(function(){var o=t.call(a,this,n,a);o&&(ie.isArray(o)?a.push.apply(a,o):a.push(o))}),this.length>1&&(dS[e]||(a=ie.unique(a)),e.indexOf("parents")===0&&(a=a.reverse()));var i=ie(a);return n?i.filter(n):i}}),Dn({parentsUntil:function(e,t){return Vd(e,"parentNode",t)},nextUntil:function(e,t){return es(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return es(e,"previousSibling",1,t).slice(1)}},function(e,t){Dt.fn[e]=function(n,r){var a=this,i=[];a.each(function(){var u=t.call(i,this,n,i);u&&(ie.isArray(u)?i.push.apply(i,u):i.push(u))}),this.length>1&&(i=ie.unique(i),(e.indexOf("parents")===0||e==="prevUntil")&&(i=i.reverse()));var o=ie(i);return r?o.filter(r):o}}),Dt.fn.is=function(e){return!!e&&this.filter(e).length>0},Dt.fn.init.prototype=Dt.fn,Dt.overrideDefaults=function(e){var t,n=function(r,a){return t=t||e(),arguments.length===0&&(r=t.element),a||(a=t.context),new n.fn.init(r,a)};return ie.extend(n,this),n},Dt.attrHooks=Qf,Dt.cssHooks=Zf;var ie=Dt,ii=B.each,wS=B.grep,ts=ue.ie,ES=/^([a-z0-9],?)+$/i,SS=function(e,t,n){var r=t.keep_values,a={set:function(o,u,f){t.url_converter&&u!==null&&(u=t.url_converter.call(t.url_converter_scope||n(),u,f,o[0])),o.attr("data-mce-"+f,u).attr(f,u)},get:function(o,u){return o.attr("data-mce-"+u)||o.attr(u)}},i={style:{set:function(o,u){if(u!==null&&typeof u=="object"){o.css(u);return}r&&o.attr("data-mce-style",u),u!==null&&typeof u=="string"?(o.removeAttr("style"),o.css(e.parse(u))):o.attr("style",u)},get:function(o){var u=o.attr("data-mce-style")||o.attr("style");return u=e.serialize(e.parse(u),o[0].nodeName),u}}};return r&&(i.href=i.src=a),i},Wd=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},da=function(e,t){var n=0,r,a;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)a=e.nodeType,!(t&&a===3&&(a===r||!e.nodeValue.length))&&(n++,r=a);return n},Ce=function(e,t){t===void 0&&(t={});var n={},r=window,a={},i=0,o=!0,u=!0,f=ld.forElement(k.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),s=[],l=t.schema?t.schema:Gn({}),c=Lf({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),v=t.ownEvents?new sa:sa.Event,d=l.getBlockElements(),m=ie.overrideDefaults(function(){return{context:e,element:qr.getRoot()}}),p=function(E){if(typeof E=="string")return!!d[E];if(E){var A=E.nodeType;if(A)return!!(A===1&&d[E.nodeName])}return!1},g=function(E){return E&&e&&Le(E)?e.getElementById(E):E},y=function(E){return m(typeof E=="string"?g(E):E)},b=function(E,A,M){var z,oe,me=y(E);return me.length&&(z=TC[A],z&&z.get?oe=z.get(me,A):oe=me.attr(A)),typeof oe=="undefined"&&(oe=M||""),oe},w=function(E){var A=g(E);return A?A.attributes:[]},S=function(E,A,M){M===""&&(M=null);var z=y(E),oe=z.attr(A);if(z.length){var me=TC[A];me&&me.set?me.set(z,M,A):z.attr(A,M),oe!==M&&t.onSetAttrib&&t.onSetAttrib({attrElm:z,attrName:A,attrValue:M})}},C=function(E,A){if(!ts||E.nodeType!==1||A)return E.cloneNode(A);var M=e.createElement(E.nodeName);return ii(w(E),function(z){S(M,z.nodeName,b(E,z.nodeName))}),M},x=function(){return t.root_element||e.body},T=function(E){var A=jv(E);return{x:A.x,y:A.y,w:A.width,h:A.height}},I=function(E,A){return Ew(e.body,g(E),A)},J=function(E,A,M){var z=Le(A)?y(E).css(A,M):y(E).css(A);t.update_styles&&Wd(c,z)},q=function(E,A){var M=y(E).css(A);t.update_styles&&Wd(c,M)},D=function(E,A,M){var z=y(E);return M?z.css(A):(A=A.replace(/-(\D)/g,function(oe,me){return me.toUpperCase()}),A==="float"&&(A=ue.browser.isIE()?"styleFloat":"cssFloat"),z[0]&&z[0].style?z[0].style[A]:void 0)},ne=function(E){var A,M;return E=g(E),A=D(E,"width"),M=D(E,"height"),A.indexOf("px")===-1&&(A=0),M.indexOf("px")===-1&&(M=0),{w:parseInt(A,10)||E.offsetWidth||E.clientWidth,h:parseInt(M,10)||E.offsetHeight||E.clientHeight}},F=function(E){E=g(E);var A=I(E),M=ne(E);return{x:A.x,y:A.y,w:M.w,h:M.h}},V=function(E,A){var M;if(!E)return!1;if(!Array.isArray(E)){if(A==="*")return E.nodeType===1;if(ES.test(A)){var z=A.toLowerCase().split(/,/),oe=E.nodeName.toLowerCase();for(M=z.length-1;M>=0;M--)if(z[M]===oe)return!0;return!1}if(E.nodeType&&E.nodeType!==1)return!1}var me=Array.isArray(E)?E:[E];return he(A,me[0].ownerDocument||me[0],null,me).length>0},$=function(E,A,M,z){var oe=[],me,ke=g(E);for(z=z===void 0,M=M||(x().nodeName!=="BODY"?x().parentNode:null),B.is(A,"string")&&(me=A,A==="*"?A=function(dr){return dr.nodeType===1}:A=function(dr){return V(dr,me)});ke&&!(ke===M||on(ke.nodeType)||gf(ke)||hf(ke));){if(!A||typeof A=="function"&&A(ke))if(z)oe.push(ke);else return[ke];ke=ke.parentNode}return z?oe:null},H=function(E,A,M){var z=$(E,A,M,!1);return z&&z.length>0?z[0]:null},j=function(E,A,M){var z=A;if(E){for(typeof A=="string"&&(z=function(oe){return V(oe,A)}),E=E[M];E;E=E[M])if(typeof z=="function"&&z(E))return E}return null},_=function(E,A){return j(E,A,"nextSibling")},W=function(E,A){return j(E,A,"previousSibling")},fe=function(E,A){return he(E,g(A)||t.root_element||e,[])},ge=function(E,A,M){var z,oe=typeof E=="string"?g(E):E;if(!oe)return!1;if(B.isArray(oe)&&(oe.length||oe.length===0))return z=[],ii(oe,function(ke,dr){ke&&z.push(A.call(M,typeof ke=="string"?g(ke):ke,dr))}),z;var me=M||this;return A.call(me,oe)},se=function(E,A){y(E).each(function(M,z){ii(A,function(oe,me){S(z,me,oe)})})},Ge=function(E,A){var M=y(E);ts?M.each(function(z,oe){if(oe.canHaveHTML!==!1){for(;oe.firstChild;)oe.removeChild(oe.firstChild);try{oe.innerHTML="<br>"+A,oe.removeChild(oe.firstChild)}catch(me){ie("<div></div>").html("<br>"+A).contents().slice(1).appendTo(oe)}return A}}):M.html(A)},we=function(E,A,M,z,oe){return ge(E,function(me){var ke=typeof A=="string"?e.createElement(A):A;return se(ke,M),z&&(typeof z!="string"&&z.nodeType?ke.appendChild(z):typeof z=="string"&&Ge(ke,z)),oe?ke:me.appendChild(ke)})},ot=function(E,A,M){return we(e.createElement(E),E,A,M,!0)},yt=jn.decode,O=jn.encodeAllRaw,U=function(E,A,M){var z="",oe;z+="<"+E;for(oe in A)Xr(A,oe)&&(z+=" "+oe+'="'+O(A[oe])+'"');return typeof M!="undefined"?z+">"+M+"</"+E+">":z+" />"},Z=function(E){var A,M=e.createElement("div"),z=e.createDocumentFragment();for(z.appendChild(M),E&&(M.innerHTML=E);A=M.firstChild;)z.appendChild(A);return z.removeChild(M),z},N=function(E,A){var M=y(E);return A?M.each(function(){for(var z;z=this.firstChild;)z.nodeType===3&&z.data.length===0?this.removeChild(z):this.parentNode.insertBefore(z,this)}).remove():M.remove(),M.length>1?M.toArray():M[0]},P=function(E){return ge(E,function(A){var M,z=A.attributes;for(M=z.length-1;M>=0;M--)A.removeAttributeNode(z.item(M))})},L=function(E){return c.parse(E)},Y=function(E,A){return c.serialize(E,A)},ee=function(E){var A,M;if(qr!==Ce.DOM&&e===document){if(n[E])return;n[E]=!0}M=e.getElementById("mceDefaultStyles"),M||(M=e.createElement("style"),M.id="mceDefaultStyles",M.type="text/css",A=e.getElementsByTagName("head")[0],A.firstChild?A.insertBefore(M,A.firstChild):A.appendChild(M)),M.styleSheet?M.styleSheet.cssText+=E:M.appendChild(e.createTextNode(E))},pe=function(E){E||(E=""),X(E.split(","),function(A){a[A]=!0,f.load(A,le)})},Oe=function(E,A,M){y(E).toggleClass(A,M).each(function(){this.className===""&&ie(this).attr("class",null)})},ze=function(E,A){y(E).addClass(A)},qt=function(E,A){Oe(E,A,!1)},ut=function(E,A){return y(E).hasClass(A)},ct=function(E){y(E).show()},Pe=function(E){y(E).hide()},Fn=function(E){return y(E).css("display")==="none"},He=function(E){return(E||"mce_")+i++},rn=function(E){var A=typeof E=="string"?g(E):E;return re(A)?A.outerHTML:ie("<div></div>").append(ie(A).clone()).html()},xn=function(E,A){y(E).each(function(){try{if("outerHTML"in this){this.outerHTML=A;return}}catch(M){}N(ie(this).html(A),!0)})},Ne=function(E,A){var M=g(A);return ge(E,function(z){var oe=M.parentNode,me=M.nextSibling;return me?oe.insertBefore(z,me):oe.appendChild(z),z})},be=function(E,A,M){return ge(A,function(z){return B.is(z,"array")&&(E=E.cloneNode(!0)),M&&ii(wS(z.childNodes),function(oe){E.appendChild(oe)}),z.parentNode.replaceChild(E,z)})},Ie=function(E,A){var M;return E.nodeName!==A.toUpperCase()&&(M=ot(A),ii(w(E),function(z){S(M,z.nodeName,b(E,z.nodeName))}),be(M,E,!0)),M||E},an=function(E,A){for(var M=E,z;M;){for(z=A;z&&M!==z;)z=z.parentNode;if(M===z)break;M=M.parentNode}return!M&&E.ownerDocument?E.ownerDocument.documentElement:M},Nn=function(E){return c.toHex(B.trim(E))},Wt=function(E){if(re(E)){var A=E.nodeName.toLowerCase()==="a"&&!b(E,"href")&&b(E,"id");if(b(E,"name")||b(E,"data-mce-bookmark")||A)return!0}return!1},Li=function(E,A){var M,z,oe=0;if(Wt(E))return!1;if(E=E.firstChild,E){var me=new Ve(E,E.parentNode),ke=l?l.getWhiteSpaceElements():{};A=A||(l?l.getNonEmptyElements():null);do{if(M=E.nodeType,re(E)){var dr=E.getAttribute("data-mce-bogus");if(dr){E=me.next(dr==="all");continue}if(z=E.nodeName.toLowerCase(),A&&A[z]){if(z==="br"){oe++,E=me.next();continue}return!1}if(Wt(E))return!1}if(M===8||M===3&&!Cr(E.nodeValue)||M===3&&E.parentNode&&ke[E.parentNode.nodeName]&&Cr(E.nodeValue))return!1;E=me.next()}while(E)}return oe<=1},$i=function(){return e.createRange()},KU=function(E,A,M){var z=$i(),oe,me,ke;if(E&&A)return z.setStart(E.parentNode,da(E)),z.setEnd(A.parentNode,da(A)),oe=z.extractContents(),z=$i(),z.setStart(A.parentNode,da(A)+1),z.setEnd(E.parentNode,da(E)+1),me=z.extractContents(),ke=E.parentNode,ke.insertBefore(Df(qr,oe),E),M?ke.insertBefore(M,E):ke.insertBefore(A,E),ke.insertBefore(Df(qr,me),E),N(E),M||A},xC=function(E,A,M,z){if(B.isArray(E)){for(var oe=E.length,me=[];oe--;)me[oe]=xC(E[oe],A,M,z);return me}t.collect&&(E===e||E===r)&&s.push([E,A,M,z]);var ke=v.bind(E,A,M,z||qr);return ke},NC=function(E,A,M){if(B.isArray(E)){for(var z=E.length,oe=[];z--;)oe[z]=NC(E[z],A,M);return oe}else{if(s.length>0&&(E===e||E===r))for(var z=s.length;z--;){var me=s[z];E===me[0]&&(!A||A===me[1])&&(!M||M===me[2])&&v.unbind(me[0],me[1],me[2])}return v.unbind(E,A,M)}},GU=function(E,A,M){return v.fire(E,A,M)},AC=function(E){if(E&&re(E)){var A=E.getAttribute("data-mce-contenteditable");return A&&A!=="inherit"?A:E.contentEditable!=="inherit"?E.contentEditable:null}else return null},XU=function(E){for(var A=x(),M=null;E&&E!==A&&(M=AC(E),M===null);E=E.parentNode);return M},YU=function(){if(s.length>0)for(var E=s.length;E--;){var A=s[E];v.unbind(A[0],A[1],A[2])}Be(a,function(M,z){f.unload(z),delete a[z]}),he.setDocument&&he.setDocument()},QU=function(E,A){if(ts){for(;E;){if(A===E)return!0;E=E.parentNode}return!1}else return E===A||A.contains(E)},ZU=function(E){return"startContainer: "+E.startContainer.nodeName+", startOffset: "+E.startOffset+", endContainer: "+E.endContainer.nodeName+", endOffset: "+E.endOffset},qr={doc:e,settings:t,win:r,files:a,stdMode:o,boxModel:u,styleSheetLoader:f,boundEvents:s,styles:c,schema:l,events:v,isBlock:p,$:m,$$:y,root:null,clone:C,getRoot:x,getViewPort:T,getRect:F,getSize:ne,getParent:H,getParents:$,get:g,getNext:_,getPrev:W,select:fe,is:V,add:we,create:ot,createHTML:U,createFragment:Z,remove:N,setStyle:J,getStyle:D,setStyles:q,removeAllAttribs:P,setAttrib:S,setAttribs:se,getAttrib:b,getPos:I,parseStyle:L,serializeStyle:Y,addStyle:ee,loadCSS:pe,addClass:ze,removeClass:qt,hasClass:ut,toggleClass:Oe,show:ct,hide:Pe,isHidden:Fn,uniqueId:He,setHTML:Ge,getOuterHTML:rn,setOuterHTML:xn,decode:yt,encode:O,insertAfter:Ne,replace:be,rename:Ie,findCommonAncestor:an,toHex:Nn,run:ge,getAttribs:w,isEmpty:Li,createRng:$i,nodeIndex:da,split:KU,bind:xC,unbind:NC,fire:GU,getContentEditable:AC,getContentEditableParent:XU,destroy:YU,isChildOf:QU,dumpRng:ZU},TC=SS(c,t,G(qr));return qr};Ce.DOM=Ce(document),Ce.nodeIndex=da;var kS=Ce.DOM,ns=B.each,xS=B.grep,NS=0,jd=1,Co=2,Kd=3,_n=function(){function e(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(t,n,r){var a=kS,i,o=function(){a.remove(s),i&&(i.onerror=i.onload=i=null)},u=function(){o(),n()},f=function(){o(),Re(r)?r():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+t)},s=a.uniqueId();i=document.createElement("script"),i.id=s,i.type="text/javascript",i.src=B._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=u,i.onerror=f,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},e.prototype.isDone=function(t){return this.states[t]===Co},e.prototype.markDone=function(t){this.states[t]=Co},e.prototype.add=function(t,n,r,a){var i=this.states[t];this.queue.push(t),i===void 0&&(this.states[t]=NS),n&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:n,failure:a,scope:r||this}))},e.prototype.load=function(t,n,r,a){return this.add(t,n,r,a)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,n,r){this.loadScripts(this.queue,t,n,r)},e.prototype.loadScripts=function(t,n,r,a){var i=this,o=[],u=function(s,l){ns(i.scriptLoadedCallbacks[l],function(c){Re(c[s])&&c[s].call(c.scope)}),i.scriptLoadedCallbacks[l]=void 0};i.queueLoadedCallbacks.push({success:n,failure:a,scope:r||this});var f=function(){var s=xS(t);if(t.length=0,ns(s,function(c){if(i.states[c]===Co){u("success",c);return}if(i.states[c]===Kd){u("failure",c);return}i.states[c]!==jd&&(i.states[c]=jd,i.loading++,i.loadScript(c,function(){i.states[c]=Co,i.loading--,u("success",c),f()},function(){i.states[c]=Kd,i.loading--,o.push(c),u("failure",c),f()}))}),!i.loading){var l=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,ns(l,function(c){o.length===0?Re(c.success)&&c.success.call(c.scope):Re(c.failure)&&c.failure.call(c.scope,o)})}};f()},e.ScriptLoader=new e,e}(),ft=function(e){var t=e,n=function(){return t},r=function(a){t=a};return{get:n,set:r}},AS=function(e){return Wr(e)&&de(e,"raw")},TS=function(e){return Lt(e)&&e.length>1},oi={},rs=ft("en"),Gd=function(){return Me(oi,rs.get())},RS=function(){return Xc(oi,function(e){return ae({},e)})},BS=function(e){e&&rs.set(e)},DS=function(){return rs.get()},_S=function(e,t){var n=oi[e];n||(oi[e]=n={}),Be(t,function(r,a){n[a.toLowerCase()]=r})},OS=function(e){var t=Gd().getOr({}),n=function(f){return Re(f)?Object.prototype.toString.call(f):r(f)?"":""+f},r=function(f){return f===""||f===null||f===void 0},a=function(f){var s=n(f);return Me(t,s.toLowerCase()).map(n).getOr(s)},i=function(f){return f.replace(/{context:\w+}$/,"")};if(r(e))return"";if(AS(e))return n(e.raw);if(TS(e)){var o=e.slice(1),u=a(e[0]).replace(/\{([0-9]+)\}/g,function(f,s){return de(o,s)?n(o[s]):f});return i(u)}return i(a(e))},PS=function(){return Gd().bind(function(e){return Me(e,"_dir")}).exists(function(e){return e==="rtl"})},IS=function(e){return de(oi,e)},Zt={getData:RS,setCode:BS,getCode:DS,add:_S,translate:OS,isRtl:PS,hasCode:IS},St=function(){var e=[],t={},n={},r=[],a=function(p,g){var y=ve(r,function(b){return b.name===p&&b.state===g});X(y,function(b){return b.callback()})},i=function(p){if(n[p])return n[p].instance},o=function(p){var g;return n[p]&&(g=n[p].dependencies),g||[]},u=function(p,g){St.languageLoad!==!1&&m(p,function(){var y=Zt.getCode(),b=","+(g||"")+",";!y||g&&b.indexOf(","+y+",")===-1||_n.ScriptLoader.add(t[p]+"/langs/"+y+".js")},"loaded")},f=function(p,g,y){var b=g;return e.push(b),n[p]={instance:b,dependencies:y},a(p,"added"),b},s=function(p){delete t[p],delete n[p]},l=function(p,g){return typeof g=="object"?g:typeof p=="string"?{prefix:"",resource:g,suffix:""}:{prefix:p.prefix,resource:g,suffix:p.suffix}},c=function(p,g){var y=t[p];X(g,function(b){_n.ScriptLoader.add(y+"/"+b)})},v=function(p,g,y,b){var w=o(p);X(w,function(S){var C=l(g,S);d(C.resource,C,void 0,void 0)}),y&&(b?y.call(b):y.call(_n))},d=function(p,g,y,b,w){if(!t[p]){var S=typeof g=="string"?g:g.prefix+g.resource+g.suffix;S.indexOf("/")!==0&&S.indexOf("://")===-1&&(S=St.baseURL+"/"+S),t[p]=S.substring(0,S.lastIndexOf("/"));var C=function(){a(p,"loaded"),v(p,g,y,b)};n[p]?C():_n.ScriptLoader.add(S,C,b,w)}},m=function(p,g,y){y===void 0&&(y="added"),de(n,p)&&y==="added"||de(t,p)&&y==="loaded"?g():r.push({name:p,state:y,callback:g})};return{items:e,urls:t,lookup:n,_listeners:r,get:i,dependencies:o,requireLangPack:u,add:f,remove:s,createUrl:l,addComponents:c,load:d,waitFor:m}};St.languageLoad=!0,St.baseURL="",St.PluginManager=St(),St.ThemeManager=St();var LS=function(e){var t=ft(h.none()),n=function(){return t.get().each(e)},r=function(){n(),t.set(h.none())},a=function(){return t.get().isSome()},i=function(){return t.get()},o=function(u){n(),t.set(h.some(u))};return{clear:r,isSet:a,get:i,set:o}},ma=function(){var e=LS(le),t=function(n){return e.get().each(n)};return ae(ae({},e),{on:t})},as=function(e,t){var n=null,r=function(){za(n)||(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];za(n)&&(n=setTimeout(function(){n=null,e.apply(null,i)},t))};return{cancel:r,throttle:a}},Xd=function(e,t){var n=null,r=function(){za(n)||(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r(),n=setTimeout(function(){n=null,e.apply(null,i)},t)};return{cancel:r,throttle:a}},is=function(e,t){var n=Qa(e,t);return n===void 0||n===""?[]:n.split(" ")},$S=function(e,t,n){var r=is(e,t),a=r.concat([n]);return ln(e,t,a.join(" ")),!0},FS=function(e,t,n){var r=ve(is(e,t),function(a){return a!==n});return r.length>0?ln(e,t,r.join(" ")):Hn(e,t),!1},wo=function(e){return e.dom.classList!==void 0},MS=function(e){return is(e,"class")},US=function(e,t){return $S(e,"class",t)},zS=function(e,t){return FS(e,"class",t)},Eo=function(e,t){wo(e)?e.dom.classList.add(t):US(e,t)},HS=function(e){var t=wo(e)?e.dom.classList:MS(e);t.length===0&&Hn(e,"class")},VS=function(e,t){if(wo(e)){var n=e.dom.classList;n.remove(t)}else zS(e,t);HS(e)},Yd=function(e,t){return wo(e)&&e.dom.classList.contains(t)},Qd=function(e,t){var n=[];return X(Mt(e),function(r){t(r)&&(n=n.concat([r])),n=n.concat(Qd(r,t))}),n},bt=function(e,t){return U0(t,e)},os=G("mce-annotation"),ui=G("data-mce-annotation"),So=G("data-mce-annotation-uid"),Zd=function(e,t){var n=e.selection.getRng(),r=k.fromDom(n.startContainer),a=k.fromDom(e.getBody()),i=t.fold(function(){return"."+os()},function(s){return"["+ui()+'="'+s+'"]'}),o=qi(r,n.startOffset).getOr(r),u=wf(o,i,function(s){return Se(s,a)}),f=function(s,l){return pw(s,l)?h.some(Qa(s,l)):h.none()};return u.bind(function(s){return f(s,""+So()).bind(function(l){return f(s,""+ui()).map(function(c){var v=WS(e,l);return{uid:l,name:c,elements:v}})})})},qS=function(e){return Kt(e)&&Yd(e,os())},WS=function(e,t){var n=k.fromDom(e.getBody());return bt(n,"["+So()+'="'+t+'"]')},jS=function(e,t){var n=k.fromDom(e.getBody()),r=bt(n,"["+ui()+'="'+t+'"]'),a={};return X(r,function(i){var o=Qa(i,So()),u=Me(a,o).getOr([]);a[o]=u.concat([i])}),a},KS=function(e,t){var n=ft({}),r=function(){return{listeners:[],previous:ma()}},a=function(l,c){i(l,function(v){return c(v),v})},i=function(l,c){var v=n.get(),d=Me(v,l).getOrThunk(r),m=c(d);v[l]=m,n.set(v)},o=function(l,c,v){a(l,function(d){X(d.listeners,function(m){return m(!0,l,{uid:c,nodes:Te(v,function(p){return p.dom})})})})},u=function(l){a(l,function(c){X(c.listeners,function(v){return v(!1,l)})})},f=Xd(function(){var l=n.get(),c=Zu(Gr(l));X(c,function(v){i(v,function(d){var m=d.previous.get();return Zd(e,h.some(v)).fold(function(){m.isSome()&&(u(v),d.previous.clear())},function(p){var g=p.uid,y=p.name,b=p.elements;Yi(m,g)||(o(y,g,b),d.previous.set(g))}),{previous:d.previous,listeners:d.listeners}})})},30);e.on("remove",function(){f.cancel()}),e.on("NodeChange",function(){f.throttle()});var s=function(l,c){i(l,function(v){return{previous:v.previous,listeners:v.listeners.concat([c])}})};return{addListener:s}},GS=function(e,t){var n=function(r){return h.from(r.attr(ui())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(r){X(r,function(a){n(a).each(function(i){i.persistent===!1&&a.unwrap()})})})})},XS=function(){var e={},t=function(r,a){e[r]={name:r,settings:a}},n=function(r){return Me(e,r).map(function(a){return a.settings})};return{register:t,lookup:n}},Jd=0,em=function(e){var t=new Date,n=t.getTime(),r=Math.floor(Math.random()*1e9);return Jd++,e+"_"+r+Jd+String(n)},YS=function(e,t){X(t,function(n){Eo(e,n)})},QS=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,Mt(k.fromDom(r))},ZS=function(e){return Te(e,k.fromDom)},JS=function(e){return e.dom.innerHTML},tm=function(e,t){var n=_v(e),r=n.dom,a=k.fromDom(r.createDocumentFragment()),i=QS(t,r);Wi(a,i),vf(e),et(e,a)},nm=function(e,t){return k.fromDom(e.dom.cloneNode(t))},pa=function(e){return nm(e,!1)},rm=function(e){return nm(e,!0)},am=function(e,t,n){n===void 0&&(n=xe);var r=new Ve(e,t),a=function(i){var o;do o=r[i]();while(o&&!Q(o)&&!n(o));return h.from(o).filter(Q)};return{current:function(){return h.from(r.current()).filter(Q)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}},im=function(e,t){var n=t||function(o){return e.isBlock(o)||_e(o)||Ae(o)},r=function(o,u,f,s){if(Q(o)){var l=s(o,u,o.data);if(l!==-1)return h.some({container:o,offset:l})}return f().bind(function(c){return r(c.container,c.offset,f,s)})},a=function(o,u,f,s){var l=am(o,s,n);return r(o,u,function(){return l.prev().map(function(c){return{container:c,offset:c.length}})},f).getOrNull()},i=function(o,u,f,s){var l=am(o,s,n);return r(o,u,function(){return l.next().map(function(c){return{container:c,offset:0}})},f).getOrNull()};return{backwards:a,forwards:i}},ga=Math.round,xr=function(e){return e?{left:ga(e.left),top:ga(e.top),bottom:ga(e.bottom),right:ga(e.right),width:ga(e.width),height:ga(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},om=function(e,t){return e=xr(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},ek=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},um=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},ha=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:um(t.top-e.bottom,e,t)},ba=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:um(t.bottom-e.top,e,t)},fm=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},tk=function(e,t,n){return Math.min(Math.max(e,t),n)},ko=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},nr=function(e,t){if(re(e)&&e.hasChildNodes()){var n=e.childNodes,r=tk(t,0,n.length-1);return n[r]}else return e},nk=function(e,t){if(!(t<0&&re(e)&&e.hasChildNodes()))return nr(e,t)},rk=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),sm=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&rk.test(e)},ak=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(e[r](n))return!0;return!1}},ik=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(!e[r](n))return!1;return!0}},lm=re,ok=vn,cm=Gi("display","block table"),uk=Gi("float","left right"),fi=ik(lm,ok,Gu(uk)),fk=Gu(Gi("white-space","pre pre-line pre-wrap")),si=Q,us=_e,vm=Ce.nodeIndex,xo=nk,fs=function(e){return"createRange"in e?e.createRange():Ce.DOM.createRng()},ss=function(e){return e&&/[\r\n\t ]/.test(e)},dm=function(e){return!!e.setStart&&!!e.setEnd},ls=function(e){var t=e.startContainer,n=e.startOffset;if(ss(e.toString())&&fk(t.parentNode)&&Q(t)){var r=t.data;if(ss(r[n-1])||ss(r[n+1]))return!0}return!1},sk=function(e){var t=e.ownerDocument,n=fs(t),r=t.createTextNode(Et),a=e.parentNode;a.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=xr(n.getBoundingClientRect());return a.removeChild(r),i},lk=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===n&&Q(n)&&r===0&&a===1){var i=e.cloneRange();return i.setEndAfter(n),rr(i)}else return null},mm=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},rr=function(e){var t,n=e.getClientRects();return n.length>0?t=xr(n[0]):t=xr(e.getBoundingClientRect()),!dm(e)&&us(e)&&mm(t)?sk(e):mm(t)&&dm(e)?lk(e):t},Nr=function(e,t){var n=om(e,t);return n.width=1,n.right=n.left+1,n},ck=function(e){var t=[],n=function(f){f.height!==0&&(t.length>0&&ek(f,t[t.length-1])||t.push(f))},r=function(f,s){var l=fs(f.ownerDocument);if(s<f.data.length){if(sm(f.data[s]))return t;if(sm(f.data[s-1])&&(l.setStart(f,s),l.setEnd(f,s+1),!ls(l)))return n(Nr(rr(l),!1)),t}s>0&&(l.setStart(f,s-1),l.setEnd(f,s),ls(l)||n(Nr(rr(l),!1))),s<f.data.length&&(l.setStart(f,s),l.setEnd(f,s+1),ls(l)||n(Nr(rr(l),!0)))},a=e.container(),i=e.offset();if(si(a))return r(a,i),t;if(lm(a))if(e.isAtEnd()){var o=xo(a,i);si(o)&&r(o,o.data.length),fi(o)&&!us(o)&&n(Nr(rr(o),!1))}else{var o=xo(a,i);if(si(o)&&r(o,0),fi(o)&&e.isAtEnd())return n(Nr(rr(o),!1)),t;var u=xo(e.container(),e.offset()-1);fi(u)&&!us(u)&&(cm(u)||cm(o)||!fi(o))&&n(Nr(rr(u),!1)),fi(o)&&n(Nr(rr(o),!0))}return t},R=function(e,t,n){var r=function(){return si(e),t===0},a=function(){return si(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var l=fs(e.ownerDocument);return l.setStart(e,t),l.setEnd(e,t),l},o=function(){return n||(n=ck(R(e,t))),n},u=function(){return o().length>0},f=function(l){return l&&e===l.container()&&t===l.offset()},s=function(l){return xo(e,l?t-1:t)};return{container:G(e),offset:G(t),toRange:i,getClientRects:o,isVisible:u,isAtStart:r,isAtEnd:a,isEqual:f,getNode:s}};R.fromRangeStart=function(e){return R(e.startContainer,e.startOffset)},R.fromRangeEnd=function(e){return R(e.endContainer,e.endOffset)},R.after=function(e){return R(e.parentNode,vm(e)+1)},R.before=function(e){return R(e.parentNode,vm(e))},R.isAbove=function(e,t){return ht(At(t.getClientRects()),pr(e.getClientRects()),ha).getOr(!1)},R.isBelow=function(e,t){return ht(pr(t.getClientRects()),At(e.getClientRects()),ba).getOr(!1)},R.isAtStart=function(e){return e?e.isAtStart():!1},R.isAtEnd=function(e){return e?e.isAtEnd():!1},R.isTextPosition=function(e){return e?Q(e.container()):!1},R.isElementPosition=function(e){return R.isTextPosition(e)===!1};var No=function(e,t){Q(t)&&t.data.length===0&&e.remove(t)},vk=function(e,t,n){t.insertNode(n),No(e,n.previousSibling),No(e,n.nextSibling)},dk=function(e,t,n){var r=h.from(n.firstChild),a=h.from(n.lastChild);t.insertNode(n),r.each(function(i){return No(e,i.previousSibling)}),a.each(function(i){return No(e,i.nextSibling)})},cs=function(e,t,n){hf(n)?dk(e,t,n):vk(e,t,n)},Jt=Q,pm=yr,gm=Ce.nodeIndex,hm=function(e){var t=e.parentNode;return pm(t)?hm(t):t},vs=function(e){return e?zi(e.childNodes,function(t,n){return pm(n)&&n.nodeName!=="BR"?t=t.concat(vs(n)):t.push(n),t},[]):[]},mk=function(e,t){for(;(e=e.previousSibling)&&Jt(e);)t+=e.data.length;return t},bm=function(e){return function(t){return e===t}},pk=function(e){var t,n;t=vs(hm(e)),n=Zc(t,bm(e),e),t=t.slice(0,n+1);var r=zi(t,function(a,i,o){return Jt(i)&&Jt(t[o-1])&&a++,a},0);return t=Yr(t,Ut([e.nodeName])),n=Zc(t,bm(e),e),n-r},ym=function(e){var t;return Jt(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+pk(e)+"]"},gk=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&!(n&&n(t));t=t.parentNode)r.push(t);return r},Cm=function(e,t){var n,r,a=[],i,o,u;return n=t.container(),r=t.offset(),Jt(n)?i=mk(n,r):(o=n.childNodes,r>=o.length?(i="after",r=o.length-1):i="before",n=o[r]),a.push(ym(n)),u=gk(e,n),u=Yr(u,Gu(yr)),a=a.concat(nf(u,function(f){return ym(f)})),a.reverse().join("/")+","+i},hk=function(e,t,n){var r=vs(e);return r=Yr(r,function(a,i){return!Jt(a)||!Jt(r[i-1])}),r=Yr(r,Ut([t])),r[n]},bk=function(e,t){for(var n=e,r=0,a;Jt(n);){if(a=n.data.length,t>=r&&t<=r+a){e=n,t=t-r;break}if(!Jt(n.nextSibling)){e=n,t=a;break}r+=a,n=n.nextSibling}return Jt(e)&&t>e.data.length&&(t=e.data.length),R(e,t)},wm=function(e,t){var n;if(!t)return null;var r=t.split(","),a=r[0].split("/");n=r.length>1?r[1]:"before";var i=zi(a,function(o,u){var f=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return f?(f[1]==="text()"&&(f[1]="#text"),hk(o,f[1],parseInt(f[2],10))):null},e);return i?Jt(i)?bk(i,parseInt(n,10)):(n==="after"?n=gm(i)+1:n=gm(i),R(i.parentNode,n)):null},Ao=Ae,yk=function(e,t,n){var r,a;for(a=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Q(r);r=r.previousSibling)a+=e(r.data).length;return a},Em=function(e,t,n,r,a){var i=r[a?"startContainer":"endContainer"],o=r[a?"startOffset":"endOffset"],u=[],f,s=0,l=e.getRoot();for(Q(i)?u.push(n?yk(t,i,o):o):(f=i.childNodes,o>=f.length&&f.length&&(s=1,o=Math.max(0,f.length-1)),u.push(e.nodeIndex(f[o],n)+s));i&&i!==l;i=i.parentNode)u.push(e.nodeIndex(i,n));return u},Ck=function(e,t,n,r){var a=t.dom,i={};return i.start=Em(a,e,n,r,!0),t.isCollapsed()||(i.end=Em(a,e,n,r,!1)),dd(r)&&(i.isFakeCaret=!0),i},ds=function(e,t,n){var r=0;return B.each(e.select(t),function(a){if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;r++}}),r},Sm=function(e,t){var n,r,a,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],re(n)&&n.nodeName==="TR"&&(a=n.childNodes,n=a[Math.min(t?r:r-1,a.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},km=function(e){return Sm(e,!0),Sm(e,!1),e},xm=function(e,t){var n;if(re(e)&&(e=nr(e,t),Ao(e)))return e;if(Rt(e)&&(Q(e)&&ia(e)&&(e=e.parentNode),n=e.previousSibling,Ao(n)||(n=e.nextSibling,Ao(n))))return n},wk=function(e){return xm(e.startContainer,e.startOffset)||xm(e.endContainer,e.endOffset)},Nm=function(e,t,n){var r=n.getNode(),a=r?r.nodeName:null,i=n.getRng();if(Ao(r)||a==="IMG")return{name:a,index:ds(n.dom,a,r)};var o=wk(i);return o?(a=o.tagName,{name:a,index:ds(n.dom,a,o)}):Ck(e,n,t,i)},Ek=function(e){var t=e.getRng();return{start:Cm(e.dom.getRoot(),R.fromRangeStart(t)),end:Cm(e.dom.getRoot(),R.fromRangeEnd(t))}},Sk=function(e){return{rng:e.getRng()}},Am=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Tm=function(e,t){var n=e.dom,r=e.getRng(),a=n.uniqueId(),i=e.isCollapsed(),o=e.getNode(),u=o.nodeName;if(u==="IMG")return{name:u,index:ds(n,u,o)};var f=km(r.cloneRange());if(!i){f.collapse(!1);var s=Am(n,a+"_end",t);cs(n,f,s)}r=km(r),r.collapse(!0);var l=Am(n,a+"_start",t);return cs(n,r,l),e.moveToBookmark({id:a,keep:!0}),{id:a}},kk=function(e,t,n){return t===2?Nm(Wn,n,e):t===3?Ek(e):t?Sk(e):Tm(e,!1)},Rm=K(Nm,wt,!0),xk=Ce.DOM,Nk="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Bm=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var a=e.getParam(t,"","hash");return Me(a,e.id).getOr(n)}else return r},Ak=function(e){return e.getParam("iframe_attrs",{})},Tk=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Rk=function(e){return e.getParam("document_base_url","")},Bk=function(e){return Bm(e,"body_id","tinymce")},Dk=function(e){return Bm(e,"body_class","")},Dm=function(e){return e.getParam("content_security_policy","")},_k=function(e){return e.getParam("br_in_pre",!0)},it=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t===!0?"p":t},li=function(e){return e.getParam("forced_root_block_attrs",{})},Ok=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Pk=function(e){return e.getParam("no_newline_selector","")},Ik=function(e){return e.getParam("keep_styles",!0)},Lk=function(e){return e.getParam("end_container_on_empty_block",!1)},$k=function(e){return B.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Fk=function(e){return B.explode(e.getParam("font_size_classes",""))},Mk=function(e){return e.getParam("images_dataimg_filter",Fe,"function")},_m=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Uk=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},zk=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Om=function(e){return e.getParam("icons","","string")},Hk=function(e){return e.getParam("icons_url","","string")},Vk=function(e){return e.getParam("images_upload_url","","string")},qk=function(e){return e.getParam("images_upload_base_path","","string")},Wk=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},jk=function(e){return e.getParam("images_upload_handler",null,"function")},Kk=function(e){return e.getParam("content_css_cors",!1,"boolean")},Pm=function(e){return e.getParam("referrer_policy","","string")},Im=function(e){return e.getParam("language","en","string")},Gk=function(e){return e.getParam("language_url","","string")},Lm=function(e){return e.getParam("indent_use_margin",!1)},Xk=function(e){return e.getParam("indentation","40px","string")},Yk=function(e){var t=e.getParam("content_css");return Le(t)?Te(t.split(","),of):Lt(t)?t:t===!1||e.inline?[]:["default"]},$m=function(e){var t=e.getParam("font_css",[]);return Lt(t)?t:Te(t.split(","),of)},Qk=function(e){return e.getParam("directionality",Zt.isRtl()?"rtl":void 0)},Zk=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Fm=function(e){var t=e.getParam("object_resizing");return t===!1||ue.iOS?!1:Le(t)?t:"table,img,figure.image,div,video,iframe"},Jk=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},e1=function(e){return e.getParam("placeholder",xk.getAttrib(e.getElement(),"placeholder"),"string")},Mm=function(e){return e.getParam("event_root")},t1=function(e){return e.getParam("service_message")},ci=function(e){return e.getParam("theme")},n1=function(e){return e.getParam("validate")},vi=function(e){return e.getParam("inline_boundaries")!==!1},r1=function(e){return e.getParam("formats")},a1=function(e){var t=e.getParam("preview_styles",Nk);return Le(t)?t:""},i1=function(e){return e.getParam("format_empty_lines",!1,"boolean")},o1=function(e){return e.getParam("custom_ui_selector","","string")},u1=function(e){return e.getParam("theme_url")},f1=function(e){return e.getParam("inline")},s1=function(e){return e.getParam("hidden_input")},l1=function(e){return e.getParam("submit_patch")},c1=function(e){return e.getParam("encoding")==="xml"},v1=function(e){return e.getParam("add_form_submit_trigger")},d1=function(e){return e.getParam("add_unload_trigger")},m1=function(e){return it(e)!==""},p1=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},g1=function(e){return e.getParam("disable_nodechange")},h1=function(e){return e.getParam("readonly")},b1=function(e){return e.getParam("content_css_cors")},ms=function(e){return e.getParam("plugins","","string")},y1=function(e){return e.getParam("external_plugins")},C1=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},w1=function(e){return e.getParam("visual",!0,"boolean")},E1=function(e){return e.getParam("visual_table_class","mce-item-table","string")},S1=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},k1=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},x1=re,Um=Q,zm=function(e){var t=e.parentNode;t&&t.removeChild(e)},Hm=function(e){var t=Wn(e);return{count:e.length-t.length,text:t}},Vm=function(e){for(var t;(t=e.data.lastIndexOf(Ze))!==-1;)e.deleteData(t,1)},qm=function(e,t){return Ar(e),t},N1=function(e,t){var n=Hm(e.data.substr(0,t.offset())),r=Hm(e.data.substr(t.offset())),a=n.text+r.text;return a.length>0?(Vm(e),R(e,t.offset()-n.count)):t},A1=function(e,t){var n=t.container(),r=qC(un(n.childNodes),e).map(function(a){return a<t.offset()?R(n,t.offset()-1):t}).getOr(t);return Ar(e),r},T1=function(e,t){return Um(e)&&t.container()===e?N1(e,t):qm(e,t)},R1=function(e,t){return t.container()===e.parentNode?A1(e,t):qm(e,t)},B1=function(e,t){return R.isTextPosition(t)?T1(e,t):R1(e,t)},Ar=function(e){x1(e)&&Rt(e)&&(vd(e)?e.removeAttribute("data-mce-caret"):zm(e)),Um(e)&&(Vm(e),e.data.length===0&&zm(e))},ps=$t().browser,D1=Ae,_1=zt,O1=Xi,P1="*[contentEditable=false],video,audio,embed,object",Wm=function(e,t,n){var r=om(t.getBoundingClientRect(),n),a,i;if(e.tagName==="BODY"){var o=e.ownerDocument.documentElement;a=e.scrollLeft||o.scrollLeft,i=e.scrollTop||o.scrollTop}else{var u=e.getBoundingClientRect();a=e.scrollLeft-u.left,i=e.scrollTop-u.top}r.left+=a,r.right+=a,r.top+=i,r.bottom+=i,r.width=1;var f=t.offsetWidth-t.clientWidth;return f>0&&(n&&(f*=-1),r.left+=f,r.right+=f),r},I1=function(e){for(var t=bt(k.fromDom(e),P1),n=0;n<t.length;n++){var r=t[n].dom,a=r.previousSibling;if(io(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(i.length-1,1)}if(a=r.nextSibling,ao(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(0,1)}}},L1=function(e,t,n,r){var a=ma(),i,o,u=it(e),f=u.length>0?u:"p",s=function(p,g){var y;if(l(),O1(g))return null;if(n(g)){o=tE(f,g,p);var b=Wm(t,g,p);ie(o).css("top",b.top);var w=ie('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ae({},b)).appendTo(t)[0];a.set({caret:w,element:g,before:p}),p&&ie(w).addClass("mce-visual-caret-before"),c(),y=g.ownerDocument.createRange(),y.setStart(o,0),y.setEnd(o,0)}else return o=Jw(g,p),y=g.ownerDocument.createRange(),di(o.nextSibling)?(y.setStart(o,0),y.setEnd(o,0)):(y.setStart(o,1),y.setEnd(o,1)),y;return y},l=function(){I1(t),o&&(Ar(o),o=null),a.on(function(p){ie(p.caret).remove(),a.clear()}),i&&(nt.clearInterval(i),i=void 0)},c=function(){i=nt.setInterval(function(){r()?ie("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):ie("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},v=function(){a.on(function(p){var g=Wm(t,p.element,p.before);ie(p.caret).css(ae({},g))})},d=function(){return nt.clearInterval(i)},m=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:s,hide:l,getCss:m,reposition:v,destroy:d}},jm=function(){return ps.isIE()||ps.isEdge()||ps.isFirefox()},di=function(e){return D1(e)||_1(e)},Tr=function(e){return di(e)||ea(e)&&jm()},gs=Ae,$1=zt,F1=Gi("display","block table table-cell table-caption list-item"),Km=Rt,Gm=ia,Xm=re,M1=vn,ya=function(e){return e>0},Rr=function(e){return e<0},To=function(e,t){for(var n;n=e(t);)if(!Gm(n))return n;return null},Ca=function(e,t,n,r,a){var i=new Ve(e,r),o=gs(e)||Gm(e);if(Rr(t)){if(o&&(e=To(i.prev.bind(i),!0),n(e)))return e;for(;e=To(i.prev.bind(i),a);)if(n(e))return e}if(ya(t)){if(o&&(e=To(i.next.bind(i),!0),n(e)))return e;for(;e=To(i.next.bind(i),a);)if(n(e))return e}return null},ar=function(e,t){for(;e&&e!==t;){if(F1(e))return e;e=e.parentNode}return null},pn=function(e,t,n){return ar(e.container(),n)===ar(t.container(),n)},hs=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Xm(n)?n.childNodes[r+e]:null},Ym=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},U1=function(e,t,n){return ar(t,e)===ar(n,e)},Qm=function(e,t,n){for(var r=e?"previousSibling":"nextSibling";n&&n!==t;){var a=n[r];if(Km(a)&&(a=a[r]),gs(a)||$1(a)){if(U1(t,a,n))return a;break}if(M1(a))break;n=n.parentNode}return null},mi=K(Ym,!0),pi=K(Ym,!1),bs=function(e,t,n){var r,a=K(Qm,!0,t),i=K(Qm,!1,t),o=n.startContainer,u=n.startOffset;if(ia(o)){Xm(o)||(o=o.parentNode);var f=o.getAttribute("data-mce-caret");if(f==="before"&&(r=o.nextSibling,Tr(r)))return mi(r);if(f==="after"&&(r=o.previousSibling,Tr(r)))return pi(r)}if(!n.collapsed)return n;if(Q(o)){if(Km(o)){if(e===1){if(r=i(o),r)return mi(r);if(r=a(o),r)return pi(r)}if(e===-1){if(r=a(o),r)return pi(r);if(r=i(o),r)return mi(r)}return n}if(io(o)&&u>=o.data.length-1)return e===1&&(r=i(o),r)?mi(r):n;if(ao(o)&&u<=1)return e===-1&&(r=a(o),r)?pi(r):n;if(u===o.data.length)return r=i(o),r?mi(r):n;if(u===0)return r=a(o),r?pi(r):n}return n},Zm=function(e,t){return h.from(hs(e?0:-1,t)).filter(gs)},gi=function(e,t,n){var r=bs(e,t,n);return e===-1?R.fromRangeStart(r):R.fromRangeEnd(r)},Ro=function(e){return h.from(e.getNode()).map(k.fromDom)},z1=function(e){return h.from(e.getNode(!0)).map(k.fromDom)},ys=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Bo=function(e,t){var n=pn(e,t);return!n&&_e(e.getNode())?!0:n},je;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(je||(je={}));var H1=Ae,gn=Q,Jm=re,Cs=_e,wa=vn,ep=vE,Do=oo,V1=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},tp=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},np=function(e,t){if(ya(e)){if(wa(t.previousSibling)&&!gn(t.previousSibling))return R.before(t);if(gn(t))return R(t,0)}if(Rr(e)){if(wa(t.nextSibling)&&!gn(t.nextSibling))return R.after(t);if(gn(t))return R(t,t.data.length)}return Rr(e)?Cs(t)?R.before(t):R.after(t):R.before(t)},q1=function(e,t){var n=t.nextSibling;return n&&wa(n)?gn(n)?R(n,0):R.before(n):ws(je.Forwards,R.after(t),e)},ws=function(e,t,n){var r,a,i,o;if(!Jm(n)||!t)return null;if(t.isEqual(R.after(n))&&n.lastChild){if(o=R.after(n.lastChild),Rr(e)&&wa(n.lastChild)&&Jm(n.lastChild))return Cs(n.lastChild)?R.before(n.lastChild):o}else o=t;var u=o.container(),f=o.offset();if(gn(u)){if(Rr(e)&&f>0)return R(u,--f);if(ya(e)&&f<u.length)return R(u,++f);r=u}else{if(Rr(e)&&f>0&&(a=tp(u,f-1),wa(a)))return!ep(a)&&(i=Ca(a,e,Do,a),i)?gn(i)?R(i,i.data.length):R.after(i):gn(a)?R(a,a.data.length):R.before(a);if(ya(e)&&f<u.childNodes.length&&(a=tp(u,f),wa(a)))return Cs(a)?q1(n,a):!ep(a)&&(i=Ca(a,e,Do,a),i)?gn(i)?R(i,0):R.before(i):gn(a)?R(a,0):R.after(a);r=a||o.getNode()}if((ya(e)&&o.isAtEnd()||Rr(e)&&o.isAtStart())&&(r=Ca(r,e,Fe,n,!0),Do(r,n)))return np(e,r);a=Ca(r,e,Do,n);var s=Mn(ve(V1(u,n),H1));return s&&(!a||!s.contains(a))?(ya(e)?o=R.after(s):o=R.before(s),o):a?np(e,a):null},en=function(e){return{next:function(t){return ws(je.Forwards,t,e)},prev:function(t){return ws(je.Backwards,t,e)}}},W1=function(e,t,n){var r=e?R.before(n):R.after(n);return _t(e,t,r)},j1=function(e){return _e(e)?R.before(e):R.after(e)},rp=function(e){return R.isTextPosition(e)?e.offset()===0:vn(e.getNode())},ap=function(e){if(R.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else return vn(e.getNode(!0))},ip=function(e,t){return!R.isTextPosition(e)&&!R.isTextPosition(t)&&e.getNode()===t.getNode(!0)},K1=function(e){return!R.isTextPosition(e)&&_e(e.getNode())},G1=function(e,t,n){return e?!ip(t,n)&&!K1(t)&&ap(t)&&rp(n):!ip(n,t)&&rp(t)&&ap(n)},_t=function(e,t,n){var r=en(t);return h.from(e?r.next(n):r.prev(n))},_o=function(e,t,n){return _t(e,t,n).bind(function(r){return pn(n,r,t)&&G1(e,n,r)?_t(e,t,r):h.some(r)})},op=function(e,t,n,r){return _o(e,t,n).bind(function(a){return r(a)?op(e,t,a,r):h.some(a)})},Ea=function(e,t){var n=e?t.firstChild:t.lastChild;return Q(n)?h.some(R(n,e?0:n.data.length)):n?vn(n)?h.some(e?R.before(n):j1(n)):W1(e,t,n):h.none()},tn=K(_t,!0),hn=K(_t,!1),pt=K(Ea,!0),bn=K(Ea,!1),up="_mce_caret",yn=function(e){return re(e)&&e.id===up},Br=function(e,t){for(;t&&t!==e;){if(t.id===up)return t;t=t.parentNode}return null},X1=function(e){return Le(e.start)},Y1=function(e){return de(e,"rng")},Q1=function(e){return de(e,"id")},Z1=function(e){return de(e,"name")},fp=function(e){return B.isArray(e.start)},sp=function(e,t){return re(t)&&e.isBlock(t)&&!t.innerHTML&&!ue.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},J1=function(e,t){var n,r=e.createRng();return n=wm(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=wm(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},ex=function(e,t){var n=e.ownerDocument.createTextNode(Ze);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},tx=function(e){return e.hasChildNodes()===!1},nx=function(e,t){return bn(e).fold(xe,function(n){return t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0})},lp=function(e,t,n){return tx(t)&&Br(e,t)?(ex(t,n),!0):!1},cp=function(e,t,n,r){var a=n[t?"start":"end"],i,o,u,f,s=e.getRoot();if(a){for(u=a[0],o=s,i=a.length-1;i>=1;i--){if(f=o.childNodes,lp(s,o,r))return!0;if(a[i]>f.length-1)return lp(s,o,r)?!0:nx(o,r);o=f[a[i]]}o.nodeType===3&&(u=Math.min(a[0],o.nodeValue.length)),o.nodeType===1&&(u=Math.min(a[0],o.childNodes.length)),t?r.setStart(o,u):r.setEnd(o,u)}return!0},Es=function(e){return Q(e)&&e.data.length>0},vp=function(e,t,n){var r=e.get(n.id+"_"+t),a,i,o,u,f=n.keep,s,l;if(r){if(a=r.parentNode,t==="start"?(f?r.hasChildNodes()?(a=r.firstChild,i=1):Es(r.nextSibling)?(a=r.nextSibling,i=0):Es(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)+1):i=e.nodeIndex(r),s=a,l=i):(f?r.hasChildNodes()?(a=r.firstChild,i=1):Es(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)):i=e.nodeIndex(r),s=a,l=i),!f){for(u=r.previousSibling,o=r.nextSibling,B.each(B.grep(r.childNodes),function(c){Q(c)&&(c.nodeValue=c.nodeValue.replace(/\uFEFF/g,""))});r=e.get(n.id+"_"+t);)e.remove(r,!0);u&&o&&u.nodeType===o.nodeType&&Q(u)&&!ue.opera&&(i=u.nodeValue.length,u.appendData(o.nodeValue),e.remove(o),s=u,l=i)}return h.some(R(s,l))}else return h.none()},rx=function(e,t){var n=e.createRng();return cp(e,!0,t,n)&&cp(e,!1,t,n)?h.some(n):h.none()},ax=function(e,t){var n=vp(e,"start",t),r=vp(e,"end",t);return ht(n,r.or(n),function(a,i){var o=e.createRng();return o.setStart(sp(e,a.container()),a.offset()),o.setEnd(sp(e,i.container()),i.offset()),o})},ix=function(e,t){return h.from(e.select(t.name)[t.index]).map(function(n){var r=e.createRng();return r.selectNode(n),r})},ox=function(e,t){var n=e.dom;if(t){if(fp(t))return rx(n,t);if(X1(t))return h.some(J1(n,t));if(Q1(t))return ax(n,t);if(Z1(t))return ix(n,t);if(Y1(t))return h.some(t.rng)}return h.none()},ux=function(e,t,n){return kk(e,t,n)},fx=function(e,t){ox(e,t).each(function(n){e.setRng(n)})},Ot=function(e){return re(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},sx=function(e){return function(t){return e===t}},hi=sx(Et),Sa=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},Ss=function(e){return!Sa(e)&&!hi(e)},Oo=function(e){return!!e.nodeType},lx=function(e){return e&&/^(IMG)$/.test(e.nodeName)},dp=function(e,t,n){var r=n.startOffset,a=n.startContainer;if(!(a===n.endContainer&&lx(a.childNodes[r]))&&re(a)){var i=a.childNodes,o=void 0;r<i.length?(a=i[r],o=new Ve(a,e.getParent(a,e.isBlock))):(a=i[i.length-1],o=new Ve(a,e.getParent(a,e.isBlock)),o.next(!0));for(var u=o.current();u;u=o.next())if(Q(u)&&!Ns(u)){n.setStart(u,0),t.setRng(n);return}}},ks=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(re(e)||!Ns(e))return e}},xs=function(e,t){return Oo(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},ka=function(e,t,n){return e.schema.isValidChild(t,n)},Ns=function(e,t){if(t===void 0&&(t=!1),Ee(e)&&Q(e)){var n=t?e.data.replace(/ /g," "):e.data;return Cr(n)}else return!1},cx=function(e){return Ee(e)&&Q(e)&&e.length===0},On=function(e,t){return Re(e)?e=e(t):Ee(t)&&(e=e.replace(/%(\w+)/g,function(n,r){return t[r]||n})),e},As=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Ts=function(e,t,n){return(n==="color"||n==="backgroundColor")&&(t=e.toHex(t)),n==="fontWeight"&&t===700&&(t="bold"),n==="fontFamily"&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Po=function(e,t,n){return Ts(e,e.getStyle(t,n),n)},mp=function(e,t){var n;return e.getParent(t,function(r){return n=e.getStyle(r,"text-decoration"),n&&n!=="none"}),n},Io=function(e,t,n){return e.getParents(t,n,e.getRoot())},vx=function(e,t){var n=function(r){var a=function(i){return i.length>1&&i.charAt(0)==="%"};return vt(["styles","attributes"],function(i){return Me(r,i).exists(function(o){var u=Lt(o)?o:QC(o);return vt(u,a)})})};return vt(e.formatter.get(t),n)},dx=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],a=function(i){return Va(i,function(o,u){return vt(r,function(f){return f===u})})};return vt(e.formatter.get(t),function(i){var o=a(i);return vt(e.formatter.get(n),function(u){var f=a(u);return ZC(o,f)})})},Cn=function(e){return Xr(e,"block")},kt=function(e){return Xr(e,"selector")},Ke=function(e){return Xr(e,"inline")},mx=function(e){return kt(e)&&Ke(e)&&Yi(Me(e,"mixed"),!0)},Rs=function(e){return kt(e)&&e.expand!==!1&&!Ke(e)},xa=Ot,pp=Io,gp=Ns,px=xs,gx=function(e){return _e(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},hp=function(e,t){for(var n=t;n;){if(re(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},bp=function(e,t,n,r){for(var a=t.data,i=n;e?i>=0:i<a.length;e?i--:i++)if(r(a.charAt(i)))return e?i+1:i;return-1},hx=function(e,t,n){return bp(e,t,n,function(r){return hi(r)||Sa(r)})},bx=function(e,t,n){return bp(e,t,n,Ss)},yp=function(e,t,n,r,a,i){var o,u=e.getParent(n,e.isBlock)||t,f=function(l,c,v){var d=im(e),m=a?d.backwards:d.forwards;return h.from(m(l,c,function(p,g){return xa(p.parentNode)?-1:(o=p,v(a,p,g))},u))},s=f(n,r,hx);return s.bind(function(l){return i?f(l.container,l.offset+(a?-1:0),bx):h.some(l)}).orThunk(function(){return o?h.some({container:o,offset:a?0:o.length}):h.none()})},Cp=function(e,t,n,r,a){Q(r)&&rv(r.data)&&r[a]&&(r=r[a]);for(var i=pp(e,r),o=0;o<i.length;o++)for(var u=0;u<t.length;u++){var f=t[u];if(!(Ee(f.collapsed)&&f.collapsed!==n.collapsed)&&kt(f)&&e.is(i[o],f.selector))return i[o]}return r},wp=function(e,t,n,r){var a=n,i=e.dom,o=i.getRoot(),u=t[0];if(Cn(u)&&(a=u.wrapper?null:i.getParent(n,u.block,o)),!a){var f=i.getParent(n,"LI,TD,TH");a=i.getParent(Q(n)?n.parentNode:n,function(s){return s!==o&&px(e,s)},f)}if(a&&Cn(u)&&u.wrapper&&(a=pp(i,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a[r]&&!i.isBlock(a[r])&&(a=a[r],!As(a,"br")););return a||n},Ep=function(e,t,n,r){var a=n.parentNode;return Ee(n[r])?!1:a===t||on(a)||e.isBlock(a)?!0:Ep(e,t,a,r)},Lo=function(e,t,n,r,a){var i=n,o=a?"previousSibling":"nextSibling",u=e.getRoot();if(Q(n)&&!gp(n)&&(a?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(i))return i;for(var f=i[o];f;f=f[o]){var s=Q(f)&&!Ep(e,u,f,o);if(!xa(f)&&!gx(f)&&!gp(f,s))return i}if(i===u||i.parentNode===u){n=i;break}i=i.parentNode}return n},Sp=function(e){return xa(e.parentNode)||xa(e)},Na=function(e,t,n,r){r===void 0&&(r=!1);var a=t.startContainer,i=t.startOffset,o=t.endContainer,u=t.endOffset,f=e.dom,s=n[0];if(re(a)&&a.hasChildNodes()&&(a=nr(a,i),Q(a)&&(i=0)),re(o)&&o.hasChildNodes()&&(o=nr(o,t.collapsed?u:u-1),Q(o)&&(u=o.nodeValue.length)),a=hp(f,a),o=hp(f,o),Sp(a)&&(a=xa(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Q(a)&&(i=t.collapsed?a.length:0)),Sp(o)&&(o=xa(o)?o:o.parentNode,t.collapsed?o=o.nextSibling||o:o=o.previousSibling||o,Q(o)&&(u=t.collapsed?0:o.length)),t.collapsed){var l=yp(f,e.getBody(),a,i,!0,r);l.each(function(v){var d=v.container,m=v.offset;a=d,i=m});var c=yp(f,e.getBody(),o,u,!1,r);c.each(function(v){var d=v.container,m=v.offset;o=d,u=m})}return(Ke(s)||s.block_expand)&&((!Ke(s)||!Q(a)||i===0)&&(a=Lo(f,n,a,i,!0)),(!Ke(s)||!Q(o)||u===o.nodeValue.length)&&(o=Lo(f,n,o,u,!1))),Rs(s)&&(a=Cp(f,n,t,a,"previousSibling"),o=Cp(f,n,t,o,"nextSibling")),(Cn(s)||kt(s))&&(a=wp(e,n,a,"previousSibling"),o=wp(e,n,o,"nextSibling"),Cn(s)&&(f.isBlock(a)||(a=Lo(f,n,a,i,!0)),f.isBlock(o)||(o=Lo(f,n,o,u,!1)))),re(a)&&(i=f.nodeIndex(a),a=a.parentNode),re(o)&&(u=f.nodeIndex(o)+1,o=o.parentNode),{startContainer:a,startOffset:i,endContainer:o,endOffset:u}},bi=function(e,t,n){var r=t.startOffset,a=nr(t.startContainer,r),i=t.endOffset,o=nr(t.endContainer,i-1),u=function(p){var g=p[0];Q(g)&&g===a&&r>=g.data.length&&p.splice(0,1);var y=p[p.length-1];return i===0&&p.length>0&&y===o&&Q(y)&&p.splice(p.length-1,1),p},f=function(p,g,y){for(var b=[];p&&p!==y;p=p[g])b.push(p);return b},s=function(p,g){return e.getParent(p,function(y){return y.parentNode===g},g)},l=function(p,g,y){for(var b=y?"nextSibling":"previousSibling",w=p,S=w.parentNode;w&&w!==g;w=S){S=w.parentNode;var C=f(w===p?w:w[b],b);C.length&&(y||C.reverse(),n(u(C)))}};if(a===o)return n(u([a]));var c=e.findCommonAncestor(a,o);if(e.isChildOf(a,o))return l(a,c,!0);if(e.isChildOf(o,a))return l(o,c);var v=s(a,c)||a,d=s(o,c)||o;l(a,v,!0);var m=f(v===a?v:v.nextSibling,"nextSibling",d===o?d.nextSibling:d);m.length&&n(u(m)),l(o,d)},Bs=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},yx=function(e){return Kr(e,function(t){var n=ko(t);return n?[k.fromDom(n)]:[]})},Cx=function(e){return Bs(e).length>1},wx=function(e){return ve(yx(e),to)},Ex=function(e){return bt(e,"td[data-mce-selected],th[data-mce-selected]")},kp=function(e,t){var n=Ex(t);return n.length>0?n:wx(e)},Aa=function(e){return kp(Bs(e.selection.getSel()),k.fromDom(e.getBody()))},yi=function(e,t){return Ji(e,"table",t)},Sx=function(e){var t=e.startContainer,n=e.startOffset;return Q(t)?n===0?h.some(k.fromDom(t)):h.none():h.from(t.childNodes[n]).map(k.fromDom)},kx=function(e){var t=e.endContainer,n=e.endOffset;return Q(t)?n===t.data.length?h.some(k.fromDom(t)):h.none():h.from(t.childNodes[n-1]).map(k.fromDom)},xp=function(e){return Lv(e).fold(G([e]),function(t){return[e].concat(xp(t))})},Ds=function(e){return lf(e).fold(G([e]),function(t){return Ue(t)==="br"?hr(t).map(function(n){return[e].concat(Ds(n))}).getOr([]):[e].concat(Ds(t))})},_s=function(e,t){return ht(Sx(t),kx(t),function(n,r){var a=Ye(xp(e),K(Se,n)),i=Ye(Ds(e),K(Se,r));return a.isSome()&&i.isSome()}).getOr(!1)},Os=function(e,t,n,r){var a=n,i=new Ve(n,a),o=Va(e.schema.getMoveCaretBeforeOnEnterElements(),function(u,f){return!Xe(["td","th","table"],f.toLowerCase())});do{if(Q(n)&&B.trim(n.nodeValue).length!==0){r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length);return}if(o[n.nodeName]){r?t.setStartBefore(n):n.nodeName==="BR"?t.setEndBefore(n):t.setEndAfter(n);return}}while(n=r?i.next():i.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},$o=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Ps=function(e,t){var n=Aa(e);n.length>0?X(n,function(r){var a=r.dom,i=e.dom.createRng();i.setStartBefore(a),i.setEndAfter(a),t(i,!0)}):t(e.selection.getRng(),!1)},Is=function(e,t,n){var r=Tm(e,t);n(r),e.moveToBookmark(r)},xx=function(e,t){var n=function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return r(i).getOr("")},r=function(i){return e(i)?h.from(i.dom.nodeValue):h.none()},a=function(i,o){if(!e(i))throw new Error("Can only set raw "+t+" value of a "+t+" node");i.dom.nodeValue=o};return{get:n,getOption:r,set:a}},Nx=xx(Ft,"text"),Ls=function(e){return Nx.get(e)},Ax=function(e){return Ft(e)&&Ls(e)===Ze},Tx=function(e,t,n,r){return Gt(t).fold(function(){return"skipping"},function(a){return r==="br"||Ax(t)?"valid":qS(t)?"existing":yn(t.dom)?"caret":!ka(e,n,r)||!ka(e,Ue(a),n)?"invalid-child":"valid"})},Rx=function(e,t){var n=Na(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Np=function(e,t,n,r){var a=t.uid,i=a===void 0?em("mce-annotation"):a,o=e0(t,["uid"]),u=k.fromTag("span",e);Eo(u,os()),ln(u,""+So(),i),ln(u,""+ui(),n);var f=r(i,o),s=f.attributes,l=s===void 0?{}:s,c=f.classes,v=c===void 0?[]:c;return zn(u,l),YS(u,v),u},Bx=function(e,t,n,r,a){var i=[],o=Np(e.getDoc(),a,n,r),u=ma(),f=function(){u.clear()},s=function(){return u.get().getOrThunk(function(){var d=pa(o);return i.push(d),u.set(d),d})},l=function(d){X(d,c)},c=function(d){var m=Tx(e,d,"span",Ue(d));switch(m){case"invalid-child":{f();var p=Mt(d);l(p),f();break}case"valid":{var g=s();rw(d,g);break}}},v=function(d){var m=Te(d,k.fromDom);l(m)};return bi(e.dom,t,function(d){f(),v(d)}),i},Dx=function(e,t,n,r){e.undoManager.transact(function(){var a=e.selection,i=a.getRng(),o=Aa(e).length>0;if(i.collapsed&&!o&&Rx(e,i),a.getRng().collapsed&&!o){var u=Np(e.getDoc(),r,t,n.decorate);tm(u,Et),a.getRng().insertNode(u.dom),a.select(u.dom)}else Is(a,!1,function(){Ps(e,function(f){Bx(e,f,t,n.decorate,r)})})})},Ap=function(e){var t=XS();GS(e,t);var n=KS(e);return{register:function(r,a){t.register(r,a)},annotate:function(r,a){t.lookup(r).each(function(i){Dx(e,r,i,a)})},annotationChanged:function(r,a){n.addListener(r,a)},remove:function(r){Zd(e,h.some(r)).each(function(a){var i=a.elements;X(i,zv)})},getAll:function(r){var a=jS(e,r);return Xc(a,function(i){return Te(i,function(o){return o.dom})})}}},Ci=function(e){return{getBookmark:K(ux,e),moveToBookmark:K(fx,e)}};Ci.isBookmarkNode=Ot;var Ta=function(e,t){for(;t&&t!==e;){if(sn(t)||Ae(t))return t;t=t.parentNode}return null},$s=function(e,t,n){if(n.collapsed)return!1;if(ue.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(re(r))return vt(r.getClientRects(),function(a){return fm(a,e,t)})}return vt(n.getClientRects(),function(a){return fm(a,e,t)})},_x=function(e,t){return e.fire("PreProcess",t)},Ox=function(e,t){return e.fire("PostProcess",t)},Px=function(e){return e.fire("remove")},Ix=function(e){return e.fire("detach")},Lx=function(e,t){return e.fire("SwitchMode",{mode:t})},$x=function(e,t,n,r,a){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:a})},Fx=function(e,t,n,r,a){e.fire("ObjectResized",{target:t,width:n,height:r,origin:a})},Mx=function(e){return e.fire("PreInit")},Ux=function(e){return e.fire("PostRender")},zx=function(e){return e.fire("Init")},Hx=function(e,t){return e.fire("PlaceholderToggle",{state:t})},Tp=function(e,t,n){return e.fire(t,n)},Rp=function(e,t,n,r){return e.fire("FormatApply",{format:t,node:n,vars:r})},Fs=function(e,t,n,r){return e.fire("FormatRemove",{format:t,node:n,vars:r})},te={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||te.metaKeyPressed(e)},metaKeyPressed:function(e){return ue.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Vx=Ae,Bp=function(e,t){var n="data-mce-selected",r=t.dom,a=B.each,i,o,u,f,s,l,c,v,d,m,p,g,y,b,w,S=t.getDoc(),C=document,x=Math.abs,T=Math.round,I=t.getBody(),J,q,D={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ne=function(N){return N&&(N.nodeName==="IMG"||t.dom.is(N,"figure.image"))},F=function(N){return zt(N)||r.hasClass(N,"mce-preview-object")},V=function(N,P){if(N.type==="longpress"||N.type.indexOf("touch")===0){var L=N.touches[0];return ne(N.target)&&!$s(L.clientX,L.clientY,P)}else return ne(N.target)&&!$s(N.clientX,N.clientY,P)},$=function(N){var P=N.target;V(N,t.selection.getRng())&&!N.isDefaultPrevented()&&t.selection.select(P)},H=function(N){return r.is(N,"figure.image")?[N.querySelector("img")]:r.hasClass(N,"mce-preview-object")&&Ee(N.firstElementChild)?[N,N.firstElementChild]:[N]},j=function(N){var P=Fm(t);return!P||N.getAttribute("data-mce-resize")==="false"||N===t.getBody()?!1:r.hasClass(N,"mce-preview-object")?Qr(k.fromDom(N.firstElementChild),P):Qr(k.fromDom(N),P)},_=function(N){return F(N)?r.create("img",{src:ue.transparentSrc}):N.cloneNode(!0)},W=function(N,P,L){if(Ee(L)){var Y=H(N);X(Y,function(ee){ee.style[P]||!t.schema.isValid(ee.nodeName.toLowerCase(),P)?r.setStyle(ee,P,L):r.setAttrib(ee,P,""+L)})}},fe=function(N,P,L){W(N,"width",P),W(N,"height",L)},ge=function(N){var P,L,Y,ee,pe;P=N.screenX-l,L=N.screenY-c,b=P*f[2]+m,w=L*f[3]+p,b=b<5?5:b,w=w<5?5:w,(ne(i)||F(i))&&Jk(t)!==!1?Y=!te.modifierPressed(N):Y=te.modifierPressed(N),Y&&(x(P)>x(L)?(w=T(b*g),b=T(w/g)):(b=T(w/g),w=T(b*g))),fe(o,b,w),ee=f.startPos.x+P,pe=f.startPos.y+L,ee=ee>0?ee:0,pe=pe>0?pe:0,r.setStyles(u,{left:ee,top:pe,display:"block"}),u.innerHTML=b+" &times; "+w,f[2]<0&&o.clientWidth<=b&&r.setStyle(o,"left",v+(m-b)),f[3]<0&&o.clientHeight<=w&&r.setStyle(o,"top",d+(p-w)),P=I.scrollWidth-J,L=I.scrollHeight-q,P+L!==0&&r.setStyles(u,{left:ee-P,top:pe-L}),y||($x(t,i,m,p,"corner-"+f.name),y=!0)},se=function(){var N=y;y=!1,N&&(W(i,"width",b),W(i,"height",w)),r.unbind(S,"mousemove",ge),r.unbind(S,"mouseup",se),C!==S&&(r.unbind(C,"mousemove",ge),r.unbind(C,"mouseup",se)),r.remove(o),r.remove(u),r.remove(s),Ge(i),N&&(Fx(t,i,b,w,"corner-"+f.name),r.setAttrib(i,"style",r.getAttrib(i,"style"))),t.nodeChanged()},Ge=function(N){O();var P=r.getPos(N,I),L=P.x,Y=P.y,ee=N.getBoundingClientRect(),pe=ee.width||ee.right-ee.left,Oe=ee.height||ee.bottom-ee.top;i!==N&&(we(),i=N,b=w=0);var ze=t.fire("ObjectSelected",{target:N}),qt=r.getAttrib(i,n,"1");j(N)&&!ze.isDefaultPrevented()?a(D,function(ut,ct){var Pe,Fn=function(He){var rn=H(i)[0];l=He.screenX,c=He.screenY,m=rn.clientWidth,p=rn.clientHeight,g=p/m,f=ut,f.name=ct,f.startPos={x:pe*ut[0]+L,y:Oe*ut[1]+Y},J=I.scrollWidth,q=I.scrollHeight,s=r.add(I,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),r.setStyles(s,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=_(i),r.addClass(o,"mce-clonedresizable"),r.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",r.setStyles(o,{left:L,top:Y,margin:0}),fe(o,pe,Oe),o.removeAttribute(n),I.appendChild(o),r.bind(S,"mousemove",ge),r.bind(S,"mouseup",se),C!==S&&(r.bind(C,"mousemove",ge),r.bind(C,"mouseup",se)),u=r.add(I,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+p)};Pe=r.get("mceResizeHandle"+ct),Pe&&r.remove(Pe),Pe=r.add(I,"div",{id:"mceResizeHandle"+ct,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ct+"-resize; margin:0; padding:0"}),ue.ie===11&&(Pe.contentEditable=!1),r.bind(Pe,"mousedown",function(He){He.stopImmediatePropagation(),He.preventDefault(),Fn(He)}),ut.elm=Pe,r.setStyles(Pe,{left:pe*ut[0]+L-Pe.offsetWidth/2,top:Oe*ut[1]+Y-Pe.offsetHeight/2})}):we(),r.getAttrib(i,n)||i.setAttribute(n,qt)},we=function(){O(),i&&i.removeAttribute(n),Be(D,function(N,P){var L=r.get("mceResizeHandle"+P);L&&(r.unbind(L),r.remove(L))})},ot=function(N){var P,L,Y=function(ee,pe){if(ee)do if(ee===pe)return!0;while(ee=ee.parentNode)};if(!(y||t.removed)){if(a(r.select("img[data-mce-selected],hr[data-mce-selected]"),function(ee){ee.removeAttribute(n)}),L=N.type==="mousedown"?N.target:e.getNode(),L=r.$(L).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Y(L,I)&&(U(),P=e.getStart(!0),Y(P,L)&&Y(e.getEnd(!0),L))){Ge(L);return}we()}},yt=function(N){return Vx(Ta(t.getBody(),N))},O=function(){Be(D,function(N){N.elm&&(r.unbind(N.elm),delete N.elm)})},U=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(N){}};t.on("init",function(){if(U(),ue.browser.isIE()||ue.browser.isEdge()){t.on("mousedown click",function(L){var Y=L.target,ee=Y.nodeName;!y&&/^(TABLE|IMG|HR)$/.test(ee)&&!yt(Y)&&(L.button!==2&&t.selection.select(Y,ee==="TABLE"),L.type==="mousedown"&&t.nodeChanged())});var N=function(L){var Y=function(ee){nt.setEditorTimeout(t,function(){return t.selection.select(ee)})};if(yt(L.target)||zt(L.target)){L.preventDefault(),Y(L.target);return}/^(TABLE|IMG|HR)$/.test(L.target.nodeName)&&(L.preventDefault(),L.target.tagName==="IMG"&&Y(L.target))};r.bind(I,"mscontrolselect",N),t.on("remove",function(){return r.unbind(I,"mscontrolselect",N)})}var P=nt.throttle(function(L){t.composing||ot(L)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",P),t.on("keyup compositionend",function(L){i&&i.nodeName==="TABLE"&&P(L)}),t.on("hide blur",we),t.on("contextmenu longpress",$,!0)}),t.on("remove",O);var Z=function(){i=o=s=null};return{isResizable:j,showResizeRect:Ge,hideResizeRect:we,updateResizeRect:ot,destroy:Z}},qx=function(e){return sn(e)||Ae(e)},Wx=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},jx=function(e,t,n){var r,a=n.elementFromPoint(e,t),i=n.body.createTextRange();if((!a||a.tagName==="HTML")&&(a=n.body),i.moveToElementText(a),r=B.toArray(i.getClientRects()),r=r.sort(function(o,u){return o=Math.abs(Math.max(o.top-t,o.bottom-t)),u=Math.abs(Math.max(u.top-t,u.bottom-t)),o-u}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(o){}}return null},Kx=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Ae(Wx(n,t,qx))?null:e},Ms=function(e,t,n){var r,a,i=n;if(i.caretPositionFromPoint)a=i.caretPositionFromPoint(e,t),a&&(r=n.createRange(),r.setStart(a.offsetNode,a.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=jx(e,t,n)}return Kx(r,n.body)}return r},Us=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Gx=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Dp=function(e,t,n){return Gx(e,t,n)!==null},Xx=function(e,t,n){return Dp(e,t,function(r){return r.nodeName===n})},zs=function(e){return e&&e.nodeName==="TABLE"},Yx=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Qx=function(e,t){return Rt(e)&&Dp(e,t,yn)===!1},_p=function(e,t,n){for(var r=new Ve(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(_e(t))return!0},Zx=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},Jx=function(e,t){for(;t&&t!==e;){if(Ae(t))return!0;t=t.parentNode}return!1},Hs=function(e,t,n,r,a){var i,o=e.getRoot(),u,f=e.schema.getNonEmptyElements(),s=e.getParent(a.parentNode,e.isBlock)||o;if(r&&_e(a)&&t&&e.isEmpty(s))return h.some(R(a.parentNode,e.nodeIndex(a)));for(var l=new Ve(a,s);u=l[r?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||Qx(u,o))return h.none();if(Q(u)&&u.nodeValue.length>0)return Xx(u,o,"A")===!1?h.some(R(u,r?u.nodeValue.length:0)):h.none();if(e.isBlock(u)||f[u.nodeName.toLowerCase()])return h.none();i=u}return n&&i?h.some(R(i,0)):h.none()},Op=function(e,t,n,r){var a,i,o=e.getRoot(),u,f,s=!1;a=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=re(a)&&i===a.childNodes.length,c=e.schema.getNonEmptyElements();if(f=n,Rt(a))return h.none();if(re(a)&&i>a.childNodes.length-1&&(f=!1),gf(a)&&(a=o,i=0),a===o){if(f&&(u=a.childNodes[i>0?i-1:0],u&&(Rt(u)||c[u.nodeName]||zs(u))))return h.none();if(a.hasChildNodes()){if(i=Math.min(!f&&i>0?i-1:i,a.childNodes.length-1),a=a.childNodes[i],i=Q(a)&&l?a.data.length:0,!t&&a===o.lastChild&&zs(a)||Jx(o,a)||Rt(a))return h.none();if(a.hasChildNodes()&&zs(a)===!1){u=a;var v=new Ve(a,o);do{if(Ae(u)||Rt(u)){s=!1;break}if(Q(u)&&u.nodeValue.length>0){i=f?0:u.nodeValue.length,a=u,s=!0;break}if(c[u.nodeName.toLowerCase()]&&!Yx(u)){i=e.nodeIndex(u),a=u.parentNode,f||i++,s=!0;break}}while(u=f?v.next():v.prev())}}}return t&&(Q(a)&&i===0&&Hs(e,l,t,!0,a).each(function(d){a=d.container(),i=d.offset(),s=!0}),re(a)&&(u=a.childNodes[i],u||(u=a.childNodes[i-1]),u&&_e(u)&&!Zx(u,"A")&&!_p(e,u,!1)&&!_p(e,u,!0)&&Hs(e,l,t,!0,u).each(function(d){a=d.container(),i=d.offset(),s=!0}))),f&&!t&&Q(a)&&i===a.nodeValue.length&&Hs(e,l,t,!1,a).each(function(d){a=d.container(),i=d.offset(),s=!0}),s?h.some(R(a,i)):h.none()},Fo=function(e,t){var n=t.collapsed,r=t.cloneRange(),a=R.fromRangeStart(t);return Op(e,n,!0,r).each(function(i){(!n||!R.isAbove(a,i))&&r.setStart(i.container(),i.offset())}),n||Op(e,n,!1,r).each(function(i){r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),Us(t,r)?h.none():h.some(r)},Mo=function(e,t){return e.splitText(t)},Uo=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,a=e.endOffset;return t===r&&Q(t)?n>0&&n<t.nodeValue.length&&(r=Mo(t,n),t=r.previousSibling,a>n?(a=a-n,t=r=Mo(r,a).previousSibling,a=r.nodeValue.length,n=0):a=0):(Q(t)&&n>0&&n<t.nodeValue.length&&(t=Mo(t,n),n=0),Q(r)&&a>0&&a<r.nodeValue.length&&(r=Mo(r,a).previousSibling,a=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:a}},wi=function(e){var t=function(a,i){return bi(e,a,i)},n=Uo,r=function(a){return Fo(e,a).fold(xe,function(i){return a.setStart(i.startContainer,i.startOffset),a.setEnd(i.endContainer,i.endOffset),!0})};return{walk:t,split:n,normalize:r}};wi.compareRanges=Us,wi.getCaretRangeFromPoint=Ms,wi.getSelectedNode=ko,wi.getNode=nr;var eN=function(e,t){var n=function(u,f){if(!jr(f)&&!f.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+f);var s=u.dom;Qi(s)&&(s.style[e]=f+"px")},r=function(u){var f=t(u);if(f<=0||f===null){var s=Bn(u,e);return parseFloat(s)||0}return f},a=r,i=function(u,f){return jt(f,function(s,l){var c=Bn(u,l),v=c===void 0?0:parseInt(c,10);return isNaN(v)?s:s+v},0)},o=function(u,f,s){var l=i(u,s),c=f>l?f-l:0;return c};return{set:n,get:r,getOuter:a,aggregate:i,max:o}},tN=eN("height",function(e){var t=e.dom;return Xa(e)?t.getBoundingClientRect().height:t.offsetHeight}),nN=function(e){return tN.get(e)},Pp=function(e,t){var n=e.view(t);return n.fold(G([]),function(r){var a=e.owner(r),i=Pp(e,a);return[r].concat(i)})},rN=function(e,t){var n=t.owner(e);return Pp(t,n)},aN=function(e){var t,n=e.dom===document?h.none():h.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(k.fromDom)},iN=function(e){return Zr(e)},oN=Object.freeze({__proto__:null,view:aN,owner:iN}),uN=function(e){var t=k.fromDom(document),n=mf(t),r=rN(e,oN),a=df(e),i=Wc(r,function(o,u){var f=df(u);return{left:o.left+f.left,top:o.top+f.top}},{left:0,top:0});return Jr(i.left+a.left+n.left,i.top+a.top+n.top)},Vs=function(e){return Ue(e)==="textarea"},fN=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},sN=function(e,t){e.fire("AfterScrollIntoView",t)},lN=function(e,t){var n=Mt(e);if(n.length===0||Vs(e))return{element:e,offset:t};if(t<n.length&&!Vs(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Vs(r)?{element:e,offset:t}:Ue(r)==="img"?{element:r,offset:1}:Ft(r)?{element:r,offset:Ls(r).length}:{element:r,offset:Mt(r).length}},Ip=function(e,t){var n=ow(e),r=nN(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},cN=function(e,t){var n=lN(e,t),r=k.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ze+"</span>");return Xt(n.element,r),Ip(r,function(){return Qe(r)})},vN=function(e){return Ip(k.fromDom(e),le)},Lp=function(e,t,n,r){mN(e,function(a,i){return dN(e,t,n,r)},n)},$p=function(e,t,n,r,a){var i={elm:r.element.dom,alignToTop:a};if(!fN(e,i)){var o=mf(t).top;n(t,o,r,a),sN(e,i)}},dN=function(e,t,n,r){var a=k.fromDom(e.getBody()),i=k.fromDom(e.getDoc());yw(a);var o=cN(k.fromDom(n.startContainer),n.startOffset);$p(e,i,t,o,r),o.cleanup()},Fp=function(e,t,n,r){var a=k.fromDom(e.getDoc());$p(e,a,n,vN(t),r)},mN=function(e,t,n){var r=n.startContainer,a=n.startOffset,i=n.endContainer,o=n.endOffset;t(k.fromDom(r),k.fromDom(i));var u=e.dom.createRng();u.setStart(r,a),u.setEnd(i,o),e.selection.setRng(n)},qs=function(e,t,n,r){var a=e.pos;if(n)Vv(a.left,a.top,r);else{var i=a.top-t+e.height;Vv(a.left,i,r)}},Mp=function(e,t,n,r,a){var i=n+t,o=r.pos.top,u=r.bottom,f=u-o>=n;if(o<t)qs(r,n,a!==!1,e);else if(o>i){var s=f?a!==!1:a===!0;qs(r,n,s,e)}else u>i&&!f&&qs(r,n,a===!0,e)},Up=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;Mp(e,t,a,n,r)},zp=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;Mp(e,t,a,n,r);var i=uN(n.element),o=jv(window);i.top<o.y?qv(n.element,r!==!1):i.top>o.bottom&&qv(n.element,r===!0)},pN=function(e,t,n){return Lp(e,Up,t,n)},gN=function(e,t,n){return Fp(e,t,Up,n)},hN=function(e,t,n){return Lp(e,zp,t,n)},bN=function(e,t,n){return Fp(e,t,zp,n)},yN=function(e,t,n){var r=e.inline?gN:bN;r(e,t,n)},Ei=function(e,t,n){var r=e.inline?pN:hN;r(e,t,n)},CN=function(){return k.fromDom(document)},wN=function(e){return e.dom.focus()},Hp=function(e){var t=br(e).dom;return e.dom===t.activeElement},Ws=function(e){return e===void 0&&(e=CN()),h.from(e.dom.activeElement).map(k.fromDom)},EN=function(e){return Ws(br(e)).filter(function(t){return e.dom.contains(t.dom)})},SN=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},kN={create:SN},js=Vn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xN=function(e,t,n,r){return e.fold(t,n,r)},NN=function(e){return e.fold(wt,wt,wt)},AN=js.before,TN=js.on,RN=js.after,BN={before:AN,on:TN,after:RN,cata:xN,getStart:NN},zo=Vn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),DN=function(e){return zo.exact(e.start,e.soffset,e.finish,e.foffset)},_N=function(e){return e.match({domRange:function(t){return k.fromDom(t.startContainer)},relative:function(t,n){return BN.getStart(t)},exact:function(t,n,r,a){return t}})},ON=zo.domRange,PN=zo.relative,IN=zo.exact,LN=function(e){var t=_N(e);return Ov(t)},$N=kN.create,Vp={domRange:ON,relative:PN,exact:IN,exactFromRange:DN,getWin:LN,range:$N},FN=$t().browser,qp=function(e,t){var n=Ft(t)?Ls(t).length:Mt(t).length+1;return e>n?n:e<0?0:e},MN=function(e){return Vp.range(e.start,qp(e.soffset,e.start),e.finish,qp(e.foffset,e.finish))},Wp=function(e,t){return!Ki(t.dom)&&(Un(e,t)||Se(e,t))},Ks=function(e){return function(t){return Wp(e,t.start)&&Wp(e,t.finish)}},jp=function(e){return e.inline===!0||FN.isIE()},Kp=function(e){return Vp.range(k.fromDom(e.startContainer),e.startOffset,k.fromDom(e.endContainer),e.endOffset)},UN=function(e){var t=e.getSelection(),n=!t||t.rangeCount===0?h.none():h.from(t.getRangeAt(0));return n.map(Kp)},zN=function(e){var t=Ov(e);return UN(t.dom).filter(Ks(e))},HN=function(e,t){return h.from(t).filter(Ks(e)).map(MN)},VN=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),h.some(t)}catch(n){return h.none()}},Ho=function(e){var t=jp(e)?zN(k.fromDom(e.getBody())):h.none();e.bookmark=t.isSome()?t:e.bookmark},qN=function(e,t){var n=k.fromDom(e.getBody()),r=jp(e)?h.from(t):h.none(),a=r.map(Kp).filter(Ks(n));e.bookmark=a.isSome()?a:e.bookmark},Gs=function(e){var t=e.bookmark?e.bookmark:h.none();return t.bind(function(n){return HN(k.fromDom(e.getBody()),n)}).bind(VN)},WN=function(e){Gs(e).each(function(t){return e.selection.setRng(t)})},jN=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1},Gp={isEditorUIElement:jN},KN=function(e){return e.type==="nodechange"&&e.selectionChange},GN=function(e,t){var n=function(){t.throttle()};Ce.DOM.bind(document,"mouseup",n),e.on("remove",function(){Ce.DOM.unbind(document,"mouseup",n)})},XN=function(e){e.on("focusout",function(){Ho(e)})},YN=function(e,t){e.on("mouseup touchend",function(n){t.throttle()})},QN=function(e,t){var n=$t().browser;n.isIE()?XN(e):YN(e,t),e.on("keyup NodeChange",function(r){KN(r)||Ho(e)})},ZN=function(e){var t=as(function(){Ho(e)},0);e.on("init",function(){e.inline&&GN(e,t),QN(e,t)}),e.on("remove",function(){t.cancel()})},Si,Xs=Ce.DOM,JN=function(e){return Gp.isEditorUIElement(e)},eA=function(e){var t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Vo=function(e,t){var n=o1(e),r=Xs.getParent(t,function(a){return JN(a)||(n?e.dom.is(a,n):!1)});return r!==null},tA=function(e){try{var t=br(k.fromDom(e.getElement()));return Ws(t).fold(function(){return document.body},function(n){return n.dom})}catch(n){return document.body}},nA=function(e,t){var n=t.editor;ZN(n),n.on("focusin",function(){var r=e.focusedEditor;r!==n&&(r&&r.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",function(){nt.setEditorTimeout(n,function(){var r=e.focusedEditor;!Vo(n,tA(n))&&r===n&&(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Si||(Si=function(r){var a=e.activeEditor;a&&tw(r).each(function(i){i.ownerDocument===document&&i!==document.body&&!Vo(a,i)&&e.focusedEditor===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Xs.bind(document,"focusin",Si))},rA=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Xs.unbind(document,"focusin",Si),Si=null)},aA=function(e){e.on("AddEditor",K(nA,e)),e.on("RemoveEditor",K(rA,e))},iA=function(e,t){return e.dom.getParent(t,function(n){return e.dom.getContentEditable(n)==="true"})},oA=function(e){return e.collapsed?h.from(nr(e.startContainer,e.startOffset)).map(k.fromDom):h.none()},uA=function(e,t){return oA(t).bind(function(n){return Gw(n)?h.some(n):Un(e,n)===!1?h.some(e):h.none()})},Xp=function(e,t){uA(k.fromDom(e.getBody()),t).bind(function(n){return pt(n.dom)}).fold(function(){e.selection.normalize()},function(n){return e.selection.setRng(n.toRange())})},Ys=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},fA=function(e){return Hp(e)||EN(e).isSome()},sA=function(e){return e.iframeElement&&Hp(k.fromDom(e.iframeElement))},lA=function(e){var t=e.getBody();return t&&fA(k.fromDom(t))},cA=function(e){var t=br(k.fromDom(e.getElement()));return Ws(t).filter(function(n){return!eA(n.dom)&&Vo(e,n.dom)}).isSome()},Dr=function(e){return e.inline?lA(e):sA(e)},vA=function(e){return Dr(e)||cA(e)},dA=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Dr(e)===!1&&Gs(e).each(function(i){e.selection.setRng(i),r=i});var a=iA(e,t.getNode());if(e.$.contains(n,a)){Ys(a),Xp(e,r),Qs(e);return}e.inline||(ue.opera||Ys(n),e.getWin().focus()),(ue.gecko||e.inline)&&(Ys(n),Xp(e,r)),Qs(e)},Qs=function(e){return e.editorManager.setActive(e)},mA=function(e,t){e.removed||(t?Qs(e):dA(e))},Yp=function(e,t,n,r,a){var i=n?t.startContainer:t.endContainer,o=n?t.startOffset:t.endOffset;return h.from(i).map(k.fromDom).map(function(u){return!r||!t.collapsed?qi(u,a(u,o)).getOr(u):u}).bind(function(u){return Kt(u)?h.some(u):Gt(u).filter(Kt)}).map(function(u){return u.dom}).getOr(e)},Qp=function(e,t,n){return Yp(e,t,!0,n,function(r,a){return Math.min($v(r),a)})},Zp=function(e,t,n){return Yp(e,t,!1,n,function(r,a){return a>0?a-1:a})},Jp=function(e,t){for(var n=e;e&&Q(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},pA=function(e,t){var n,r,a;if(!t)return e;r=t.startContainer,a=t.endContainer;var i=t.startOffset,o=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===a&&o-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),r.nodeType===3&&a.nodeType===3&&(r.length===i?r=Jp(r.nextSibling,!0):r=r.parentNode,o===0?a=Jp(a.previousSibling,!1):a=a.parentNode,r&&r===a))?r:n&&n.nodeType===3?n.parentNode:n},gA=function(e,t,n,r){var a,i=[],o=e.getRoot();if(n=e.getParent(n||Qp(o,t,t.collapsed),e.isBlock),r=e.getParent(r||Zp(o,t,t.collapsed),e.isBlock),n&&n!==o&&i.push(n),n&&r&&n!==r){a=n;for(var u=new Ve(n,o);(a=u.next())&&a!==r;)e.isBlock(a)&&i.push(a)}return r&&n!==r&&r!==o&&i.push(r),i},hA=function(e,t,n){return h.from(t).map(function(r){var a=e.nodeIndex(r),i=e.createRng();return i.setStart(r.parentNode,a),i.setEnd(r.parentNode,a+1),n&&(Os(e,i,r,!0),Os(e,i,r,!1)),i})},Zs=function(e,t){return Te(t,function(n){var r=e.fire("GetSelectionRange",{range:n});return r.range!==n?r.range:n})},bA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},qo=function(e,t,n){var r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[a];if(i)return i;for(var o=e.parent;o&&o!==t;o=o.parent)if(i=o[a],i)return i}},yA=function(e){if(!Cr(e.value))return!1;var t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},eg=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Ht=function(){function e(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,bA[t]||1);return n&&Be(n,function(a,i){r.attr(i,a)}),r},e.prototype.replace=function(t){var n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n},e.prototype.attr=function(t,n){var r=this,a;if(typeof t!="string")return t!=null&&Be(t,function(o,u){r.attr(u,o)}),r;if(a=r.attributes){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];for(var i=a.length;i--;)if(a[i].name===t)return a.splice(i,1),r}return r}if(t in a.map){for(var i=a.length;i--;)if(a[i].name===t){a[i].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,r}return a.map[t]}},e.prototype.clone=function(){var t=this,n=new e(t.name,t.type),r;if(r=t.attributes){var a=[];a.map={};for(var i=0,o=r.length;i<o;i++){var u=r[i];u.name!=="id"&&(a[a.length]={name:u.name,value:u.value},a.map[u.name]=u.value)}n.attributes=a}return n.value=t.value,n.shortEnded=t.shortEnded,n},e.prototype.wrap=function(t){var n=this;return n.parent.insert(t,n),t.append(n),n},e.prototype.unwrap=function(){for(var t=this,n=t.firstChild;n;){var r=n.next;t.insert(n,t,!0),n=r}t.remove()},e.prototype.remove=function(){var t=this,n=t.parent,r=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):a.next=r,n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):r.prev=a,t.parent=t.next=t.prev=null),t},e.prototype.append=function(t){var n=this;t.parent&&t.remove();var r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},e.prototype.insert=function(t,n,r){t.parent&&t.remove();var a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev.next=t,t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next.prev=t,t.next=n.next,t.prev=n,n.next=t),t.parent=a,t},e.prototype.getAll=function(t){for(var n=this,r=[],a=n.firstChild;a;a=qo(a,n))a.name===t&&r.push(a);return r},e.prototype.children=function(){for(var t=this,n=[],r=t.firstChild;r;r=r.next)n.push(r);return n},e.prototype.empty=function(){var t=this;if(t.firstChild){for(var n=[],r=t.firstChild;r;r=qo(r,t))n.push(r);for(var a=n.length;a--;){var r=n[a];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return t.firstChild=t.lastChild=null,t},e.prototype.isEmpty=function(t,n,r){n===void 0&&(n={});var a=this,i=a.firstChild;if(eg(a))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(t[i.name]||eg(i))return!1}if(i.type===8||i.type===3&&!yA(i)||i.type===3&&i.parent&&n[i.parent.name]&&Cr(i.value)||r&&r(i))return!1}while(i=qo(i,a));return!0},e.prototype.walk=function(t){return qo(this,null,t)},e}(),CA=function(e){for(var t=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,n=[],r={},a=em("img"),i,o=0,u=0;i=t.exec(e);){var f=i[0],s=a+"_"+u++;r[s]=f,o<i.index&&n.push(e.substr(o,i.index-o)),n.push(s),o=i.index+f.length}var l=new RegExp(a+"_[0-9]+","g");return o===0?{prefix:a,uris:r,html:e,re:l}:(o<e.length&&n.push(e.substr(o)),{prefix:a,uris:r,html:n.join(""),re:l})},Js=function(e,t){return e.replace(t.re,function(n){return Me(t.uris,n).getOr(n)})},wA=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return t?h.some({type:t[1],data:decodeURIComponent(t[2])}):h.none()},tg=B.each,EA=B.trim,SA="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),kA={ftp:21,http:80,https:443,mailto:25},xA=["img","video"],NA=function(e,t){return Ee(e)?!e:Ee(t)?!Xe(xA,t):!0},AA=function(e,t,n){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?NA(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},ir=function(){function e(t,n){t=EA(t),this.settings=n||{};var r=this.settings.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}var i=t.indexOf("//")===0;if(t.indexOf("/")===0&&!i&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var o=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+a.toAbsPath(o,t);else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(o,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);tg(SA,function(s,l){var c=f[l];c&&(c=c.replace(/\(mce_at\)/g,"@@")),a[s]=c}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),i&&(a.protocol="")}return e.parseDataUri=function(t){var n,r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(n=a[1]),{type:n,data:r[1]}},e.isDomSafe=function(t,n,r){if(r===void 0&&(r={}),r.allow_script_urls)return!0;var a=jn.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{a=decodeURIComponent(a)}catch(i){a=unescape(a)}return/((java|vb)script|mhtml):/i.test(a)?!1:!AA(r,a,n)},e.getDocumentBaseUrl=function(t){var n;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?n=t.href:n=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n},e.prototype.setPath=function(t){var n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if(t==="./")return t;var r=new e(t,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();var a=this.getURI(),i=r.getURI();return a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i?a:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var n=kA[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1},e.prototype.toRelPath=function(t,n){var r=0,a="",i,o,u=t.substring(0,t.lastIndexOf("/")).split("/"),f=n.split("/");if(u.length>=f.length){for(i=0,o=u.length;i<o;i++)if(i>=f.length||u[i]!==f[i]){r=i+1;break}}if(u.length<f.length){for(i=0,o=f.length;i<o;i++)if(i>=u.length||u[i]!==f[i]){r=i+1;break}}if(r===1)return n;for(i=0,o=u.length-(r-1);i<o;i++)a+="../";for(i=r-1,o=f.length;i<o;i++)i!==r-1?a+="/"+f[i]:a+=f[i];return a},e.prototype.toAbsPath=function(t,n){var r,a=0,i=[],o,u=/\/$/.test(n)?"/":"",f=t.split("/"),s=n.split("/");for(tg(f,function(l){l&&i.push(l)}),f=i,r=s.length-1,i=[];r>=0;r--)if(!(s[r].length===0||s[r]===".")){if(s[r]===".."){a++;continue}if(a>0){a--;continue}i.push(s[r])}return r=f.length-a,r<=0?o=Ui(i).join("/"):o=f.slice(0,r).join("/")+"/"+Ui(i).join("/"),o.indexOf("/")!==0&&(o="/"+o),u&&o.lastIndexOf("/")!==o.length-1&&(o+=u),o},e.prototype.getURI=function(t){t===void 0&&(t=!1);var n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source},e}(),TA=B.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),RA=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},el=function(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,a=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),o=1,u=n;o!==0;)for(r.lastIndex=u;;){var f=r.exec(t);if(f===null)return u;if(f[1]==="!"){gr(f[2],"--")?u=tl(t,!1,f.index+3):u=tl(t,!0,f.index+1);break}else{a.lastIndex=r.lastIndex;var s=a.exec(t);if(za(s)||s.index!==r.lastIndex)continue;f[1]==="/"?o-=1:de(i,f[2])||(o+=1),u=r.lastIndex+s[0].length;break}}return u},BA=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},tl=function(e,t,n){n===void 0&&(n=0);var r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&BA(r,n)){var a=r.indexOf("[endif]",n);return r.indexOf(">",a)}else if(t){var i=r.indexOf(">",n);return i!==-1?i:r.length}else{var o=/--!?>/g;o.lastIndex=n;var u=o.exec(e);return u?u.index+u[0].length:r.length}},DA=function(e,t){var n=e.exec(t);if(n){var r=n[1],a=n[2];return typeof r=="string"&&r.toLowerCase()==="data-mce-bogus"?a:null}else return null},Wo=function(e,t){var n;t===void 0&&(t=Gn()),e=e||{};var r=(n=e.document)!==null&&n!==void 0?n:document,a=r.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var i=e.comment?e.comment:le,o=e.cdata?e.cdata:le,u=e.text?e.text:le,f=e.start?e.start:le,s=e.end?e.end:le,l=e.pi?e.pi:le,c=e.doctype?e.doctype:le,v=function(m,p){p===void 0&&(p="html");for(var g=m.html,y,b=0,w,S,C=[],x,T,I,J,q,D,ne,F,V,$,H,j,_,W,fe,ge,se,Ge=0,we=jn.decode,ot=B.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),yt=p==="html"?0:1,O=function(Ne){var be,Ie;for(be=C.length;be--&&C[be].name!==Ne;);if(be>=0){for(Ie=C.length-1;Ie>=be;Ie--)Ne=C[Ie],Ne.valid&&s(Ne.name);C.length=be}},U=function(Ne,be){return u(Js(Ne,m),be)},Z=function(Ne){Ne!==""&&(Ne.charAt(0)===">"&&(Ne=" "+Ne),!e.allow_conditional_comments&&Ne.substr(0,3).toLowerCase()==="[if"&&(Ne=" "+Ne),i(Js(Ne,m)))},N=function(Ne){return Js(Ne,m)},P=function(Ne,be){var Ie=Ne||"",an=!gr(Ie,"--"),Nn=tl(g,an,be);return Ne=g.substr(be,Nn-be),Z(an?Ie+Ne:Ne),Nn+1},L=function(Ne,be,Ie,an,Nn){if(be=be.toLowerCase(),Ie=N(be in ze?be:we(Ie||an||Nn||"")),qt&&!q&&RA(be)===!1){var Wt=H[be];if(!Wt&&j){for(var Li=j.length;Li--&&(Wt=j[Li],!Wt.pattern.test(be)););Li===-1&&(Wt=null)}if(!Wt||Wt.validValues&&!(Ie in Wt.validValues))return}var $i=be==="name"||be==="id";$i&&Ne in TA&&(Ie in r||Ie in a)||ot[be]&&!ir.isDomSafe(Ie,Ne,e)||q&&(be in ot||be.indexOf("on")===0)||(x.map[be]=Ie,x.push({name:be,value:Ie}))},Y=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),ee=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,pe=t.getShortEndedElements(),Oe=e.self_closing_elements||t.getSelfClosingElements(),ze=t.getBoolAttrs(),qt=e.validate,ut=e.remove_internals,ct=e.fix_self_closing,Pe=t.getSpecialElements(),Fn=g+">";y=Y.exec(Fn);){var He=y[0];if(b<y.index&&U(we(g.substr(b,y.index-b))),w=y[7])w=w.toLowerCase(),w.charAt(0)===":"&&(w=w.substr(1)),O(w);else if(w=y[8]){if(y.index+He.length>g.length){U(we(g.substr(y.index))),b=y.index+He.length;continue}w=w.toLowerCase(),w.charAt(0)===":"&&(w=w.substr(1)),D=w in pe,ct&&Oe[w]&&C.length>0&&C[C.length-1].name===w&&O(w);var rn=DA(ee,y[9]);if(rn!==null){if(rn==="all"){b=el(t,g,Y.lastIndex),Y.lastIndex=b;continue}F=!1}if(!qt||(ne=t.getElementRule(w))){if(F=!0,qt&&(H=ne.attributes,j=ne.attributePatterns),($=y[9])?(q=$.indexOf("data-mce-type")!==-1,q&&ut&&(F=!1),x=[],x.map={},$.replace(ee,function(Ne,be,Ie,an,Nn){return L(w,be,Ie,an,Nn),""})):(x=[],x.map={}),qt&&!q){if(_=ne.attributesRequired,W=ne.attributesDefault,fe=ne.attributesForced,ge=ne.removeEmptyAttrs,ge&&!x.length&&(F=!1),fe)for(T=fe.length;T--;)V=fe[T],J=V.name,se=V.value,se==="{$uid}"&&(se="mce_"+Ge++),x.map[J]=se,x.push({name:J,value:se});if(W)for(T=W.length;T--;)V=W[T],J=V.name,J in x.map||(se=V.value,se==="{$uid}"&&(se="mce_"+Ge++),x.map[J]=se,x.push({name:J,value:se}));if(_){for(T=_.length;T--&&!(_[T]in x.map););T===-1&&(F=!1)}if(V=x.map["data-mce-bogus"]){if(V==="all"){b=el(t,g,Y.lastIndex),Y.lastIndex=b;continue}F=!1}}F&&f(w,x,D)}else F=!1;if(S=Pe[w]){S.lastIndex=b=y.index+He.length,(y=S.exec(g))?(F&&(I=g.substr(b,y.index-b)),b=y.index+y[0].length):(I=g.substr(b),b=g.length),F&&(I.length>0&&U(I,!0),s(w)),Y.lastIndex=b;continue}D||(!$||$.indexOf("/")!==$.length-1?C.push({name:w,valid:F}):F&&s(w))}else if(w=y[1])Z(w);else if(w=y[2]){var xn=yt===1||e.preserve_cdata||C.length>0&&t.isValidChild(C[C.length-1].name,"#cdata");if(xn)o(w);else{b=P("",y.index+2),Y.lastIndex=b;continue}}else if(w=y[3])c(w);else if((w=y[4])||He==="<!"){b=P(w,y.index+He.length),Y.lastIndex=b;continue}else if(w=y[5])if(yt===1)l(w,y[6]);else{b=P("?",y.index+2),Y.lastIndex=b;continue}b=y.index+He.length}for(b<g.length&&U(we(g.substr(b))),T=C.length-1;T>=0;T--)w=C[T],w.valid&&s(w.name)},d=function(m,p){p===void 0&&(p="html"),v(CA(m),p)};return{parse:d}};Wo.findEndTag=el;var _A=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},ng=function(e,t){for(var n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema,a=_A(e.getTempAttrs(),t),i=r.getShortEndedElements(),o;o=n.exec(a);){var u=n.lastIndex,f=o[0].length,s=void 0;i[o[1]]?s=u:s=Wo.findEndTag(r,a,u),a=a.substring(0,u-f)+a.substring(s),n.lastIndex=u-f}return Wn(a)},OA=ng,PA=function(e,t){var n=it(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+`>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},IA=function(e,t){return ae(ae({},e),{format:t,get:!0,getInner:!0})},LA=function(e,t,n,r){var a=IA(t,n),i=t.no_events?a:e.fire("BeforeGetContent",a),o;return i.format==="raw"?o=B.trim(OA(e.serializer,r.innerHTML)):i.format==="text"?o=e.dom.isEmpty(r)?"":Wn(r.innerText||r.textContent):i.format==="tree"?o=e.serializer.serialize(r,i):o=PA(e,e.serializer.serialize(r,i)),!Xe(["text","tree"],i.format)&&!no(k.fromDom(r))?i.content=B.trim(o):i.content=o,i.no_events?i.content:e.fire("GetContent",i).content},$A=function(e,t,n){return h.from(e.getBody()).fold(G(t.format==="tree"?new Ht("body",11):""),function(r){return LA(e,t,n,r)})},FA=B.each,rg=function(e){var t=function(n,r){if(n.nodeName!==r.nodeName)return!1;var a=function(o){var u={};return FA(e.getAttribs(o),function(f){var s=f.nodeName.toLowerCase();s.indexOf("_")!==0&&s!=="style"&&s.indexOf("data-")!==0&&(u[s]=e.getAttrib(o,s))}),u},i=function(o,u){var f,s;for(s in o)if(de(o,s)){if(f=u[s],typeof f=="undefined"||o[s]!==f)return!1;delete u[s]}for(s in u)if(de(u,s))return!1;return!0};return!i(a(n),a(r))||!i(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))?!1:!Ot(n)&&!Ot(r)};return{compare:t}},ag=B.makeMap,ig=function(e){var t=[];e=e||{};var n=e.indent,r=ag(e.indent_before||""),a=ag(e.indent_after||""),i=jn.getEncodeFunc(e.entity_encoding||"raw",e.entities),o=e.element_format==="html";return{start:function(u,f,s){var l,c,v,d;if(n&&r[u]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`)),t.push("<",u),f)for(l=0,c=f.length;l<c;l++)v=f[l],t.push(" ",v.name,'="',i(v.value,!0),'"');!s||o?t[t.length]=">":t[t.length]=" />",s&&n&&a[u]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`))},end:function(u){var f;t.push("</",u,">"),n&&a[u]&&t.length>0&&(f=t[t.length-1],f.length>0&&f!==`
`&&t.push(`
`))},text:function(u,f){u.length>0&&(t[t.length]=f?u:i(u))},cdata:function(u){t.push("<![CDATA[",u,"]]>")},comment:function(u){t.push("<!--",u,"-->")},pi:function(u,f){f?t.push("<?",u," ",i(f),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:function(u){t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Ra=function(e,t){t===void 0&&(t=Gn());var n=ig(e);e=e||{},e.validate="validate"in e?e.validate:!0;var r=function(a){var i=e.validate,o={3:function(f){n.text(f.value,f.raw)},8:function(f){n.comment(f.value)},7:function(f){n.pi(f.name,f.value)},10:function(f){n.doctype(f.value)},4:function(f){n.cdata(f.value)},11:function(f){if(f=f.firstChild)do u(f);while(f=f.next)}};n.reset();var u=function(f){var s=o[f.type];if(s)s(f);else{var l=f.name,c=f.shortEnded,v=f.attributes;if(i&&v&&v.length>1){var d=[];d.map={};var m=t.getElementRule(f.name);if(m){for(var p=0,g=m.attributesOrder.length;p<g;p++){var y=m.attributesOrder[p];if(y in v.map){var b=v.map[y];d.map[y]=b,d.push({name:y,value:b})}}for(var p=0,g=v.length;p<g;p++){var y=v[p].name;if(!(y in d.map)){var b=v.map[y];d.map[y]=b,d.push({name:y,value:b})}}v=d}}if(n.start(f.name,v,c),!c){if(f=f.firstChild)do u(f);while(f=f.next);n.end(l)}}};return a.type===1&&!e.inner?u(a):o[11](a),n.getContent()};return{serialize:r}},og=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];X(e,function(t){og.add(t)})})();var ug=["font","text-decoration","text-emphasis"],nl=function(e,t){return Gr(e.parseStyle(e.getAttrib(t,"style")))},MA=function(e){return og.has(e)},UA=function(e,t){return Ha(nl(e,t),function(n){return!MA(n)})},zA=function(e){return ve(e,function(t){return vt(ug,function(n){return gr(t,n)})})},HA=function(e,t,n){var r=nl(e,t),a=nl(e,n),i=function(o){var u=e.getStyle(t,o),f=e.getStyle(n,o);return Hi(u)&&Hi(f)&&u!==f};return vt(r,function(o){var u=function(s){return vt(s,function(l){return l===o})};if(!u(a)&&u(ug)){var f=zA(a);return vt(f,i)}else return i(o)})},fg=function(e,t,n){return h.from(n.container()).filter(Q).exists(function(r){var a=e?0:-1;return t(r.data.charAt(n.offset()+a))})},rl=K(fg,!0,Sa),al=K(fg,!1,Sa),VA=function(e){var t=e.container();return Q(t)&&(t.data.length===0||ro(t.data)&&Ci.isBookmarkNode(t.parentNode))},or=function(e,t){return function(n){return h.from(hs(e?0:-1,n)).filter(t).isSome()}},sg=function(e){return cw(e)&&Bn(k.fromDom(e),"display")==="block"},lg=function(e){return Ae(e)&&!sw(e)},qA=or(!0,sg),WA=or(!1,sg),Ba=or(!0,zt),Da=or(!1,zt),cg=or(!0,ea),vg=or(!1,ea),ur=or(!0,lg),fr=or(!1,lg),jA=function(e){for(var t=[],n=e.dom;n;)t.push(k.fromDom(n)),n=n.lastChild;return t},KA=function(e){var t=bt(e,"br"),n=ve(jA(e).slice(-1),ra);t.length===n.length&&X(n,Qe)},_r=function(e){vf(e),et(e,k.fromHtml('<br data-mce-bogus="1">'))},GA=function(e){lf(e).each(function(t){hr(t).each(function(n){cn(e)&&ra(t)&&cn(n)&&Qe(t)})})},XA=function(e){return e.slice(0,-1)},YA=function(e,t,n){return Un(t,e)?XA(X0(e,function(r){return n(r)||Se(r,t)})):[]},dg=function(e,t){return YA(e,t,xe)},Pn=function(e,t){return[e].concat(dg(e,t))},il=function(e,t,n){return op(e,t,n,VA)},mg=function(e,t){return Ye(Pn(k.fromDom(t.container()),e),cn)},pg=function(e,t,n){return il(e,t.dom,n).forall(function(r){return mg(t,n).fold(function(){return pn(r,n,t.dom)===!1},function(a){return pn(r,n,t.dom)===!1&&Un(a,k.fromDom(r.container()))})})},gg=function(e,t,n){return mg(t,n).fold(function(){return il(e,t.dom,n).forall(function(r){return pn(r,n,t.dom)===!1})},function(r){return il(e,r.dom,n).isNone()})},ol=K(gg,!1),hg=K(gg,!0),QA=K(pg,!1),ZA=K(pg,!0),JA=function(e){return Ro(e).exists(ra)},jo=function(e,t,n){var r=ve(Pn(k.fromDom(n.container()),t),cn),a=At(r).getOr(t);return _t(e,a.dom,n).filter(JA)},ul=function(e,t){return Ro(t).exists(ra)||jo(!0,e,t).isSome()},fl=function(e,t){return z1(t).exists(ra)||jo(!1,e,t).isSome()},eT=K(jo,!1),tT=K(jo,!0),bg=function(e){return R.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},yg=function(e,t){var n=ve(Pn(k.fromDom(t.container()),e),cn);return At(n).getOr(e)},Cg=function(e,t){return bg(t)?al(t):al(t)||hn(yg(e,t).dom,t).exists(al)},wg=function(e,t){return bg(t)?rl(t):rl(t)||tn(yg(e,t).dom,t).exists(rl)},nT=function(e){return Xe(["pre","pre-wrap"],e)},sl=function(e){return Ro(e).bind(function(t){return Zi(t,Kt)}).exists(function(t){return nT(Bn(t,"white-space"))})},rT=function(e,t){return hn(e.dom,t).isNone()},aT=function(e,t){return tn(e.dom,t).isNone()},iT=function(e,t){return rT(e,t)||aT(e,t)||ol(e,t)||hg(e,t)||fl(e,t)||ul(e,t)},oT=function(e,t){return sl(t)?!1:iT(e,t)||Cg(e,t)||wg(e,t)},Ko=function(e,t){return sl(t)?!1:ol(e,t)||QA(e,t)||fl(e,t)||Cg(e,t)},uT=function(e){var t=e.container(),n=e.offset();return Q(t)&&n<t.data.length?R(t,n+1):e},Go=function(e,t){return sl(t)?!1:hg(e,t)||ZA(e,t)||ul(e,t)||wg(e,t)},Eg=function(e,t){return Ko(e,t)||Go(e,uT(t))},Sg=function(e,t){return hi(e.charAt(t))},fT=function(e){var t=e.container();return Q(t)&&dt(t.data,Et)},sT=function(e){var t=e.split("");return Te(t,function(n,r){return hi(n)&&r>0&&r<t.length-1&&Ss(t[r-1])&&Ss(t[r+1])?" ":n}).join("")},lT=function(e,t){var n=t.data,r=R(t,0);return Sg(n,0)&&!Eg(e,r)?(t.data=" "+n.slice(1),!0):!1},cT=function(e){var t=e.data,n=sT(t);return n!==t?(e.data=n,!0):!1},vT=function(e,t){var n=t.data,r=R(t,n.length-1);return Sg(n,n.length-1)&&!Eg(e,r)?(t.data=n.slice(0,-1)+" ",!0):!1},dT=function(e,t){return h.some(t).filter(fT).bind(function(n){var r=n.container(),a=lT(e,r)||cT(r)||vT(e,r);return a?h.some(n):h.none()})},kg=function(e){var t=k.fromDom(e.getBody());e.selection.isCollapsed()&&dT(t,R.fromRangeStart(e.selection.getRng())).each(function(n){e.selection.setRng(n.toRange())})},mT=function(e,t,n){var r=jt(e,function(a,i){return Sa(i)||hi(i)?a.previousCharIsSpace||a.str===""&&t||a.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:a.str+Et}:{previousCharIsSpace:!0,str:a.str+" "}:{previousCharIsSpace:!1,str:a.str+i}},{previousCharIsSpace:!1,str:""});return r.str},xg=function(e,t,n){if(n!==0){var r=k.fromDom(e),a=Ja(r,cn).getOr(r),i=e.data.slice(t,t+n),o=t+n>=e.data.length&&Go(a,R(e,e.data.length)),u=t===0&&Ko(a,R(e,0));e.replaceData(t,n,mT(i,u,o))}},Xo=function(e,t){var n=e.data.slice(t),r=n.length-c0(n).length;xg(e,t,r)},ll=function(e,t){var n=e.data.slice(0,t),r=n.length-nv(n).length;xg(e,t-r,r)},cl=function(e,t,n,r){r===void 0&&(r=!0);var a=nv(e.data).length,i=r?e:t,o=r?t:e;return r?i.appendData(o.data):i.insertData(0,o.data),Qe(k.fromDom(o)),n&&Xo(i,a),i},pT=function(e,t){var n=e.container(),r=e.offset();return R.isTextPosition(e)===!1&&n===t.parentNode&&r>R.before(t).offset()},gT=function(e,t){return pT(t,e)?R(t.container(),t.offset()-1):t},hT=function(e){return Q(e)?R(e,0):R.before(e)},bT=function(e){return Q(e)?R(e,e.data.length):R.after(e)},Ng=function(e){return vn(e.previousSibling)?h.some(bT(e.previousSibling)):e.previousSibling?bn(e.previousSibling):h.none()},Ag=function(e){return vn(e.nextSibling)?h.some(hT(e.nextSibling)):e.nextSibling?pt(e.nextSibling):h.none()},yT=function(e,t){var n=R.before(t.previousSibling?t.previousSibling:t.parentNode);return hn(e,n).fold(function(){return tn(e,R.after(t))},h.some)},CT=function(e,t){return tn(e,R.after(t)).fold(function(){return hn(e,R.before(t))},h.some)},wT=function(e,t){return Ng(t).orThunk(function(){return Ag(t)}).orThunk(function(){return yT(e,t)})},ET=function(e,t){return Ag(t).orThunk(function(){return Ng(t)}).orThunk(function(){return CT(e,t)})},ST=function(e,t,n){return e?ET(t,n):wT(t,n)},kT=function(e,t,n){return ST(e,t,n).map(K(gT,n))},Tg=function(e,t,n){n.fold(function(){e.focus()},function(r){e.selection.setRng(r.toRange(),t)})},xT=function(e){return function(t){return t.dom===e}},NT=function(e,t){return t&&de(e.schema.getBlockElements(),Ue(t))},AT=function(e){if(qe(e)){var t=k.fromHtml('<br data-mce-bogus="1">');return vf(e),et(e,t),h.some(R.before(t.dom))}else return h.none()},TT=function(e,t,n){var r=hr(e).filter(Ft),a=Ka(e).filter(Ft);return Qe(e),dw(r,a,t,function(i,o,u){var f=i.dom,s=o.dom,l=f.data.length;return cl(f,s,n),u.container()===s?R(f,l):u}).orThunk(function(){return n&&(r.each(function(i){return ll(i.dom,i.dom.length)}),a.each(function(i){return Xo(i.dom,0)})),t})},RT=function(e,t){return de(e.schema.getTextInlineElements(),Ue(t))},Or=function(e,t,n,r){r===void 0&&(r=!0);var a=kT(t,e.getBody(),n.dom),i=Ja(n,K(NT,e),xT(e.getBody())),o=TT(n,a,RT(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(AT).fold(function(){r&&Tg(e,t,o)},function(u){r&&Tg(e,t,h.some(u))})},BT=function(e){return function(t){return Se(e,t)}},vl=function(e){return bt(e,"td,th")},DT=function(e,t){var n=function(s){return yi(k.fromDom(s),t)},r=n(e.startContainer),a=n(e.endContainer),i=r.isSome(),o=a.isSome(),u=ht(r,a,Se).getOr(!1),f=!u&&i&&o;return{startTable:r,endTable:a,isStartInTable:i,isEndInTable:o,isSameTable:u,isMultiTable:f}},dl=function(e,t){return{start:e,end:t}},_T=function(e,t,n){return{rng:e,table:t,cells:n}},ki=Vn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Yo=function(e,t){return wf(k.fromDom(e),"td,th",t)},Rg=function(e){return!Se(e.start,e.end)},Bg=function(e,t){return yi(e.start,t).bind(function(n){return yi(e.end,t).bind(function(r){return mw(Se(n,r),n)})})},OT=function(e,t){return!Rg(e)&&Bg(e,t).exists(function(n){var r=n.dom.rows;return r.length===1&&r[0].cells.length===1})},PT=function(e,t){var n=Yo(e.startContainer,t),r=Yo(e.endContainer,t);return ht(n,r,dl)},IT=function(e){return function(t){return yi(t,e).bind(function(n){return pr(vl(n)).map(function(r){return dl(t,r)})})}},LT=function(e){return function(t){return yi(t,e).bind(function(n){return At(vl(n)).map(function(r){return dl(r,t)})})}},ml=function(e){return function(t){return Bg(t,e).map(function(n){return _T(t,n,vl(n))})}},Dg=function(e,t,n,r){if(n.collapsed||!e.forall(Rg))return h.none();if(t.isSameTable){var a=e.bind(ml(r));return h.some({start:a,end:a})}else{var i=Yo(n.startContainer,r),o=Yo(n.endContainer,r),u=i.bind(IT(r)).bind(ml(r)),f=o.bind(LT(r)).bind(ml(r));return h.some({start:u,end:f})}},_g=function(e,t){return Mi(e,function(n){return Se(n,t)})},pl=function(e){return ht(_g(e.cells,e.rng.start),_g(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},$T=function(e,t,n){return e.exists(function(r){return OT(r,n)&&_s(r.start,t)})},Og=function(e,t){var n=t.startTable,r=t.endTable,a=e.cloneRange();return n.each(function(i){return a.setStartAfter(i.dom)}),r.each(function(i){return a.setEndBefore(i.dom)}),a},FT=function(e,t,n,r){return Dg(e,t,n,r).bind(function(a){var i=a.start,o=a.end;return i.or(o)}).bind(function(a){var i=t.isSameTable,o=pl(a).getOr([]);if(i&&a.cells.length===o.length)return h.some(ki.fullTable(a.table));if(o.length>0){if(i)return h.some(ki.partialTable(o,h.none()));var u=Og(n,t);return h.some(ki.partialTable(o,h.some(ae(ae({},t),{rng:u}))))}else return h.none()})},MT=function(e,t,n,r){return Dg(e,t,n,r).bind(function(a){var i=a.start,o=a.end,u=i.bind(pl).getOr([]),f=o.bind(pl).getOr([]);if(u.length>0&&f.length>0){var s=Og(n,t);return h.some(ki.multiTable(u,f,s))}else return h.none()})},UT=function(e,t){var n=BT(e),r=PT(t,n),a=DT(t,n);return $T(r,t,n)?r.map(function(i){return ki.singleCellTable(t,i.start)}):a.isMultiTable?MT(r,a,t,n):FT(r,a,t,n)},Pg=function(e){var t=q0(e)?hr(e):lf(e);return t.bind(Pg).orThunk(function(){return h.some(e)})},Ig=function(e){return X(e,function(t){Hn(t,"contenteditable"),_r(t)})},zT=function(e,t){return h.from(e.dom.getParent(t,e.dom.isBlock)).map(k.fromDom)},HT=function(e,t,n){n.each(function(r){t?Qe(r):(_r(r),e.selection.setCursorLocation(r.dom,0))})},gl=function(e,t,n,r){var a=n.cloneRange();r?(a.setStart(n.startContainer,n.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(n.endContainer,n.endOffset)),hl(e,a,t,!1)},Lg=function(e){var t=Aa(e),n=k.fromDom(e.selection.getNode());Xi(n.dom)&&qe(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&vt(t,function(r){return Se(r,n)})&&ln(n,"data-mce-selected","1")},$g=function(e,t,n){var r=e.selection.getRng(),a=n.bind(function(i){var o=i.rng,u=i.isStartInTable,f=zT(e,u?o.endContainer:o.startContainer);o.deleteContents(),HT(e,u,f.filter(qe));var s=u?t[0]:t[t.length-1];return gl(e,s,r,u),qe(s)?h.none():h.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);return Ig(a),Lg(e),!0},VT=function(e,t,n,r){var a=e.selection.getRng(),i=t[0],o=n[n.length-1];gl(e,i,a,!0),gl(e,o,a,!1);var u=qe(i)?t:t.slice(1),f=qe(o)?n:n.slice(0,-1);return Ig(u.concat(f)),r.deleteContents(),Lg(e),!0},hl=function(e,t,n,r){r===void 0&&(r=!0),t.deleteContents();var a=Pg(n).getOr(n),i=k.fromDom(e.dom.getParent(a.dom,e.dom.isBlock));if(qe(i)&&(_r(i),r&&e.selection.setCursorLocation(i.dom,0)),!Se(n,i)){var o=Yi(Gt(i),n)?[]:Y0(i);X(o.concat(Mt(n)),function(u){!Se(u,i)&&!Un(u,i)&&qe(u)&&Qe(u)})}return!0},qT=function(e,t){return Or(e,!1,t),!0},WT=function(e,t,n){return UT(t,n).map(function(r){return r.fold(K(hl,e),K(qT,e),K($g,e),K(VT,e))})},jT=function(e,t){return Qo(e,t)},KT=function(e,t,n,r){return bl(t,r).fold(function(){return WT(e,t,n)},function(a){return jT(e,a)}).getOr(!1)},GT=function(e,t,n){var r=k.fromDom(e.getBody()),a=e.selection.getRng();return n.length!==0?$g(e,n,h.none()):KT(e,r,a,t)},Fg=function(e,t){return Ye(Pn(t,e),to)},bl=function(e,t){return Ye(Pn(t,e),K0("caption"))},XT=function(e,t,n,r,a){return _o(n,e.getBody(),a).bind(function(i){return Fg(t,k.fromDom(i.getNode())).map(function(o){return Se(o,r)===!1})})},Qo=function(e,t){return _r(t),e.selection.setCursorLocation(t.dom,0),h.some(!0)},YT=function(e,t,n,r){return pt(e.dom).bind(function(a){return bn(e.dom).map(function(i){return t?n.isEqual(a)&&r.isEqual(i):n.isEqual(i)&&r.isEqual(a)})}).getOr(!0)},QT=function(e,t){return Qo(e,t)},ZT=function(e,t,n){return bl(e,k.fromDom(n.getNode())).map(function(r){return Se(r,t)===!1})},JT=function(e,t,n,r,a){return _o(n,e.getBody(),a).bind(function(i){return YT(r,n,a,i)?QT(e,r):ZT(t,r,i)}).or(h.some(!0))},eR=function(e,t,n,r){var a=R.fromRangeStart(e.selection.getRng());return Fg(n,r).bind(function(i){return qe(i)?Qo(e,i):XT(e,n,t,i,a)}).getOr(!1)},tR=function(e,t,n,r){var a=R.fromRangeStart(e.selection.getRng());return qe(r)?Qo(e,r):JT(e,n,t,r,a)},Mg=function(e,t){return e?cg(t):vg(t)},nR=function(e,t){var n=R.fromRangeStart(e.selection.getRng());return Mg(t,n)||_t(t,e.getBody(),n).exists(function(r){return Mg(t,r)})},rR=function(e,t,n){var r=k.fromDom(e.getBody());return bl(r,n).fold(function(){return eR(e,t,r,n)||nR(e,t)},function(a){return tR(e,t,r,a).getOr(!1)})},Zo=function(e,t){var n=k.fromDom(e.selection.getStart(!0)),r=Aa(e);return e.selection.isCollapsed()&&r.length===0?rR(e,t,n):GT(e,n,r)},aR=function(e,t,n,r){var a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),a},iR=function(e){var t=R.fromRangeStart(e),n=R.fromRangeEnd(e),r=e.commonAncestorContainer;return _t(!1,r,n).map(function(a){return!pn(t,n,r)&&pn(t,a,r)?aR(t.container(),t.offset(),a.container(),a.offset()):e}).getOr(e)},yl=function(e){return e.collapsed?e:iR(e)},oR=function(e){return e.firstChild&&e.firstChild===e.lastChild},uR=function(e){return e.name==="br"||e.value===Et},fR=function(e,t){var n=e.getBlockElements();return n[t.name]&&oR(t)&&uR(t.firstChild)},sR=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||fR(e,t))},lR=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),sR(e,r)&&(r=r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},cR=function(e){var t=e.firstChild,n=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),n&&n.id==="mce_marker"&&n.parentNode.removeChild(n),e},vR=function(e,t,n){var r=t.serialize(n),a=e.createFragment(r);return cR(a)},dR=function(e){return ve(e.childNodes,function(t){return t.nodeName==="LI"})},mR=function(e){return e.data===Et||_e(e)},pR=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&mR(e.firstChild)},gR=function(e){return!e.firstChild||pR(e)},hR=function(e){return e.length>0&&gR(e[e.length-1])?e.slice(0,-1):e},Cl=function(e,t){var n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},bR=function(e,t){return!!Cl(e,t)},yR=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},CR=function(e,t){var n=R.before(e),r=en(t),a=r.next(n);return a?a.toRange():null},Ug=function(e,t){var n=R.after(e),r=en(t),a=r.prev(n);return a?a.toRange():null},wR=function(e,t,n,r){var a=yR(e,r),i=e.parentNode;return i.insertBefore(a[0],e),B.each(t,function(o){i.insertBefore(o,e)}),i.insertBefore(a[1],e),i.removeChild(e),Ug(t[t.length-1],n)},ER=function(e,t,n){var r=e.parentNode;return B.each(t,function(a){r.insertBefore(a,e)}),CR(e,n)},SR=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Ug(t[0],n)},kR=function(e,t,n,r){var a=vR(t,e,r),i=Cl(t,n.startContainer),o=hR(dR(a.firstChild)),u=1,f=2,s=t.getRoot(),l=function(c){var v=R.fromRangeStart(n),d=en(t.getRoot()),m=c===u?d.prev(v):d.next(v);return m?Cl(t,m.getNode())!==i:!0};return l(u)?ER(i,o,s):l(f)?SR(i,o,s,t):wR(i,o,s,n)},xR=function(e,t,n){var r=k.fromDom(e.getRoot());return Ko(r,R.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Go(r,R.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},wl=Xi,NR=function(e,t,n){if(n!==null){var r=e.getParent(t.endContainer,wl);return n===r&&_s(k.fromDom(n),t)}else return!1},AR=function(e,t,n){if(n.getAttribute("data-mce-bogus")==="all")n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,a=n.lastChild;!r||r===a&&r.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t)}},TR=function(e,t){h.from(e.getParent(t,"td,th")).map(k.fromDom).each(GA)},RR=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var a=e.getBody(),i=rg(r);B.each(r.select("*[data-mce-fragment]"),function(o){var u=Ee(n[o.nodeName.toLowerCase()]);if(u&&UA(r,o))for(var f=o.parentNode;Ee(f)&&f!==a;f=f.parentNode){var s=HA(r,o,f);if(s)break;if(i.compare(f,o)){r.remove(o,!0);break}}})}},BR=function(e){for(var t=e;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},DR=function(e){B.each(e.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},_R=function(e){return!!e.getAttribute("data-mce-fragment")},OR=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},PR=function(e,t){var n,r=e.dom,a=e.selection;if(t){a.scrollIntoView(t);var i=Ta(e.getBody(),t);if(r.getContentEditable(i)==="false"){r.remove(t),a.select(i);return}var o=r.createRng(),u=t.previousSibling;if(Q(u)){if(o.setStart(u,u.nodeValue.length),!ue.ie){var f=t.nextSibling;Q(f)&&(u.appendData(f.data),f.parentNode.removeChild(f))}}else o.setStartBefore(t),o.setEndBefore(t);var s=function(c){var v=R.fromRangeStart(c),d=en(e.getBody());if(v=d.next(v),v)return v.toRange()},l=r.getParent(t,r.isBlock);r.remove(t),l&&r.isEmpty(l)&&(e.$(l).empty(),o.setStart(l,0),o.setEnd(l,0),!wl(l)&&!_R(l)&&(n=s(o))?(o=n,r.remove(l)):r.add(l,r.create("br",{"data-mce-bogus":"1"}))),a.setRng(o)}},IR=function(e){var t=e.dom,n=yl(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,wl);NR(t,n,r)?hl(e,n,k.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},LR=function(e,t,n){var r,a,i,o=e.selection,u=e.dom;/^ | $/.test(t)&&(t=xR(u,o.getRng(),t));var f=e.parser,s=n.merge,l=Ra({validate:n1(e)},e.schema),c='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',v=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(v.isDefaultPrevented()){e.fire("SetContent",{content:v.content,format:"html",selection:!0,paste:n.paste});return}t=v.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,c),a=o.getRng();var d=a.startContainer||(a.parentElement?a.parentElement():null),m=e.getBody();d===m&&o.isCollapsed()&&u.isBlock(m.firstChild)&&OR(e,m.firstChild)&&u.isEmpty(m.firstChild)&&(a=u.createRng(),a.setStart(m.firstChild,0),a.setEnd(m.firstChild,0),o.setRng(a)),o.isCollapsed()||IR(e),r=o.getNode();var p={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},g=f.parse(t,p);if(n.paste===!0&&lR(e.schema,g)&&bR(u,r)){a=kR(l,u,o.getRng(),g),o.setRng(a),e.fire("SetContent",v);return}if(BR(g),i=g.lastChild,i.attr("id")==="mce_marker"){var y=i;for(i=i.prev;i;i=i.walk(!0))if(i.type===3||!u.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(y,i,i.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(r),!p.invalid)t=l.serialize(g),AR(e,t,r);else{e.selection.setContent(c),r=o.getNode();var b=e.getBody();for(r.nodeType===9?r=i=b:i=r;i!==b;)r=i,i=i.parentNode;t=r===b?b.innerHTML:u.getOuterHTML(r),t=l.serialize(f.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(g)}))),r===b?u.setHTML(b,t):u.setOuterHTML(r,t)}RR(e,s),PR(e,u.get("mce_marker")),DR(e.getBody()),TR(u,o.getStart()),e.fire("SetContent",v),e.addVisual()},El=function(e,t){t(e),e.firstChild&&El(e.firstChild,t),e.next&&El(e.next,t)},$R=function(e,t,n){var r={},a={},i=[];n.firstChild&&El(n.firstChild,function(f){X(e,function(s){s.name===f.name&&(r[s.name]?r[s.name].nodes.push(f):r[s.name]={filter:s,nodes:[f]})}),X(t,function(s){typeof f.attr(s.name)=="string"&&(a[s.name]?a[s.name].nodes.push(f):a[s.name]={filter:s,nodes:[f]})})});for(var o in r)de(r,o)&&i.push(r[o]);for(var u in a)de(a,u)&&i.push(a[u]);return i},FR=function(e,t,n){var r=$R(e,t,n);X(r,function(a){X(a.filter.callbacks,function(i){i(a.nodes,a.filter.name,{})})})},MR="html",Sl=function(e){return e instanceof Ht},UR=function(e){Dr(e)&&pt(e.getBody()).each(function(t){var n=t.getNode(),r=ea(n)?pt(n).getOr(t):t;e.selection.setRng(r.toRange())})},kl=function(e,t,n){e.dom.setHTML(e.getBody(),t),n!==!0&&UR(e)},zR=function(e,t,n,r){if(n.length===0||/^\s+$/.test(n)){var a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>");var i=it(e);i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=a,n=e.dom.createHTML(i,li(e),n)):n||(n='<br data-mce-bogus="1">'),kl(e,n,r.no_selection),e.fire("SetContent",r)}else r.format!=="raw"&&(n=Ra({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=no(k.fromDom(t))?n:B.trim(n),kl(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r);return r.content},HR=function(e,t,n,r){FR(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var a=Ra({validate:e.validate},e.schema).serialize(n);return r.content=no(k.fromDom(t))?a:B.trim(a),kl(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r),n},VR=function(e,t){return ae(ae({format:MR},e),{set:!0,content:Sl(t)?"":t})},qR=function(e,t,n){var r=VR(n,t),a=n.no_events?r:e.fire("BeforeSetContent",r);return Sl(t)||(t=a.content),h.from(e.getBody()).fold(G(t),function(i){return Sl(t)?HR(e,i,t,a):zR(e,i,t,a)})},WR=function(e,t){return _w(e,t).isSome()},zg=function(e){return Re(e)?e:xe},jR=function(e,t,n){for(var r=e.dom,a=zg(n);r.parentNode;){r=r.parentNode;var i=k.fromDom(r),o=t(i);if(o.isSome())return o;if(a(i))break}return h.none()},xl=function(e,t,n){var r=t(e),a=zg(n);return r.orThunk(function(){return a(e)?h.none():jR(e,t,a)})},Nl=As,Hg=function(e,t,n){var r=e.formatter.get(n);if(r)for(var a=0;a<r.length;a++){var i=r[a];if(kt(i)&&i.inherit===!1&&e.dom.is(t,i.selector))return!0}return!1},Al=function(e,t,n,r,a){var i=e.dom.getRoot();return t===i?!1:(t=e.dom.getParent(t,function(o){return Hg(e,o,n)?!0:o.parentNode===i||!!wn(e,o,n,r,!0)}),!!wn(e,t,n,r,a))},Tl=function(e,t,n){if(Nl(t,n.inline)||Nl(t,n.block))return!0;if(n.selector)return t.nodeType===1&&e.is(t,n.selector)},Vg=function(e,t,n,r,a,i){var o=n[r];if(Re(n.onmatch))return n.onmatch(t,n,r);if(o){if(Ct(o.length)){for(var u in o)if(de(o,u)){var f=r==="attributes"?e.getAttrib(t,u):Po(e,t,u),s=On(o[u],i),l=on(f)||rv(f);if(l&&on(s))continue;if(a&&l&&!n.exact||(!a||n.exact)&&!Nl(f,Ts(e,s,u)))return!1}}else for(var c=0;c<o.length;c++)if(r==="attributes"?e.getAttrib(t,o[c]):Po(e,t,o[c]))return!0}return!0},wn=function(e,t,n,r,a){var i=e.formatter.get(n),o=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var f=i[u];if(Tl(e.dom,t,f)&&Vg(o,t,f,"attributes",a,r)&&Vg(o,t,f,"styles",a,r)){var s=f.classes;if(s){for(var l=0;l<s.length;l++)if(!e.dom.hasClass(t,On(s[l],r)))return}return f}}},Rl=function(e,t,n,r,a){if(r)return Al(e,r,t,n,a);if(r=e.selection.getNode(),Al(e,r,t,n,a))return!0;var i=e.selection.getStart();return!!(i!==r&&Al(e,i,t,n,a))},KR=function(e,t,n){var r=[],a={},i=e.selection.getStart();return e.dom.getParent(i,function(o){for(var u=0;u<t.length;u++){var f=t[u];!a[f]&&wn(e,o,f,n)&&(a[f]=!0,r.push(f))}},e.dom.getRoot()),r},GR=function(e,t){var n=function(a){return Se(a,k.fromDom(e.getBody()))},r=function(a,i){return wn(e,a.dom,i)?h.some(i):h.none()};return h.from(e.selection.getStart(!0)).bind(function(a){return xl(k.fromDom(a),function(i){return Gc(t,function(o){return r(i,o)})},n)}).getOrNull()},XR=function(e,t){var n=e.formatter.get(t),r=e.dom;if(n)for(var a=e.selection.getStart(),i=Io(r,a),o=n.length-1;o>=0;o--){var u=n[o];if(!kt(u)||Ee(u.defaultBlock))return!0;for(var f=i.length-1;f>=0;f--)if(r.is(i[f],u.selector))return!0}return!1},YR=function(e,t,n){return jt(n,function(r,a){var i=vx(e,a);return e.formatter.matchNode(t,a,{},i)?r.concat([a]):r},[])},_a=Ze,qg="_mce_caret",QR=function(e,t){return e.importNode(t,!0)},ZR=function(e){for(var t=[];e;){if(e.nodeType===3&&e.nodeValue!==_a||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},Wg=function(e){return ZR(e).length>0},jg=function(e){if(e){var t=new Ve(e,e);for(e=t.current();e;e=t.next())if(Q(e))return e}return null},Bl=function(e){var t=k.fromTag("span");return zn(t,{id:qg,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&et(t,k.fromText(_a)),t},JR=function(e){var t=jg(e);return t&&t.nodeValue.charAt(0)===_a&&t.deleteData(0,1),t},Dl=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(Wg(t))Or(e,!1,k.fromDom(t),n);else{var i=a.getRng(),o=r.getParent(t,r.isBlock),u=i.startContainer,f=i.startOffset,s=i.endContainer,l=i.endOffset,c=JR(t);r.remove(t,!0),u===c&&f>0&&i.setStart(c,f-1),s===c&&l>0&&i.setEnd(c,l-1),o&&r.isEmpty(o)&&_r(k.fromDom(o)),a.setRng(i)}},_l=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(t)Dl(e,t,n);else if(t=Br(e.getBody(),a.getStart()),!t)for(;t=r.get(qg);)Dl(e,t,!1)},eB=function(e,t,n){var r=e.dom,a=r.getParent(n,K(xs,e));a&&r.isEmpty(a)?n.parentNode.replaceChild(t,n):(KA(k.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},Kg=function(e,t){return e.appendChild(t),t},Gg=function(e,t){var n=Wc(e,function(r,a){return Kg(r,a.cloneNode(!1))},t);return Kg(n,n.ownerDocument.createTextNode(_a))},tB=function(e,t,n,r,a,i){var o=e.formatter,u=e.dom,f=ve(Gr(o.get()),function(v){return v!==r&&!dt(v,"removeformat")}),s=YR(e,n,f),l=ve(s,function(v){return!dx(e,v,r)});if(l.length>0){var c=n.cloneNode(!1);return u.add(t,c),o.remove(r,a,c,i),u.remove(c),h.some(c)}else return h.none()},nB=function(e,t,n){var r,a,i=e.selection,o=i.getRng(),u=o.startOffset,f=o.startContainer,s=f.nodeValue;r=Br(e.getBody(),i.getStart()),r&&(a=jg(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(s&&u>0&&u<s.length&&l.test(s.charAt(u))&&l.test(s.charAt(u-1))){var c=i.getBookmark();o.collapse(!0);var v=Na(e,o,e.formatter.get(t));v=Uo(v),e.formatter.apply(t,n,v),i.moveToBookmark(c)}else(!r||a.nodeValue!==_a)&&(r=QR(e.getDoc(),Bl(!0).dom),a=r.firstChild,o.insertNode(r),u=1),e.formatter.apply(t,n,r),i.setCursorLocation(a,u)},rB=function(e,t,n,r){var a=e.dom,i=e.selection,o,u,f,s=[],l=i.getRng(),c=l.startContainer,v=l.startOffset;for(u=c,c.nodeType===3&&(v!==c.nodeValue.length&&(o=!0),u=u.parentNode);u;){if(wn(e,u,t,n,r)){f=u;break}u.nextSibling&&(o=!0),s.push(u),u=u.parentNode}if(f)if(o){var d=i.getBookmark();l.collapse(!0);var m=Na(e,l,e.formatter.get(t),!0);m=Uo(m),e.formatter.remove(t,n,m,r),i.moveToBookmark(d)}else{var p=Br(e.getBody(),f),g=Bl(!1).dom;eB(e,g,p!==null?p:f);var y=tB(e,g,f,t,n,r),b=Gg(s.concat(y.toArray()),g);Dl(e,p,!1),i.setCursorLocation(b,1),a.isEmpty(f)&&a.remove(f)}},aB=function(e,t){var n=e.selection,r=e.getBody();_l(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===_a&&_l(e,Br(r,n.getStart())),(t===37||t===39)&&_l(e,Br(r,n.getStart()))},iB=function(e){e.on("mouseup keydown",function(t){aB(e,t.keyCode)})},oB=function(e,t){var n=Bl(!1),r=Gg(t,n.dom);return Xt(k.fromDom(e),n),Qe(k.fromDom(e)),R(r,0)},uB=function(e,t){var n=e.schema.getTextInlineElements();return de(n,Ue(t))&&!yn(t.dom)&&!yr(t.dom)},fB=function(e){return yn(e.dom)&&Wg(e.dom)},Jo={},Xg=Yr,Yg=qa,sB=function(e,t){var n=Jo[e];n||(Jo[e]=[]),Jo[e].push(t)},lB=function(e,t){Yg(Jo[e],function(n){n(t)})};sB("pre",function(e){var t=e.selection.getRng(),n,r=function(o){return i(o.previousSibling)&&Qc(n,o.previousSibling)!==-1},a=function(o,u){ie(u).remove(),ie(o).append("<br><br>").append(u.childNodes)},i=Ut(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),Yg(Xg(Xg(n,i),r),function(o){a(o.previousSibling,o)}))});var Ol=B.each,Pl=function(e){return re(e)&&!Ot(e)&&!yn(e)&&!yr(e)},Qg=function(e,t){for(var n=e;n;n=n[t]){if(Q(n)&&Hi(n.data))return e;if(re(n)&&!Ot(n))return n}return e},Zg=function(e,t,n){var r=rg(e);if(t&&n&&(t=Qg(t,"previousSibling"),n=Qg(n,"nextSibling"),r.compare(t,n))){for(var a=t.nextSibling;a&&a!==n;){var i=a;a=a.nextSibling,t.appendChild(i)}return e.remove(n),B.each(B.grep(n.childNodes),function(o){t.appendChild(o)}),t}return n},Jg=function(e,t,n,r){if(r&&t.merge_siblings!==!1){var a=Zg(e,ks(r),r);Zg(e,a,ks(a,!0))}},cB=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";Ol(e.select(r,n),function(a){Pl(a)&&Ol(t.styles,function(i,o){e.setStyle(a,o,"")})})}},Il=function(e,t,n){Ol(e.childNodes,function(r){Pl(r)&&(t(r)&&n(r),r.hasChildNodes()&&Il(r,t,n))})},vB=function(e,t){t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},eh=function(e,t){return function(n){return!!(n&&Po(e,n,t))}},th=function(e,t,n){return function(r){e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),vB(e,r)}},xi=Vn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),dB=/^(src|href|style)$/,Ll=B.each,Oa=As,mB=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},nh=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},rh=function(e,t,n){var r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"];if(re(r)){var i=r.childNodes.length-1;!n&&a&&a--,r=r.childNodes[a>i?i:a]}return Q(r)&&n&&a>=r.nodeValue.length&&(r=new Ve(r,e.getBody()).next()||r),Q(r)&&!n&&a===0&&(r=new Ve(r,e.getBody()).prev()||r),r},ah=function(e,t){var n=t?"firstChild":"lastChild";if(mB(e)&&e[n]){var r=e[n];return e.nodeName==="TR"&&r[n]||r}return e},$l=function(e,t,n,r){var a=e.create(n,r);return t.parentNode.insertBefore(a,t),a.appendChild(t),a},ih=function(e,t,n,r,a){var i=k.fromDom(t),o=k.fromDom(e.create(r,a)),u=n?Iv(i):Pv(i);return Wi(o,u),n?(Xt(i,o),Uv(o,i)):(Ga(i,o),et(o,i)),o.dom},pB=function(e,t,n){if(Ke(n)&&Oa(t,n.inline)||Cn(n)&&Oa(t,n.block))return!0;if(kt(n))return re(t)&&e.is(t,n.selector)},gB=function(e,t){return t.links&&e.nodeName==="A"},eu=function(e,t,n,r){var a=ks(t,n,r);return on(a)||a.nodeName==="BR"||e.isBlock(a)},hB=function(e,t,n){var r=t.parentNode,a,i=e.dom,o=it(e);Cn(n)&&(o?r===i.getRoot()&&(!n.list_block||!Oa(t,n.list_block))&&X(un(t.childNodes),function(u){ka(e,o,u.nodeName.toLowerCase())?a?a.appendChild(u):(a=$l(i,u,o),i.setAttribs(a,e.settings.forced_root_block_attrs)):a=null}):i.isBlock(t)&&!i.isBlock(r)&&(!eu(i,t,!1)&&!eu(i,t.firstChild,!0,!0)&&t.insertBefore(i.create("br"),t.firstChild),!eu(i,t,!0)&&!eu(i,t.lastChild,!1,!0)&&t.appendChild(i.create("br")))),!(mx(n)&&!Oa(n.inline,t))&&i.remove(t,!0)},oh=function(e,t,n,r,a){var i,o=e.dom;if(!pB(o,r,t)&&!gB(r,t))return xi.keep();var u=r;if(Ke(t)&&t.remove==="all"&&Lt(t.preserve_attributes)){var f=ve(o.getAttribs(u),function(v){return Xe(t.preserve_attributes,v.name.toLowerCase())});if(o.removeAllAttribs(u),X(f,function(v){return o.setAttrib(u,v.name,v.value)}),f.length>0)return xi.rename("span")}if(t.remove!=="all"){Ll(t.styles,function(v,d){v=Ts(o,On(v,n),d+""),jr(d)&&(d=v,a=null),(t.remove_similar||!a||Oa(Po(o,a,d),v))&&o.setStyle(u,d,""),i=!0}),i&&o.getAttrib(u,"style")===""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),Ll(t.attributes,function(v,d){var m;if(v=On(v,n),jr(d)&&(d=v,a=null),t.remove_similar||!a||Oa(o.getAttrib(a,d),v)){if(d==="class"&&(v=o.getAttrib(u,d),v&&(m="",X(v.split(/\s+/),function(p){/mce\-\w+/.test(p)&&(m+=(m?" ":"")+p)}),m))){o.setAttrib(u,d,m);return}if(dB.test(d)&&u.removeAttribute("data-mce-"+d),d==="style"&&Ut(["li"])(u)&&o.getStyle(u,"list-style-type")==="none"){u.removeAttribute(d),o.setStyle(u,"list-style-type","none");return}d==="class"&&u.removeAttribute("className"),u.removeAttribute(d)}}),Ll(t.classes,function(v){v=On(v,n),(!a||o.hasClass(a,v))&&o.removeClass(u,v)});for(var s=o.getAttribs(u),l=0;l<s.length;l++){var c=s[l].nodeName;if(c.indexOf("_")!==0&&c.indexOf("data-")!==0)return xi.keep()}}return t.remove!=="none"?(hB(e,u,t),xi.removed()):xi.keep()},Pa=function(e,t,n,r,a){return oh(e,t,n,r,a).fold(xe,function(i){return e.dom.rename(r,i),!0},Fe)},bB=function(e,t,n,r,a){var i;return X(Io(e.dom,t.parentNode).reverse(),function(o){if(!i&&o.id!=="_start"&&o.id!=="_end"){var u=wn(e,o,n,r,a);u&&u.split!==!1&&(i=o)}}),i},yB=function(e,t,n,r){return oh(e,t,n,r,r).fold(G(r),function(a){var i=e.dom.createFragment();return i.appendChild(r),e.dom.rename(r,a)},G(null))},CB=function(e,t,n,r,a,i,o,u){var f,s,l,c=e.dom;if(n){for(var v=n.parentNode,d=r.parentNode;d&&d!==v;d=d.parentNode){f=c.clone(d,!1);for(var m=0;m<t.length&&(f=yB(e,t[m],u,f),f!==null);m++);f&&(s&&f.appendChild(s),l||(l=f),s=f)}i&&(!o.mixed||!c.isBlock(n))&&(r=c.split(n,r)),s&&(a.parentNode.insertBefore(s,a),l.appendChild(a),Ke(o)&&Jg(c,o,u,s))}return r},uh=function(e,t,n,r,a){var i=e.formatter.get(t),o=i[0],u=!0,f=e.dom,s=e.selection,l=function(b){var w=bB(e,b,t,n,a);return CB(e,i,w,b,b,!0,o,n)},c=function(b){return Ot(b)&&re(b)&&(b.id==="_start"||b.id==="_end")},v=function(b){return vt(i,function(w){return Pa(e,w,n,b,b)})},d=function(b){var w=!0,S=!1;re(b)&&f.getContentEditable(b)&&(w=u,u=f.getContentEditable(b)==="true",S=!0);var C=un(b.childNodes);if(u&&!S){var x=v(b),T=x||vt(i,function(D){return Tl(f,b,D)}),I=b.parentNode;!T&&Ee(I)&&Rs(o)&&v(I)}if(o.deep&&C.length){for(var J=0;J<C.length;J++)d(C[J]);S&&(u=w)}var q=["underline","line-through","overline"];X(q,function(D){re(b)&&e.dom.getStyle(b,"text-decoration")===D&&b.parentNode&&mp(f,b.parentNode)===D&&Pa(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:D}},null,b)})},m=function(b){var w=f.get(b?"_start":"_end"),S=w[b?"firstChild":"lastChild"];return c(S)&&(S=S[b?"firstChild":"lastChild"]),Q(S)&&S.data.length===0&&(S=b?w.previousSibling||w.nextSibling:w.nextSibling||w.previousSibling),f.remove(w,!0),S},p=function(b){var w,S,C=Na(e,b,i,b.collapsed);if(o.split){if(C=Uo(C),w=rh(e,C,!0),S=rh(e,C),w!==S){if(w=ah(w,!0),S=ah(S,!1),nh(f,w,S)){var x=h.from(w.firstChild).getOr(w);l(ih(f,x,!0,"span",{id:"_start","data-mce-type":"bookmark"})),m(!0);return}if(nh(f,S,w)){var x=h.from(S.lastChild).getOr(S);l(ih(f,x,!1,"span",{id:"_end","data-mce-type":"bookmark"})),m(!1);return}w=$l(f,w,"span",{id:"_start","data-mce-type":"bookmark"}),S=$l(f,S,"span",{id:"_end","data-mce-type":"bookmark"});var T=f.createRng();T.setStartAfter(w),T.setEndBefore(S),bi(f,T,function(I){X(I,function(J){!Ot(J)&&!Ot(J.parentNode)&&l(J)})}),l(w),l(S),w=m(!0),S=m()}else w=S=l(w);C.startContainer=w.parentNode?w.parentNode:w,C.startOffset=f.nodeIndex(w),C.endContainer=S.parentNode?S.parentNode:S,C.endOffset=f.nodeIndex(S)+1}bi(f,C,function(I){X(I,d)})};if(r){if(Oo(r)){var g=f.createRng();g.setStartBefore(r),g.setEndAfter(r),p(g)}else p(r);Fs(e,t,r,n);return}if(f.getContentEditable(s.getNode())==="false"){r=s.getNode();for(var y=0;y<i.length&&!(i[y].ceFalseOverride&&Pa(e,i[y],n,r,r));y++);Fs(e,t,r,n);return}!s.isCollapsed()||!Ke(o)||Aa(e).length?(Is(s,!0,function(){Ps(e,p)}),Ke(o)&&Rl(e,t,n,s.getStart())&&dp(f,s,s.getRng()),e.nodeChanged()):rB(e,t,n,a),Fs(e,t,r,n)},fh=B.each,wB=function(e,t,n,r){var a=function(i){if(i.nodeType===1&&i.parentNode&&i.parentNode.nodeType===1){var o=mp(e,i.parentNode);e.getStyle(i,"color")&&o?e.setStyle(i,"text-decoration",o):e.getStyle(i,"text-decoration")===o&&e.setStyle(i,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(B.walk(r,a,"childNodes"),a(r))},EB=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Il(r,eh(e,"fontSize"),th(e,"backgroundColor",On(t.styles.backgroundColor,n)))},SB=function(e,t,n,r){Ke(t)&&(t.inline==="sub"||t.inline==="sup")&&(Il(r,eh(e,"fontSize"),th(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",r),!0))},kB=function(e,t,n,r){fh(t,function(a){Ke(a)&&fh(e.dom.select(a.inline,r),function(i){Pl(i)&&Pa(e,a,n,i,a.exact?i:null)}),cB(e.dom,a,r)})},xB=function(e,t,n,r,a){wn(e,a.parentNode,n,r)&&Pa(e,t,r,a)||t.merge_with_parents&&e.dom.getParent(a.parentNode,function(i){if(wn(e,i,n,r))return Pa(e,t,r,a),!0})},tu=B.each,NB=function(e){return re(e)&&!Ot(e)&&!yn(e)&&!yr(e)},AB=function(e,t,n,r){if(i1(e)&&Ke(t)){var a=Sd(e.schema),i=WR(k.fromDom(n),function(o){return yn(o.dom)});return Xr(a,r)&&qe(k.fromDom(n.parentNode),!1)&&!i}else return!1},Fl=function(e,t,n,r){var a=e.formatter.get(t),i=a[0],o=!r&&e.selection.isCollapsed(),u=e.dom,f=e.selection,s=function(w,S){if(S===void 0&&(S=i),Re(S.onformat)&&S.onformat(w,S,n,r),tu(S.styles,function(x,T){u.setStyle(w,T,On(x,n))}),S.styles){var C=u.getAttrib(w,"style");C&&u.setAttrib(w,"data-mce-style",C)}tu(S.attributes,function(x,T){u.setAttrib(w,T,On(x,n))}),tu(S.classes,function(x){x=On(x,n),u.hasClass(w,x)||u.addClass(w,x)})},l=function(w,S){var C=!1;return tu(w,function(x){if(!kt(x))return!1;if(!(Ee(x.collapsed)&&x.collapsed!==o)&&u.is(S,x.selector)&&!yn(S))return s(S,x),C=!0,!1}),C},c=function(w){if(Le(w)){var S=u.create(w);return s(S),S}else return null},v=function(w,S,C){var x=[],T=!0,I=i.inline||i.block,J=c(I);bi(w,S,function(q){var D,ne=function(F){var V=!1,$=T,H=F.nodeName.toLowerCase(),j=F.parentNode,_=j.nodeName.toLowerCase();if(re(F)&&w.getContentEditable(F)&&($=T,T=w.getContentEditable(F)==="true",V=!0),_e(F)&&!AB(e,i,F,_)){D=null,Cn(i)&&w.remove(F);return}if(Cn(i)&&i.wrapper&&wn(e,F,t,n)){D=null;return}if(T&&!V&&Cn(i)&&!i.wrapper&&xs(e,H)&&ka(e,_,I)){var W=w.rename(F,I);s(W),x.push(W),D=null;return}if(kt(i)){var fe=l(a,F);if(!fe&&Ee(j)&&Rs(i)&&(fe=l(a,j)),!Ke(i)||fe){D=null;return}}T&&!V&&ka(e,I,H)&&ka(e,_,I)&&!(!C&&Q(F)&&ro(F.data))&&!yn(F)&&(!Ke(i)||!w.isBlock(F))?(D||(D=w.clone(J,!1),F.parentNode.insertBefore(D,F),x.push(D)),D.appendChild(F)):(D=null,X(un(F.childNodes),ne),V&&(T=$),D=null)};X(q,ne)}),i.links===!0&&X(x,function(q){var D=function(ne){ne.nodeName==="A"&&s(ne,i),X(un(ne.childNodes),D)};D(q)}),X(x,function(q){var D=function(V){var $=0;return X(V.childNodes,function(H){!cx(H)&&!Ot(H)&&$++}),$},ne=function(V){var $=Ye(V.childNodes,NB).filter(function(H){return Tl(w,H,i)});return $.map(function(H){var j=w.clone(H,!1);return s(j),w.replace(j,V,!0),w.remove(H,!0),j}).getOr(V)},F=D(q);if((x.length>1||!w.isBlock(q))&&F===0){w.remove(q,!0);return}(Ke(i)||Cn(i)&&i.wrapper)&&(!i.exact&&F===1&&(q=ne(q)),kB(e,a,n,q),xB(e,i,t,n,q),EB(w,i,n,q),wB(w,i,n,q),SB(w,i,n,q),Jg(w,i,n,q))})};if(u.getContentEditable(f.getNode())==="false"){r=f.getNode();for(var d=0,m=a.length;d<m;d++){var p=a[d];if(p.ceFalseOverride&&kt(p)&&u.is(r,p.selector)){s(r,p);break}}Rp(e,t,r,n);return}if(i){if(r)if(Oo(r)){if(!l(a,r)){var g=u.createRng();g.setStartBefore(r),g.setEndAfter(r),v(u,Na(e,g,a),!0)}}else v(u,r,!0);else if(!o||!Ke(i)||Aa(e).length){var y=f.getNode(),b=a[0];!e.settings.forced_root_block&&b.defaultBlock&&!u.getParent(y,u.isBlock)&&Fl(e,b.defaultBlock),f.setRng(yl(f.getRng())),Is(f,!0,function(){Ps(e,function(w,S){var C=S?w:Na(e,w,a);v(u,C,!1)})}),dp(u,f,f.getRng()),e.nodeChanged()}else nB(e,t,n);lB(t,e)}Rp(e,t,r,n)},sh=function(e){return de(e,"vars")},TB=function(e,t){e.set({}),t.on("NodeChange",function(n){dh(t,n.element,e.get())}),t.on("FormatApply FormatRemove",function(n){var r=h.from(n.node).map(function(a){return Oo(a)?a:a.startContainer}).bind(function(a){return re(a)?h.some(a):h.from(a.parentElement)}).getOrThunk(function(){return lh(t)});dh(t,r,e.get())})},lh=function(e){return e.selection.getStart()},ch=function(e,t,n,r,a){var i=function(u){var f=e.formatter.matchNode(u,n,a!=null?a:{},r);return!Ct(f)},o=function(u){return Hg(e,u,n)?!0:r?!1:Ee(e.formatter.matchNode(u,n,a,!0))};return jc(t,i,o)},vh=function(e,t){var n=t!=null?t:lh(e);return ve(Io(e.dom,n),function(r){return re(r)&&!yr(r)})},dh=function(e,t,n){var r=vh(e,t);Be(n,function(a,i){var o=function(u){var f=ch(e,r,i,u.similar,sh(u)?u.vars:void 0),s=f.isSome();if(u.state.get()!==s){u.state.set(s);var l=f.getOr(t);sh(u)?u.callback(s,{node:l,format:i,parents:r}):X(u.callbacks,function(c){return c(s,{node:l,format:i,parents:r})})}};X([a.withSimilar,a.withoutSimilar],o),X(a.withVars,o)})},RB=function(e,t,n,r,a,i){var o=t.get();X(n.split(","),function(u){var f=Me(o,u).getOrThunk(function(){var c={withSimilar:{state:ft(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ft(!1),similar:!1,callbacks:[]},withVars:[]};return o[u]=c,c}),s=function(){var c=vh(e);return ch(e,c,u,a,i).isSome()};if(Ct(i)){var l=a?f.withSimilar:f.withoutSimilar;l.callbacks.push(r),l.callbacks.length===1&&l.state.set(s())}else f.withVars.push({state:ft(s()),similar:a,vars:i,callback:r})}),t.set(o)},BB=function(e,t,n){var r=e.get();X(t.split(","),function(a){return Me(r,a).each(function(i){r[a]={withSimilar:ae(ae({},i.withSimilar),{callbacks:ve(i.withSimilar.callbacks,function(o){return o!==n})}),withoutSimilar:ae(ae({},i.withoutSimilar),{callbacks:ve(i.withoutSimilar.callbacks,function(o){return o!==n})}),withVars:ve(i.withVars,function(o){return o.callback!==n})}})}),e.set(r)},DB=function(e,t,n,r,a,i){return t.get()===null&&TB(t,e),RB(e,t,n,r,a,i),{unbind:function(){return BB(t,n,r)}}},_B=function(e,t,n,r){var a=e.formatter.get(t);Rl(e,t,n,r)&&(!("toggle"in a[0])||a[0].toggle)?uh(e,t,n,r):Fl(e,t,n,r)},Ml=function(e,t){var n=t||document,r=n.createDocumentFragment();return X(e,function(a){r.appendChild(a.dom)}),k.fromDom(r)},Ul=function(e,t,n){return{element:e,width:t,rows:n}},mh=function(e,t){return{element:e,cells:t}},OB=function(e,t){return{x:e,y:t}},ph=function(e,t){var n=parseInt(Qa(e,t),10);return isNaN(n)?1:n},PB=function(e,t,n,r,a){for(var i=ph(a,"rowspan"),o=ph(a,"colspan"),u=e.rows,f=n;f<n+i;f++){u[f]||(u[f]=mh(rm(r),[]));for(var s=t;s<t+o;s++){var l=u[f].cells;l[s]=f===n&&s===t?a:pa(a)}}},IB=function(e,t,n){var r=e.rows,a=r[n]?r[n].cells:[];return!!a[t]},LB=function(e,t,n){for(;IB(e,t,n);)t++;return t},gh=function(e){return jt(e,function(t,n){return n.cells.length>t?n.cells.length:t},0)},hh=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var a=n[r].cells,i=0;i<a.length;i++)if(Se(a[i],t))return h.some(OB(i,r));return h.none()},bh=function(e,t,n,r,a){for(var i=[],o=e.rows,u=n;u<=a;u++){var f=o[u].cells,s=t<r?f.slice(t,r+1):f.slice(r,t+1);i.push(mh(o[u].element,s))}return i},$B=function(e,t,n){var r=t.x,a=t.y,i=n.x,o=n.y,u=a<o?bh(e,r,a,i,o):bh(e,r,o,i,a);return Ul(e.element,gh(u),u)},FB=function(e,t){var n=pa(e.element),r=k.fromTag("tbody");return Wi(r,t),et(n,r),n},MB=function(e){return Te(e.rows,function(t){var n=Te(t.cells,function(a){var i=rm(a);return Hn(i,"colspan"),Hn(i,"rowspan"),i}),r=pa(t.element);return Wi(r,n),r})},UB=function(e){var t=Ul(pa(e),0,[]);return X(bt(e,"tr"),function(n,r){X(bt(n,"td,th"),function(a,i){PB(t,LB(t,i,r),r,n,a)})}),Ul(t.element,gh(t.rows),t.rows)},zB=function(e){return FB(e,MB(e))},HB=function(e,t,n){return hh(e,t).bind(function(r){return hh(e,n).map(function(a){return $B(e,r,a)})})},VB=function(e){return Ye(e,function(t){return Ue(t)==="ul"||Ue(t)==="ol"})},qB=function(e,t){return Ye(e,function(n){return Ue(n)==="li"&&_s(n,t)}).fold(G([]),function(n){return VB(e).map(function(r){var a=k.fromTag(Ue(r)),i=Va(Zv(r),function(o,u){return gr(u,"list-style")});return bw(a,i),[k.fromTag("li"),a]}).getOr([])})},WB=function(e,t){var n=jt(t,function(r,a){return et(a,r),a},e);return t.length>0?Ml([n]):n},jB=function(e){return ei(e)?Gt(e).filter(xf).fold(G([]),function(t){return[e,t]}):xf(e)?[e]:[]},KB=function(e,t){var n=k.fromDom(t.commonAncestorContainer),r=Pn(n,e),a=ve(r,function(u){return kf(u)||jw(u)}),i=qB(r,t),o=a.concat(i.length?i:jB(n));return Te(o,pa)},yh=function(){return Ml([])},GB=function(e,t){return WB(k.fromDom(t.cloneContents()),KB(e,t))},XB=function(e,t){return Ji(t,"table",K(Se,e))},YB=function(e,t){return XB(e,t[0]).bind(function(n){var r=t[0],a=t[t.length-1],i=UB(n);return HB(i,r,a).map(function(o){return Ml([zB(o)])})}).getOrThunk(yh)},QB=function(e,t){return t.length>0&&t[0].collapsed?yh():GB(e,t[0])},ZB=function(e,t){var n=kp(t,e);return n.length>0?YB(e,n):QB(e,t)},JB=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},nu=function(e,t){return t>=0&&t<e.length&&Sa(e.charAt(t))},Ch=function(e,t){var n=Wn(e.innerText);return t?JB(n):n},eD=function(e){return e.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},tD=function(e){return h.from(e.selection.getRng()).map(function(t){var n=h.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),a=eD(n),i=ue.browser.isIE()&&a!=="pre",o=e.dom.add(r,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),u=Ch(o,i),f=Wn(o.textContent);if(e.dom.remove(o),nu(f,0)||nu(f,f.length-1)){var s=n.getOr(r),l=Ch(s,i),c=l.indexOf(u);if(c===-1)return u;var v=nu(l,c-1),d=nu(l,c+u.length);return(v?" ":"")+u+(d?" ":"")}else return u}).getOr("")},nD=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),i=Zs(e,Bs(a)),o=t.contextual?ZB(k.fromDom(e.getBody()),i).dom:n.cloneContents();return o&&r.appendChild(o),e.selection.serializer.serialize(r,t)},rD=function(e,t){return ae(ae({},e),{format:t,get:!0,selection:!0})},aD=function(e,t,n){n===void 0&&(n={});var r=rD(n,t),a=e.fire("BeforeGetContent",r);if(a.isDefaultPrevented())return e.fire("GetContent",a),a.content;if(a.format==="text")return tD(e);a.getInner=!0;var i=nD(e,a);return a.format==="tree"?i:(a.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",a),a.content)},zl=0,wh=1,Eh=2,iD=function(e,t){var n=e.length+t.length+2,r=new Array(n),a=new Array(n),i=function(l,c,v){return{start:l,end:c,diag:v}},o=function(l,c,v,d,m){var p=f(l,c,v,d);if(p===null||p.start===c&&p.diag===c-d||p.end===l&&p.diag===l-v)for(var g=l,y=v;g<c||y<d;)g<c&&y<d&&e[g]===t[y]?(m.push([zl,e[g]]),++g,++y):c-l>d-v?(m.push([Eh,e[g]]),++g):(m.push([wh,t[y]]),++y);else{o(l,p.start,v,p.start-p.diag,m);for(var b=p.start;b<p.end;++b)m.push([zl,e[b]]);o(p.end,c,p.end-p.diag,d,m)}},u=function(l,c,v,d){for(var m=l;m-c<d&&m<v&&e[m]===t[m-c];)++m;return i(l,m,c)},f=function(l,c,v,d){var m=c-l,p=d-v;if(m===0||p===0)return null;var g=m-p,y=p+m,b=(y%2===0?y:y+1)/2;r[1+b]=l,a[1+b]=c+1;var w,S,C,x,T;for(w=0;w<=b;++w){for(S=-w;S<=w;S+=2){for(C=S+b,S===-w||S!==w&&r[C-1]<r[C+1]?r[C]=r[C+1]:r[C]=r[C-1]+1,x=r[C],T=x-l+v-S;x<c&&T<d&&e[x]===t[T];)r[C]=++x,++T;if(g%2!==0&&g-w<=S&&S<=g+w&&a[C-g]<=r[C])return u(a[C-g],S+l-v,c,d)}for(S=g-w;S<=g+w;S+=2){for(C=S+b-g,S===g-w||S!==g+w&&a[C+1]<=a[C-1]?a[C]=a[C+1]-1:a[C]=a[C-1],x=a[C]-1,T=x-l+v-S;x>=l&&T>=v&&e[x]===t[T];)a[C]=x--,T--;if(g%2===0&&-w<=S&&S<=w&&a[C]<=r[C+g])return u(a[C],S+l-v,c,d)}}},s=[];return o(0,e.length,0,t.length,s),s},Sh=function(e){return re(e)?e.outerHTML:Q(e)?jn.encodeRaw(e.data,!1):lw(e)?"<!--"+e.data+"-->":""},oD=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},uD=function(e,t,n){var r=oD(t);if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.insertBefore(r,a)}else e.appendChild(r)},fD=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},sD=function(e,t){var n=0;X(e,function(r){r[0]===zl?n++:r[0]===wh?(uD(t,r[1],n),n++):r[0]===Eh&&fD(t,n)})},lD=function(e){return ve(Te(un(e.childNodes),Sh),function(t){return t.length>0})},cD=function(e,t){var n=Te(un(t.childNodes),Sh);return sD(iD(n,e),t),t},vD=Jc(function(){return document.implementation.createHTMLDocument("undo")}),dD=function(e){return e.indexOf("</iframe>")!==-1},mD=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},pD=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Hl=function(e){var t=lD(e.getBody()),n=Kr(t,function(a){var i=ng(e.serializer,a);return i.length>0?[i]:[]}),r=n.join("");return dD(r)?mD(n):pD(r)},Vl=function(e,t,n){var r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?cD(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ee(r)&&fp(r)?!r.isFakeCaret:!0}),e.selection.moveToBookmark(r)},ql=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},kh=function(e){var t=k.fromTag("body",vD());return tm(t,ql(e)),X(bt(t,"*[data-mce-bogus]"),zv),JS(t)},gD=function(e,t){return ql(e)===ql(t)},hD=function(e,t){return kh(e)===kh(t)},ru=function(e,t){return!e||!t?!1:gD(e,t)?!0:hD(e,t)},Wl=function(e){return e.get()===0},au=function(e,t,n){Wl(n)&&(e.typing=t)},xh=function(e,t){e.typing&&(au(e,!1,t),e.add())},bD=function(e){e.typing&&(e.typing=!1,e.add())},yD=function(e,t,n){Wl(t)&&n.set(Rm(e.selection))},CD=function(e,t,n,r,a,i,o){var u=Hl(e);if(i=i||{},i=B.extend(i,u),Wl(r)===!1||e.removed)return null;var f=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:f,originalEvent:o}).isDefaultPrevented()||f&&ru(f,i))return null;t.data[n.get()]&&a.get().each(function(v){t.data[n.get()].beforeBookmark=v});var s=p1(e);if(s&&t.data.length>s){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=Rm(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var c={level:i,lastLevel:f,originalEvent:o};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",c),e.fire("change",c)):e.fire("AddUndo",c),i},wD=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},ED=function(e,t,n,r,a){if(t.transact(r)){var i=t.data[n.get()].bookmark,o=t.data[n.get()-1];Vl(e,o,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=i)}},SD=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Vl(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},kD=function(e,t,n,r){var a;return t.typing&&(t.add(),t.typing=!1,au(t,!1,n)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],Vl(e,a,!0),e.setDirty(!0),e.fire("Undo",{level:a})),a},xD=function(e){e.clear(),e.add()},ND=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!ru(Hl(e),t.data[0])},AD=function(e,t){return t.get()<e.data.length-1&&!e.typing},TD=function(e,t,n){return xh(e,t),e.beforeChange(),e.ignore(n),e.add()},RD=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},BD=function(e,t){var n=e.dom,r=Ee(t)?t:e.getBody();Ct(e.hasVisual)&&(e.hasVisual=w1(e)),X(n.select("table,a",r),function(a){switch(a.nodeName){case"TABLE":var i=E1(e),o=n.getAttrib(a,"border");(!o||o==="0")&&e.hasVisual?n.addClass(a,i):n.removeClass(a,i);break;case"A":if(!n.getAttrib(a,"href")){var u=n.getAttrib(a,"name")||a.id,f=S1(e);u&&e.hasVisual?n.addClass(a,f):n.removeClass(a,f)}break}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},Nh=function(e){return{undoManager:{beforeChange:function(t,n){return yD(e,t,n)},add:function(t,n,r,a,i,o){return CD(e,t,n,r,a,i,o)},undo:function(t,n,r){return kD(e,t,n,r)},redo:function(t,n){return SD(e,t,n)},clear:function(t,n){return wD(e,t,n)},reset:function(t){return xD(t)},hasUndo:function(t,n){return ND(e,t,n)},hasRedo:function(t,n){return AD(t,n)},transact:function(t,n,r){return TD(t,n,r)},ignore:function(t,n){return RD(t,n)},extra:function(t,n,r,a){return ED(e,t,n,r,a)}},formatter:{match:function(t,n,r,a){return Rl(e,t,n,r,a)},matchAll:function(t,n){return KR(e,t,n)},matchNode:function(t,n,r,a){return wn(e,t,n,r,a)},canApply:function(t){return XR(e,t)},closest:function(t){return GR(e,t)},apply:function(t,n,r){return Fl(e,t,n,r)},remove:function(t,n,r,a){return uh(e,t,n,r,a)},toggle:function(t,n,r){return _B(e,t,n,r)},formatChanged:function(t,n,r,a,i){return DB(e,t,n,r,a,i)}},editor:{getContent:function(t,n){return $A(e,t,n)},setContent:function(t,n){return qR(e,t,n)},insertContent:function(t,n){return LR(e,t,n)},addVisual:function(t){return BD(e,t)}},selection:{getContent:function(t,n){return aD(e,t,n)}},raw:{getModel:function(){return h.none()}}}},DD=function(e){var t=function(u){return Wr(u)?u:{}},n=e.undoManager,r=e.formatter,a=e.editor,i=e.selection,o=e.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(u,f,s){return n.transact(s)},ignore:function(u,f){return n.ignore(f)},extra:function(u,f,s,l){return n.extra(s,l)}},formatter:{match:function(u,f,s,l){return r.match(u,t(f),l)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(u){return r.canApply(u)},closest:function(u){return r.closest(u)},apply:function(u,f,s){return r.apply(u,t(f))},remove:function(u,f,s,l){return r.remove(u,t(f))},toggle:function(u,f,s){return r.toggle(u,t(f))},formatChanged:function(u,f,s,l,c){return r.formatChanged(f,s,l,c)}},editor:{getContent:function(u,f){return a.getContent(u)},setContent:function(u,f){return a.setContent(u,f)},insertContent:function(u,f){return a.insertContent(u)},addVisual:a.addVisual},selection:{getContent:function(u,f){return i.getContent(f)}},raw:{getModel:function(){return h.some(o.getRawModel())}}}},_D=function(){var e=G(null),t=G("");return{undoManager:{beforeChange:le,add:e,undo:e,redo:e,clear:le,reset:le,hasUndo:xe,hasRedo:xe,transact:e,ignore:le,extra:le},formatter:{match:xe,matchAll:G([]),matchNode:G(void 0),canApply:xe,closest:t,apply:le,remove:le,toggle:le,formatChanged:G({unbind:le})},editor:{getContent:t,setContent:t,insertContent:le,addVisual:le},selection:{getContent:t},raw:{getModel:G(h.none())}}},In=function(e){return de(e.plugins,"rtc")},OD=function(e){return Me(e.plugins,"rtc").bind(function(t){return h.from(t.setup)})},PD=function(e){var t=e;return OD(e).fold(function(){return t.rtcInstance=Nh(e),h.none()},function(n){return t.rtcInstance=_D(),h.some(function(){return n().then(function(r){return t.rtcInstance=DD(r),r.rtc.isRemote})})})},jl=function(e){return e.rtcInstance?e.rtcInstance:Nh(e)},$e=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},ID=function(e,t,n){$e(e).undoManager.beforeChange(t,n)},LD=function(e,t,n,r,a,i,o){return $e(e).undoManager.add(t,n,r,a,i,o)},$D=function(e,t,n,r){return $e(e).undoManager.undo(t,n,r)},FD=function(e,t,n){return $e(e).undoManager.redo(t,n)},MD=function(e,t,n){$e(e).undoManager.clear(t,n)},UD=function(e,t){$e(e).undoManager.reset(t)},zD=function(e,t,n){return $e(e).undoManager.hasUndo(t,n)},HD=function(e,t,n){return $e(e).undoManager.hasRedo(t,n)},VD=function(e,t,n,r){return $e(e).undoManager.transact(t,n,r)},qD=function(e,t,n){$e(e).undoManager.ignore(t,n)},WD=function(e,t,n,r,a){$e(e).undoManager.extra(t,n,r,a)},jD=function(e,t,n,r,a){return $e(e).formatter.match(t,n,r,a)},KD=function(e,t,n){return $e(e).formatter.matchAll(t,n)},GD=function(e,t,n,r,a){return $e(e).formatter.matchNode(t,n,r,a)},XD=function(e,t){return $e(e).formatter.canApply(t)},YD=function(e,t){return $e(e).formatter.closest(t)},QD=function(e,t,n,r){$e(e).formatter.apply(t,n,r)},ZD=function(e,t,n,r,a){$e(e).formatter.remove(t,n,r,a)},JD=function(e,t,n,r){$e(e).formatter.toggle(t,n,r)},e_=function(e,t,n,r,a,i){return $e(e).formatter.formatChanged(t,n,r,a,i)},t_=function(e,t,n){return jl(e).editor.getContent(t,n)},n_=function(e,t,n){return jl(e).editor.setContent(t,n)},r_=function(e,t,n){return jl(e).editor.insertContent(t,n)},a_=function(e,t,n){return $e(e).selection.getContent(t,n)},i_=function(e,t){return $e(e).editor.addVisual(t)},o_=function(e,t){t===void 0&&(t={});var n=t.format?t.format:"html";return a_(e,n,t)},Ah=function(e){return e.dom.length===0?(Qe(e),h.none()):h.some(e)},u_=function(e,t){return e.filter(function(n){return Ci.isBookmarkNode(n.dom)}).bind(t?Ka:hr)},f_=function(e,t,n,r){var a=e.dom,i=t.dom,o=r?a.length:i.length;r?(cl(a,i,!1,!r),n.setStart(i,o)):(cl(i,a,!1,!r),n.setEnd(i,o))},s_=function(e,t){Gt(e).each(function(n){var r=e.dom;t&&Ko(n,R(r,0))?Xo(r,0):!t&&Go(n,R(r,r.length))&&ll(r,r.length)})},Th=function(e,t,n,r){e.bind(function(a){var i=r?ll:Xo;return i(a.dom,r?a.dom.length:0),t.filter(Ft).map(function(o){return f_(a,o,n,r)})}).orThunk(function(){var a=u_(t,r).or(t).filter(Ft);return a.map(function(i){return s_(i,r)})})},l_=function(e,t){var n=h.from(t.firstChild).map(k.fromDom),r=h.from(t.lastChild).map(k.fromDom);e.deleteContents(),e.insertNode(t);var a=n.bind(hr).filter(Ft).bind(Ah),i=r.bind(Ka).filter(Ft).bind(Ah);Th(a,n,e,!0),Th(i,r,e,!1),e.collapse(!1)},c_=function(e,t){return ae(ae({format:"html"},e),{set:!0,selection:!0,content:t})},v_=function(e,t){if(t.format!=="raw"){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,ae(ae({isRootContent:!0,forced_root_block:!1},a),t));return Ra({validate:e.validate},e.schema).serialize(i)}else return t.content},d_=function(e,t,n){n===void 0&&(n={});var r=c_(n,t),a=r;if(!r.no_events){var i=e.fire("BeforeSetContent",r);if(i.isDefaultPrevented()){e.fire("SetContent",i);return}else a=i}a.content=v_(e,a);var o=e.selection.getRng();l_(o,o.createContextualFragment(a.content)),e.selection.setRng(o),Ei(e,o),a.no_events||e.fire("SetContent",a)},Rh=function(e,t,n){if(e&&de(e,t)){var r=ve(e[t],function(a){return a!==n});r.length===0?delete e[t]:e[t]=r}};function m_(e,t){var n,r,a=function(o,u){return Ye(u,function(f){return e.is(f,o)})},i=function(o){return e.getParents(o,null,e.getRoot())};return{selectorChangedWithUnbind:function(o,u){return n||(n={},r={},t.on("NodeChange",function(f){var s=f.element,l=i(s),c={};B.each(n,function(v,d){a(d,l).each(function(m){r[d]||(X(v,function(p){p(!0,{node:m,selector:d,parents:l})}),r[d]=v),c[d]=v})}),B.each(r,function(v,d){c[d]||(delete r[d],B.each(v,function(m){m(!1,{node:s,selector:d,parents:l})}))})})),n[o]||(n[o]=[]),n[o].push(u),a(o,i(t.selection.getStart())).each(function(){r[o]=n[o]}),{unbind:function(){Rh(n,o,u),Rh(r,o,u)}}}}}var Bh=function(e){return!!e.select},Dh=function(e){return!!(e&&e.ownerDocument)&&Un(k.fromDom(e.ownerDocument),k.fromDom(e))},p_=function(e){return e?Bh(e)?!0:Dh(e.startContainer)&&Dh(e.endContainer):!1},_h=function(e,t,n,r){var a,i,o=m_(e,r).selectorChangedWithUnbind,u=function(_,W){var fe=e.createRng();Ee(_)&&Ee(W)?(fe.setStart(_,W),fe.setEnd(_,W),w(fe),g(!1)):(Os(e,fe,r.getBody(),!0),w(fe))},f=function(_){return o_(r,_)},s=function(_,W){return d_(r,_,W)},l=function(_){return Qp(r.getBody(),b(),_)},c=function(_){return Zp(r.getBody(),b(),_)},v=function(_,W){return H.getBookmark(_,W)},d=function(_){return H.moveToBookmark(_)},m=function(_,W){return hA(e,_,W).each(w),_},p=function(){var _=b(),W=y();return!_||_.item?!1:_.compareEndPoints?_.compareEndPoints("StartToEnd",_)===0:!W||_.collapsed},g=function(_){var W=b();W.collapse(!!_),w(W)},y=function(){return t.getSelection?t.getSelection():t.document.selection},b=function(){var _,W,fe,ge=function(we,ot,yt){try{return ot.compareBoundaryPoints(we,yt)}catch(O){return-1}},se=t.document;if(r.bookmark!==void 0&&Dr(r)===!1){var Ge=Gs(r);if(Ge.isSome())return Ge.map(function(we){return Zs(r,[we])[0]}).getOr(se.createRange())}try{(_=y())&&!Ki(_.anchorNode)&&(_.rangeCount>0?W=_.getRangeAt(0):W=_.createRange?_.createRange():se.createRange(),W=Zs(r,[W])[0])}catch(we){}return W||(W=se.createRange?se.createRange():se.body.createTextRange()),W.setStart&&W.startContainer.nodeType===9&&W.collapsed&&(fe=e.getRoot(),W.setStart(fe,0),W.setEnd(fe,0)),a&&i&&(ge(W.START_TO_START,W,a)===0&&ge(W.END_TO_END,W,a)===0?W=i:(a=null,i=null)),W},w=function(_,W){var fe;if(p_(_)){var ge=Bh(_)?_:null;if(ge){i=null;try{ge.select()}catch(we){}return}var se=y(),Ge=r.fire("SetSelectionRange",{range:_,forward:W});if(_=Ge.range,se){i=_;try{se.removeAllRanges(),se.addRange(_)}catch(we){}W===!1&&se.extend&&(se.collapse(_.endContainer,_.endOffset),se.extend(_.startContainer,_.startOffset)),a=se.rangeCount>0?se.getRangeAt(0):null}!_.collapsed&&_.startContainer===_.endContainer&&se.setBaseAndExtent&&!ue.ie&&_.endOffset-_.startOffset<2&&_.startContainer.hasChildNodes()&&(fe=_.startContainer.childNodes[_.startOffset],fe&&fe.tagName==="IMG"&&(se.setBaseAndExtent(_.startContainer,_.startOffset,_.endContainer,_.endOffset),(se.anchorNode!==_.startContainer||se.focusNode!==_.endContainer)&&se.setBaseAndExtent(fe,0,fe,1))),r.fire("AfterSetSelectionRange",{range:_,forward:W})}},S=function(_){return s(e.getOuterHTML(_)),_},C=function(){return pA(r.getBody(),b())},x=function(_,W){return gA(e,b(),_,W)},T=function(){var _=y(),W=_==null?void 0:_.anchorNode,fe=_==null?void 0:_.focusNode;if(!_||!W||!fe||Ki(W)||Ki(fe))return!0;var ge=e.createRng();ge.setStart(W,_.anchorOffset),ge.collapse(!0);var se=e.createRng();return se.setStart(fe,_.focusOffset),se.collapse(!0),ge.compareBoundaryPoints(ge.START_TO_START,se)<=0},I=function(){var _=b(),W=y();if(!Cx(W)&&$o(r)){var fe=Fo(e,_);return fe.each(function(ge){w(ge,T())}),fe.getOr(_)}return _},J=function(_,W){return o(_,W),$},q=function(){for(var _,W=e.getRoot();W&&W.nodeName!=="BODY";){if(W.scrollHeight>W.clientHeight){_=W;break}W=W.parentNode}return _},D=function(_,W){Ee(_)?yN(r,_,W):Ei(r,b(),W)},ne=function(_,W){return w(Ms(_,W,r.getDoc()))},F=function(){var _=b();return _.collapsed?R.fromRangeStart(_).getClientRects()[0]:_.getBoundingClientRect()},V=function(){t=a=i=null,j.destroy()},$={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:g,setCursorLocation:u,getContent:f,setContent:s,getBookmark:v,moveToBookmark:d,select:m,isCollapsed:p,isForward:T,setNode:S,getNode:C,getSel:y,setRng:w,getRng:b,getStart:l,getEnd:c,getSelectedBlocks:x,normalize:I,selectorChanged:J,selectorChangedWithUnbind:o,getScrollContainer:q,scrollIntoView:D,placeCaretAt:ne,getBoundingClientRect:F,destroy:V},H=Ci($),j=Bp($,r);return $.bookmarkManager=H,$.controlSelection=j,$},g_=function(e,t){X(t,function(n){e.attr(n,null)})},h_=function(e,t,n){e.addNodeFilter("font",function(r){X(r,function(a){var i=t.parse(a.attr("style")),o=a.attr("color"),u=a.attr("face"),f=a.attr("size");o&&(i.color=o),u&&(i["font-family"]=u),f&&(i["font-size"]=n[parseInt(a.attr("size"),10)-1]),a.name="span",a.attr("style",t.serialize(i)),g_(a,["color","face","size"])})})},b_=function(e,t){e.addNodeFilter("strike",function(n){X(n,function(r){var a=t.parse(r.attr("style"));a["text-decoration"]="line-through",r.name="span",r.attr("style",t.serialize(a))})})},y_=function(e,t){var n=Lf();t.convert_fonts_to_spans&&h_(e,n,B.explode(t.font_size_legacy_values)),b_(e,n)},C_=function(e,t){t.inline_styles&&y_(e,t)},w_=function(e){return new tt(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){a.status===200?t(a.response):r()},a.onerror=r,a.send()}catch(i){r()}})},Kl=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},Oh=function(e,t){var n;try{n=atob(t)}catch(i){return h.none()}for(var r=new Uint8Array(n.length),a=0;a<r.length;a++)r[a]=n.charCodeAt(a);return h.some(new Blob([r],{type:e}))},E_=function(e){return new tt(function(t){var n=Kl(e),r=n.type,a=n.data;Oh(r,a).fold(function(){return t(new Blob([]))},t)})},Ph=function(e){return e.indexOf("blob:")===0?w_(e):e.indexOf("data:")===0?E_(e):null},S_=function(e){return new tt(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},k_=0,Gl=function(e){return(e||"blobid")+k_++},x_=function(e,t,n,r){var a,i;if(t.src.indexOf("blob:")===0){i=e.getByUri(t.src),i?n({image:t,blobInfo:i}):Ph(t.src).then(function(s){S_(s).then(function(l){a=Kl(l).data,i=e.create(Gl(),s,a),e.add(i),n({image:t,blobInfo:i})})},function(s){r(s)});return}var o=Kl(t.src),u=o.data,f=o.type;a=u,i=e.getByData(a,f),i?n({image:t,blobInfo:i}):Ph(t.src).then(function(s){i=e.create(Gl(),s,a),e.add(i),n({image:t,blobInfo:i})},function(s){r(s)})},N_=function(e){return e?un(e.getElementsByTagName("img")):[]},A_=function(e,t){var n={},r=function(a,i){i||(i=Fe);var o=ve(N_(a),function(f){var s=f.src;return!ue.fileApi||f.hasAttribute("data-mce-bogus")||f.hasAttribute("data-mce-placeholder")||!s||s===ue.transparentSrc?!1:s.indexOf("blob:")===0?!e.isUploaded(s)&&i(f):s.indexOf("data:")===0?i(f):!1}),u=Te(o,function(f){if(n[f.src]!==void 0)return new tt(function(l){n[f.src].then(function(c){if(typeof c=="string")return c;l({image:f,blobInfo:c.blobInfo})})});var s=new tt(function(l,c){x_(t,f,l,c)}).then(function(l){return delete n[l.image.src],l}).catch(function(l){return delete n[f.src],l});return n[f.src]=s,s});return tt.all(u)};return{findAll:r}},Xl=function(e,t,n,r){var a=e.padd_empty_with_br||t.insert;a&&n[r.name]?r.empty().append(new Ht("br",1)).shortEnded=!0:r.empty().append(new Ht("#text",3)).value=Et},T_=function(e){return Ih(e,"#text")&&e.firstChild.value===Et},Ih=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},R_=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},Ni=function(e,t,n,r){return r.isEmpty(t,n,function(a){return R_(e,a)})},B_=function(e,t){return e&&(de(t,e.name)||e.name==="br")},D_=function(e){return Ee(e.attr("data-mce-bogus"))},__=function(e){return e.attr("src")===ue.transparentSrc||Ee(e.attr("data-mce-placeholder"))},O_=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),Be(e.attributes.map,function(r,a){n.setAttribute(a,r)}),t.images_dataimg_filter(n)}else return!0},P_=function(e,t){var n=t.blob_cache,r=function(a){var i=a.attr("src");__(a)||D_(a)||wA(i).filter(function(){return O_(a,t)}).bind(function(o){var u=o.type,f=o.data;return h.from(n.getByData(f,u)).orThunk(function(){return Oh(u,f).map(function(s){var l=n.create(Gl(),s,f);return n.add(l),l})})}).each(function(o){a.attr("src",o.blobUri())})};n&&e.addAttributeFilter("src",function(a){return X(a,r)})},I_=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(r,a,i){var o,u=r.length,f,s=B.extend({},n.getBlockElements()),l=n.getNonEmptyElements(),c,v,d,m,p=n.getWhiteSpaceElements(),g,y;for(s.body=1,o=0;o<u;o++)if(f=r[o],c=f.parent,s[f.parent.name]&&f===c.lastChild){for(d=f.prev;d;){if(m=d.name,m!=="span"||d.attr("data-mce-type")!=="bookmark"){m==="br"&&(f=null);break}d=d.prev}f&&(f.remove(),Ni(n,l,p,c)&&(g=n.getElementRule(c.name),g&&(g.removeEmpty?c.remove():g.paddEmpty&&Xl(t,i,s,c))))}else{for(v=f;c&&c.firstChild===v&&c.lastChild===v&&(v=c,!s[c.name]);)c=c.parent;v===c&&t.padd_empty_with_br!==!0&&(y=new Ht("#text",3),y.value=Et,f.replace(y))}}),e.addAttributeFilter("href",function(r){var a=r.length,i=function(f){var s=f.split(" ").filter(function(l){return l.length>0});return s.concat(["noopener"]).sort().join(" ")},o=function(f){var s=f?B.trim(f):"";return/\b(noopener)\b/g.test(s)?s:i(s)};if(!t.allow_unsafe_link_target)for(;a--;){var u=r[a];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",o(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(r){for(var a=r.length,i,o,u,f;a--;)if(f=r[a],f.name==="a"&&f.firstChild&&!f.attr("href")){u=f.parent,i=f.lastChild;do o=i.prev,u.insert(i,f),i=o;while(i)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(r){for(var a=r.length,i,o;a--;)if(i=r[a],o=i.parent,o.name==="ul"||o.name==="ol")if(i.prev&&i.prev.name==="li")i.prev.append(i);else{var u=new Ht("li",1);u.attr("style","list-style-type: none"),i.wrap(u)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(r){for(var a=n.getValidClasses(),i=r.length;i--;){for(var o=r[i],u=o.attr("class").split(" "),f="",s=0;s<u.length;s++){var l=u[s],c=!1,v=a["*"];v&&v[l]&&(c=!0),v=a[o.name],!c&&v&&v[l]&&(c=!0),c&&(f&&(f+=" "),f+=l)}f.length||(f=null),o.attr("class",f)}}),P_(e,t)},Lh=B.makeMap,$h=B.each,Fh=B.explode,L_=B.extend,Yl=function(e,t){t===void 0&&(t=Gn());var n={},r=[],a={},i={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var o=function(m){for(var p=Lh("tr,td,th,tbody,thead,tfoot,table"),g=t.getNonEmptyElements(),y=t.getWhiteSpaceElements(),b=t.getTextBlockElements(),w=t.getSpecialElements(),S=function(H,j){if(j===void 0&&(j=H.parent),w[H.name])H.empty().remove();else{for(var _=H.children(),W=0,fe=_;W<fe.length;W++){var ge=fe[W];t.isValidChild(j.name,ge.name)||S(ge,j)}H.unwrap()}},C=0;C<m.length;C++){var x=m[C],T=void 0,I=void 0,J=void 0;if(!(!x.parent||x.fixed)){if(b[x.name]&&x.parent.name==="li"){for(var q=x.next;q&&b[q.name];){q.name="li",q.fixed=!0,x.parent.insert(q,x.parent);q=q.next}x.unwrap();continue}var D=[x];for(T=x.parent;T&&!t.isValidChild(T.name,x.name)&&!p[T.name];T=T.parent)D.push(T);if(T&&D.length>1)if(t.isValidChild(T.name,x.name)){D.reverse(),I=u(D[0].clone());for(var ne=I,F=0;F<D.length-1;F++){t.isValidChild(ne.name,D[F].name)?(J=u(D[F].clone()),ne.append(J)):J=ne;for(var V=D[F].firstChild;V&&V!==D[F+1];){var $=V.next;J.append(V),V=$}ne=J}Ni(t,g,y,I)?T.insert(x,D[0],!0):(T.insert(I,D[0],!0),T.insert(x,I)),T=D[0],(Ni(t,g,y,T)||Ih(T,"br"))&&T.empty().remove()}else S(x);else if(x.parent){if(x.name==="li"){var q=x.prev;if(q&&(q.name==="ul"||q.name==="ol")){q.append(x);continue}if(q=x.next,q&&(q.name==="ul"||q.name==="ol")){q.insert(x,q.firstChild,!0);continue}x.wrap(u(new Ht("ul",1)));continue}t.isValidChild(x.parent.name,"div")&&t.isValidChild("div",x.name)?x.wrap(u(new Ht("div",1))):S(x)}}}},u=function(m){var p=m.name;if(p in n){var g=a[p];g?g.push(m):a[p]=[m]}for(var y=r.length;y--;){var b=r[y].name;if(b in m.attributes.map){var g=i[b];g?g.push(m):i[b]=[m]}}return m},f=function(m,p){$h(Fh(m),function(g){var y=n[g];y||(n[g]=y=[]),y.push(p)})},s=function(){var m=[];for(var p in n)de(n,p)&&m.push({name:p,callbacks:n[p]});return m},l=function(m,p){$h(Fh(m),function(g){var y;for(y=0;y<r.length;y++)if(r[y].name===g){r[y].callbacks.push(p);return}r.push({name:g,callbacks:[p]})})},c=function(){return[].concat(r)},v=function(m,p){var g,y,b,w,S,C,x,T=[],I,J=function(N){return N===!1?"":N===!0?"p":N};p=p||{},a={},i={};var q=L_(Lh("script,style,head,html,body,title,meta,param"),t.getBlockElements()),D=Sd(t),ne=t.getNonEmptyElements(),F=t.children,V=e.validate,$="forced_root_block"in p?p.forced_root_block:e.forced_root_block,H=J($),j=t.getWhiteSpaceElements(),_=/^[ \t\r\n]+/,W=/[ \t\r\n]+$/,fe=/[ \t\r\n]+/g,ge=/^[ \t\r\n]+$/,se=de(j,p.context)||de(j,e.root_name),Ge=function(){var N=Z.firstChild,P=null,L=function(ee){ee&&(N=ee.firstChild,N&&N.type===3&&(N.value=N.value.replace(_,"")),N=ee.lastChild,N&&N.type===3&&(N.value=N.value.replace(W,"")))};if(t.isValidChild(Z.name,H.toLowerCase())){for(;N;){var Y=N.next;N.type===3||N.type===1&&N.name!=="p"&&!q[N.name]&&!N.attr("data-mce-type")?(P||(P=we(H,1),P.attr(e.forced_root_block_attrs),Z.insert(P,N)),P.append(N)):(L(P),P=null),N=Y}L(P)}},we=function(N,P){var L=new Ht(N,P),Y;return N in n&&(Y=a[N],Y?Y.push(L):a[N]=[L]),L},ot=function(N){for(var P=t.getBlockElements(),L=N.prev;L&&L.type===3;){var Y=L.value.replace(W,"");if(Y.length>0){L.value=Y;return}var ee=L.next;if(ee){if(ee.type===3&&ee.value.length){L=L.prev;continue}if(!P[ee.name]&&ee.name!=="script"&&ee.name!=="style"){L=L.prev;continue}}var pe=L.prev;L.remove(),L=pe}},yt=function(N){var P={};for(var L in N)L!=="li"&&L!=="p"&&(P[L]=N[L]);return P},O=function(N){for(var P=N;Ee(P);){if(P.name in D)return Ni(t,ne,j,P);P=P.parent}return!1},U=Wo({validate:V,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:yt(t.getSelfClosingElements()),cdata:function(N){I.append(we("#cdata",4)).value=N},text:function(N,P){var L;se||(N=N.replace(fe," "),B_(I.lastChild,q)&&(N=N.replace(_,""))),N.length!==0&&(L=we("#text",3),L.raw=!!P,I.append(L).value=N)},comment:function(N){I.append(we("#comment",8)).value=N},pi:function(N,P){I.append(we(N,7)).value=P,ot(I)},doctype:function(N){var P=I.append(we("#doctype",10));P.value=N,ot(I)},start:function(N,P,L){var Y=V?t.getElementRule(N):{};if(Y){var ee=we(Y.outputName||N,1);ee.attributes=P,ee.shortEnded=L,I.append(ee);var pe=F[I.name];pe&&F[ee.name]&&!pe[ee.name]&&T.push(ee);for(var Oe=r.length;Oe--;){var ze=r[Oe].name;ze in P.map&&(C=i[ze],C?C.push(ee):i[ze]=[ee])}q[N]&&ot(ee),L||(I=ee),!se&&j[N]&&(se=!0)}},end:function(N){var P,L,Y,ee=V?t.getElementRule(N):{};if(ee){if(q[N]&&!se){if(P=I.firstChild,P&&P.type===3)if(L=P.value.replace(_,""),L.length>0)P.value=L,P=P.next;else for(Y=P.next,P.remove(),P=Y;P&&P.type===3;)L=P.value,Y=P.next,(L.length===0||ge.test(L))&&(P.remove(),P=Y),P=Y;if(P=I.lastChild,P&&P.type===3)if(L=P.value.replace(W,""),L.length>0)P.value=L,P=P.prev;else for(Y=P.prev,P.remove(),P=Y;P&&P.type===3;)L=P.value,Y=P.prev,(L.length===0||ge.test(L))&&(P.remove(),P=Y),P=Y}se&&j[N]&&(se=!1);var pe=Ni(t,ne,j,I),Oe=I.parent;ee.paddInEmptyBlock&&pe&&O(I)?Xl(e,p,q,I):ee.removeEmpty&&pe?q[I.name]?I.empty().remove():I.unwrap():ee.paddEmpty&&(T_(I)||pe)&&Xl(e,p,q,I),I=Oe}}},t),Z=I=new Ht(p.context||e.root_name,11);if(U.parse(m,p.format),V&&T.length&&(p.context?p.invalid=!0:o(T)),H&&(Z.name==="body"||p.isRootContent)&&Ge(),!p.invalid){for(x in a)if(de(a,x)){for(C=n[x],g=a[x],w=g.length;w--;)g[w].parent||g.splice(w,1);for(y=0,b=C.length;y<b;y++)C[y](g,x,p)}for(y=0,b=r.length;y<b;y++)if(C=r[y],C.name in i){for(g=i[C.name],w=g.length;w--;)g[w].parent||g.splice(w,1);for(w=0,S=C.callbacks.length;w<S;w++)C.callbacks[w](g,C.name,p)}}return Z},d={schema:t,addAttributeFilter:l,getAttributeFilters:c,addNodeFilter:f,getNodeFilters:s,filterNode:u,parse:v};return I_(d,e),C_(d,e),d},$_=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(r,a){for(var i=r.length;i--;){var o=r[i];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(a,null)}}),e.addAttributeFilter("src,href,style",function(r,a){for(var i="data-mce-"+a,o=t.url_converter,u=t.url_converter_scope,f=r.length;f--;){var s=r[f],l=s.attr(i);l!==void 0?(s.attr(a,l.length>0?l:null),s.attr(i,null)):(l=s.attr(a),a==="style"?l=n.serializeStyle(n.parseStyle(l),s.name):o&&(l=o.call(u,l,a,s.name)),s.attr(a,l.length>0?l:null))}}),e.addAttributeFilter("class",function(r){for(var a=r.length;a--;){var i=r[a],o=i.attr("class");o&&(o=i.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),i.attr("class",o.length>0?o:null))}}),e.addAttributeFilter("data-mce-type",function(r,a,i){for(var o=r.length;o--;){var u=r[o];if(u.attr("data-mce-type")==="bookmark"&&!i.cleanup){var f=h.from(u.firstChild).exists(function(s){return!ro(s.value)});f?u.unwrap():u.remove()}}}),e.addNodeFilter("noscript",function(r){for(var a=r.length;a--;){var i=r[a].firstChild;i&&(i.value=jn.decode(i.value))}}),e.addNodeFilter("script,style",function(r,a){for(var i=function(l){return l.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},o=r.length;o--;){var u=r[o],f=u.firstChild?u.firstChild.value:"";if(a==="script"){var s=u.attr("type");s&&u.attr("type",s==="mce-no/type"?null:s.replace(/^mce\-/,"")),t.element_format==="xhtml"&&f.length>0&&(u.firstChild.value=`// <![CDATA[
`+i(f)+`
// ]]>`)}else t.element_format==="xhtml"&&f.length>0&&(u.firstChild.value=`<!--
`+i(f)+`
-->`)}}),e.addNodeFilter("#comment",function(r){for(var a=r.length;a--;){var i=r[a];t.preserve_cdata&&i.value.indexOf("[CDATA[")===0?(i.name="#cdata",i.type=4,i.value=n.decode(i.value.replace(/^\[CDATA\[|\]\]$/g,""))):i.value.indexOf("mce:protected ")===0&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(i.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(r,a){for(var i=r.length;i--;){var o=r[i];o.type===7?o.remove():o.type===1&&a==="input"&&!o.attr("type")&&o.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(r){X(r,function(a){a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)})},F_=function(e){var t=function(a){return a&&a.name==="br"},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},M_=function(e,t,n){var r,a=e.dom,i=t.cloneNode(!0),o=document.implementation;if(o.createHTMLDocument){var u=o.createHTMLDocument("");B.each(i.nodeName==="BODY"?i.childNodes:[i],function(f){u.body.appendChild(u.importNode(f,!0))}),i.nodeName!=="BODY"?i=u.body.firstChild:i=u.body,r=a.doc,a.doc=u}return _x(e,ae(ae({},n),{node:i})),r&&(a.doc=r),i},U_=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},z_=function(e,t,n){return U_(e,n)?M_(e,t,n):t},H_=function(e,t,n){B.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)}),t.push(n))},V_=function(e,t,n){if(!t.no_events&&e){var r=Ox(e,ae(ae({},t),{content:n}));return r.content}else return n},q_=function(e,t,n){var r=Wn(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||no(k.fromDom(t))?r:B.trim(r)},W_=function(e,t,n){var r=n.selection?ae({forced_root_block:!1},n):n,a=e.parse(t,r);return F_(a),a},j_=function(e,t,n){var r=Ra(e,t);return r.serialize(n)},K_=function(e,t,n,r,a){var i=j_(t,n,r);return V_(e,a,i)},G_=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Ce.DOM,a=t&&t.schema?t.schema:Gn(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var i=Yl(e,a);$_(i,e,r);var o=function(u,f){f===void 0&&(f={});var s=ae({format:"html"},f),l=z_(t,u,s),c=q_(r,l,s),v=W_(i,c,s);return s.format==="tree"?v:K_(t,e,a,v,s)};return{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:o,addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:K(H_,i,n),getTempAttrs:G(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},Mh=function(e,t){var n=G_(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},X_="html",Y_=function(e,t){t===void 0&&(t={});var n=t.format?t.format:X_;return t_(e,t,n)},Ql=function(e,t,n){return n===void 0&&(n={}),n_(e,t,n)},iu=Ce.DOM,Q_=function(e){iu.setStyle(e.id,"display",e.orgDisplay)},ou=function(e){return h.from(e).each(function(t){return t.destroy()})},Z_=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},J_=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),iu.unbind(t,"submit reset",e.formEventDelegate))},eO=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&a&&iu.remove(a.nextSibling),Px(e),e.editorManager.remove(e),!e.inline&&r&&Q_(e),Ix(e),iu.remove(e.getContainer()),ou(t),ou(n),e.destroy()}},tO=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ou(n),ou(r)),J_(e),Z_(e),e.destroyed=!0}},nO=function(e,t){var n=Wr(e)&&Wr(t);return n?Uh(e,t):t},rO=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length===0)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var i=t[a];for(var o in i)de(i,o)&&(r[o]=e(r[o],i[o]))}return r}},Uh=rO(nO),aO="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),iO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),oO="imagetools,toc".split(","),uO=function(e){var t=ve(aO,function(r){return de(e,r)}),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Zu(t)},fO=function(e){var t=B.makeMap(e.plugins," "),n=function(a){return de(t,a)},r=Tn(Tn([],ve(iO,n),!0),Kr(oO,function(a){return n(a)?[a+" (moving to premium)"]:[]}),!0);return Zu(r)},sO=function(e,t){var n=uO(e),r=fO(t),a=r.length>0,i=n.length>0,o=t.theme==="mobile";if(a||i||o){var u=`
- `,f=o?`

Themes:`+u+"mobile":"",s=a?`

Plugins:`+u+r.join(u):"",l=i?`

Settings:`+u+n.join(u):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+f+s+l)}},lO=function(e,t){return{sections:G(e),settings:G(t)}},Zl=$t().deviceType,cO=Zl.isTouch(),zh=Zl.isPhone(),vO=Zl.isTablet(),dO=["lists","autolink","autosave"],Hh={table_grid:!1,object_resizing:!1,resize:!1},Ai=function(e){var t=Lt(e)?e.join(" "):e,n=Te(Le(t)?t.split(" "):[],of);return ve(n,function(r){return r.length>0})},mO=function(e){return ve(e,K(Xe,dO))},pO=function(e,t){var n=XC(t,function(r,a){return Xe(e,a)});return lO(n.t,n.f)},gO=function(e,t,n){n===void 0&&(n={});var r=e.sections(),a=Me(r,t).getOr({});return B.extend({},n,a)},uu=function(e,t){return de(e.sections(),t)},hO=function(e,t,n){var r=e.sections();return uu(e,t)&&r[t].theme===n},bO=function(e,t){return uu(e,t)?e.sections()[t]:{}},Vh=function(e,t){return Me(e,"toolbar_mode").orThunk(function(){return Me(e,"toolbar_drawer").map(function(n){return n===!1?"wrap":n})}).getOr(t)},yO=function(e,t,n,r,a){var i={id:t,theme:"silver",toolbar_mode:Vh(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a};return ae(ae({},i),r?Hh:{})},CO=function(e,t){var n={resize:!1,toolbar_mode:Vh(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return ae(ae(ae({},Hh),n),t?r:{})},wO=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?B.extend({},e.external_plugins,n):n},EO=function(e,t){return[].concat(Ai(e)).concat(Ai(t))},SO=function(e,t,n,r){return e&&hO(t,"mobile","mobile")?mO(r):e&&uu(t,"mobile")?r:n},kO=function(e,t,n,r){var a=Ai(n.forced_plugins),i=Ai(r.plugins),o=bO(t,"mobile"),u=o.plugins?Ai(o.plugins):i,f=SO(e,t,i,u),s=EO(a,f);if(ue.browser.isIE()&&Xe(s,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return B.extend(r,{plugins:s.join(" ")})},xO=function(e,t){return e&&uu(t,"mobile")},NO=function(e,t,n,r,a){var i=e?{mobile:CO(a.mobile||{},t)}:{},o=pO(["mobile"],Uh(i,a)),u=B.extend(n,r,o.settings(),xO(e,o)?gO(o,"mobile"):{},{validate:!0,external_plugins:wO(r,o.settings())});return kO(e,o,r,u)},AO=function(e,t,n,r,a){var i=yO(a,t,n,cO,e),o=NO(zh||vO,zh,i,r,a);return o.deprecation_warnings!==!1&&sO(a,o),o},Pr=function(e,t,n){return h.from(t.settings[n]).filter(e)},TO=function(e){var t={};return typeof e=="string"?X(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(n){var r=n.split("=");r.length>1?t[B.trim(r[0])]=B.trim(r[1]):t[B.trim(r[0])]=B.trim(r[0])}):t=e,t},RO=function(e){return function(t){return Lt(t)&&Ha(t,e)}},BO=function(e,t,n,r){var a=t in e.settings?e.settings[t]:n;return r==="hash"?TO(a):r==="string"?Pr(Le,e,t).getOr(n):r==="number"?Pr(jr,e,t).getOr(n):r==="boolean"?Pr(Uc,e,t).getOr(n):r==="object"?Pr(Wr,e,t).getOr(n):r==="array"?Pr(Lt,e,t).getOr(n):r==="string[]"?Pr(RO(Le),e,t).getOr(n):r==="function"?Pr(Re,e,t).getOr(n):a},DO=function(){var e={},t=function(a,i){e[a]=i},n=function(a){return e[a]?e[a]:{icons:{}}},r=function(a){return de(e,a)};return{add:t,get:n,has:r}},fu=DO(),qh=function(e,t){var n=t.dom;return n[e]},Wh=function(e,t){return parseInt(Bn(t,e),10)},_O=K(qh,"clientWidth"),OO=K(qh,"clientHeight"),PO=K(Wh,"margin-top"),IO=K(Wh,"margin-left"),LO=function(e){return e.dom.getBoundingClientRect()},$O=function(e,t,n){var r=_O(e),a=OO(e);return t>=0&&n>=0&&t<=r&&n<=a},FO=function(e,t,n,r){var a=LO(t),i=e?a.left+t.dom.clientLeft+IO(t):0,o=e?a.top+t.dom.clientTop+PO(t):0,u=n-i,f=r-o;return{x:u,y:f}},jh=function(e,t,n){var r=k.fromDom(e.getBody()),a=e.inline?r:G0(r),i=FO(e.inline,a,t,n);return $O(a,i.x,i.y)},MO=function(e){return h.from(e).map(k.fromDom)},UO=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return MO(t).map(Xa).getOr(!1)},zO=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},Kh=function(e){var t=[],n=function(){var v=e.theme;return v&&v.getNotificationManagerImpl?v.getNotificationManagerImpl():zO()},r=function(){return h.from(t[0])},a=function(v,d){return v.type===d.type&&v.text===d.text&&!v.progressBar&&!v.timeout&&!d.progressBar&&!d.timeout},i=function(){t.length>0&&n().reposition(t)},o=function(v){t.push(v)},u=function(v){Mi(t,function(d){return d===v}).each(function(d){t.splice(d,1)})},f=function(v,d){if(d===void 0&&(d=!0),!(e.removed||!UO(e)))return d&&e.fire("BeforeOpenNotification",{notification:v}),Ye(t,function(m){return a(n().getArgs(m),v)}).getOrThunk(function(){e.editorManager.setActive(e);var m=n().open(v,function(){u(m),i(),r().fold(function(){return e.focus()},function(p){return wN(k.fromDom(p.getEl()))})});return o(m),i(),e.fire("OpenNotification",{notification:ae({},m)}),m})},s=function(){r().each(function(v){n().close(v),u(v),i()})},l=G(t),c=function(v){v.on("SkinLoaded",function(){var d=t1(v);d&&f({text:d,type:"warning",timeout:0},!1),i()}),v.on("show ResizeEditor ResizeWindow NodeChange",function(){nt.requestAnimationFrame(i)}),v.on("remove",function(){X(t.slice(),function(d){n().close(d)})})};return c(e),{open:f,close:s,getNotifications:l}},nn=St.PluginManager,sr=St.ThemeManager;function HO(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var Gh=function(e){var t=[],n=function(){var p=e.theme;return p&&p.getWindowManagerImpl?p.getWindowManagerImpl():HO()},r=function(p,g){return function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];return g?g.apply(p,y):void 0}},a=function(p){e.fire("OpenWindow",{dialog:p})},i=function(p){e.fire("CloseWindow",{dialog:p})},o=function(p){t.push(p),a(p)},u=function(p){i(p),t=ve(t,function(g){return g!==p}),t.length===0&&e.focus()},f=function(){return h.from(t[t.length-1])},s=function(p){e.editorManager.setActive(e),Ho(e);var g=p();return o(g),g},l=function(p,g){return s(function(){return n().open(p,g,u)})},c=function(p){return s(function(){return n().openUrl(p,u)})},v=function(p,g,y){var b=n();b.alert(p,r(y||b,g))},d=function(p,g,y){var b=n();b.confirm(p,r(y||b,g))},m=function(){f().each(function(p){n().close(p),u(p)})};return e.on("remove",function(){X(t,function(p){n().close(p)})}),{open:l,openUrl:c,alert:v,confirm:d,close:m}},Xh=function(e,t){e.notificationManager.open({type:"error",text:t})},su=function(e,t){e._skinLoaded?Xh(e,t):e.on("SkinLoaded",function(){Xh(e,t)})},VO=function(e,t){su(e,Zt.translate(["Failed to upload image: {0}",t]))},Jl=function(e,t,n){Tp(e,t,{message:n}),console.error(n)},ec=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},tc=function(e,t,n){Jl(e,"PluginLoadError",ec("plugin",t,n))},qO=function(e,t,n){Jl(e,"IconsLoadError",ec("icons",t,n))},WO=function(e,t,n){Jl(e,"LanguageLoadError",ec("language",t,n))},jO=function(e,t,n){var r=Zt.translate(["Failed to initialize plugin: {0}",t]);Tp(e,"PluginLoadError",{message:r}),lu(r,n),su(e,r)},lu=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Tn([e],t,!1)):r.log.apply(r,Tn([e],t,!1)))},KO=function(e){return/^[a-z0-9\-]+$/i.test(e)},GO=function(e){return Yh(e,Yk(e))},XO=function(e){return Yh(e,$m(e))},Yh=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,a="content"+r+".css",i=e.inline===!0;return Te(t,function(o){return KO(o)&&!i?n+"/"+o+"/"+a:e.documentBaseURI.toAbsolute(o)})},YO=function(e){e.contentCSS=e.contentCSS.concat(GO(e),XO(e))},Qh=function(){var e=1,t=2,n={},r=function(v,d){return{status:v,resultUri:d}},a=function(v){return v in n},i=function(v){var d=n[v];return d?d.resultUri:null},o=function(v){return a(v)?n[v].status===e:!1},u=function(v){return a(v)?n[v].status===t:!1},f=function(v){n[v]=r(e,null)},s=function(v,d){n[v]=r(t,d)},l=function(v){delete n[v]},c=function(){n={}};return{hasBlobUri:a,getResultUri:i,isPending:o,isUploaded:u,markPending:f,markUploaded:s,removeFailed:l,destroy:c}},QO=0,ZO=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},Zh=function(e){return e+QO+++ZO()},JO=function(){var e=[],t=function(c){var v={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return v[c.toLowerCase()]||"dat"},n=function(c,v,d,m,p){if(Le(c)){var g=c;return r({id:g,name:m,filename:p,blob:v,base64:d})}else{if(Wr(c))return r(c);throw new Error("Unknown input type")}},r=function(c){if(!c.blob||!c.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var v=c.id||Zh("blobid"),d=c.name||v,m=c.blob;return{id:G(v),name:G(d),filename:G(c.filename||d+"."+t(m.type)),blob:G(m),base64:G(c.base64),blobUri:G(c.blobUri||URL.createObjectURL(m)),uri:G(c.uri)}},a=function(c){o(c.id())||e.push(c)},i=function(c){return Ye(e,c).getOrUndefined()},o=function(c){return i(function(v){return v.id()===c})},u=function(c){return i(function(v){return v.blobUri()===c})},f=function(c,v){return i(function(d){return d.base64()===c&&d.blob().type===v})},s=function(c){e=ve(e,function(v){return v.blobUri()===c?(URL.revokeObjectURL(v.blobUri()),!1):!0})},l=function(){X(e,function(c){URL.revokeObjectURL(c.blobUri())}),e=[]};return{create:n,add:a,get:o,getByUri:u,getByData:f,findFirst:i,removeByUri:s,destroy:l}},eP=function(e,t){var n={},r=function(m,p){return m?m.replace(/\/$/,"")+"/"+p.replace(/^\//,""):p},a=function(m,p,g,y){var b=new XMLHttpRequest;b.open("POST",t.url),b.withCredentials=t.credentials,b.upload.onprogress=function(S){y(S.loaded/S.total*100)},b.onerror=function(){g("Image upload failed due to a XHR Transport error. Code: "+b.status)},b.onload=function(){if(b.status<200||b.status>=300){g("HTTP Error: "+b.status);return}var S=JSON.parse(b.responseText);if(!S||typeof S.location!="string"){g("Invalid JSON: "+b.responseText);return}p(r(t.basePath,S.location))};var w=new FormData;w.append("file",m.blob(),m.filename()),b.send(w)},i=function(){return new tt(function(m){m([])})},o=function(m,p){return{url:p,blobInfo:m,status:!0}},u=function(m,p,g){return{url:"",blobInfo:m,status:!1,error:{message:p,options:g}}},f=function(m,p){B.each(n[m],function(g){g(p)}),delete n[m]},s=function(m,p,g){return e.markPending(m.blobUri()),new tt(function(y){var b,w;try{var S=function(){b&&(b.close(),w=le)},C=function(T){S(),e.markUploaded(m.blobUri(),T),f(m.blobUri(),o(m,T)),y(o(m,T))},x=function(T,I){var J=I||{};S(),e.removeFailed(m.blobUri()),f(m.blobUri(),u(m,T,J)),y(u(m,T,J))};w=function(T){T<0||T>100||h.from(b).orThunk(function(){return h.from(g).map(MC)}).each(function(I){b=I,I.progressBar.value(T)})},p(m,C,x,w)}catch(T){y(u(m,T.message,{}))}})},l=function(m){return m===a},c=function(m){var p=m.blobUri();return new tt(function(g){n[p]=n[p]||[],n[p].push(g)})},v=function(m,p){return m=B.grep(m,function(g){return!e.isUploaded(g.blobUri())}),tt.all(B.map(m,function(g){return e.isPending(g.blobUri())?c(g):s(g,t.handler,p)}))},d=function(m,p){return!t.url&&l(t.handler)?i():v(m,p)};return Re(t.handler)===!1&&(t.handler=a),{upload:d}},Jh=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},eb=function(e,t){return eP(t,{url:Vk(e),basePath:qk(e),credentials:Wk(e),handler:jk(e)})},tP=function(e){var t=Qh(),n=eb(e,t);return{upload:function(r,a){return a===void 0&&(a=!0),n.upload(r,a?Jh(e):void 0)}}},nP=function(e){var t=ft(null);e.on("change AddUndo",function(r){t.set(ae({},r.level))});var n=function(){var r=e.undoManager.data;pr(r).filter(function(a){return!ru(t.get(),a)}).each(function(a){e.setDirty(!0),e.fire("change",{level:a,lastLevel:Ju(r,r.length-2).getOrNull()})})};return{fireIfChanged:n}},rP=function(e){var t=JO(),n,r,a=Qh(),i=[],o=nP(e),u=function(S){return function(C){return e.selection?S(C):[]}},f=function(S){return S+(S.indexOf("?")===-1?"?":"&")+new Date().getTime()},s=function(S,C,x){var T=0;do T=S.indexOf(C,T),T!==-1&&(S=S.substring(0,T)+x+S.substr(T+C.length),T+=x.length-C.length+1);while(T!==-1);return S},l=function(S,C,x){var T='src="'+x+'"'+(x===ue.transparentSrc?' data-mce-placeholder="1"':"");return S=s(S,'src="'+C+'"',T),S=s(S,'data-mce-src="'+C+'"','data-mce-src="'+x+'"'),S},c=function(S,C){X(e.undoManager.data,function(x){x.type==="fragmented"?x.fragments=Te(x.fragments,function(T){return l(T,S,C)}):x.content=l(x.content,S,C)})},v=function(S,C){var x=e.convertURL(C,"src");c(S.src,C),e.$(S).attr({src:Uk(e)?f(C):C,"data-mce-src":x})},d=function(S){return n||(n=eb(e,a)),y().then(u(function(C){var x=Te(C,function(T){return T.blobInfo});return n.upload(x,Jh(e)).then(u(function(T){var I=[],J=Te(T,function(q,D){var ne=C[D].blobInfo,F=C[D].image;return q.status&&zk(e)?(t.removeByUri(F.src),In(e)||v(F,q.url)):q.error&&(q.error.options.remove&&(c(F.getAttribute("src"),ue.transparentSrc),I.push(F)),VO(e,q.error.message)),{element:F,status:q.status,uploadUri:q.url,blobInfo:ne}});return J.length>0&&o.fireIfChanged(),I.length>0&&(In(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){X(I,function(q){e.dom.remove(q),t.removeByUri(q.src)})})),S&&S(J),J}))}))},m=function(S){if(_m(e))return d(S)},p=function(S){if(Ha(i,function(x){return x(S)})===!1)return!1;if(S.getAttribute("src").indexOf("data:")===0){var C=Mk(e);return C(S)}return!0},g=function(S){i.push(S)},y=function(){return r||(r=A_(a,t)),r.findAll(e.getBody(),p).then(u(function(S){return S=ve(S,function(C){return typeof C=="string"?(su(e,C),!1):!0}),In(e)||X(S,function(C){c(C.image.src,C.blobInfo.blobUri()),C.image.src=C.blobInfo.blobUri(),C.image.removeAttribute("data-mce-src")}),S}))},b=function(){t.destroy(),a.destroy(),r=n=null},w=function(S){return S.replace(/src="(blob:[^"]+)"/g,function(C,x){var T=a.getResultUri(x);if(T)return'src="'+T+'"';var I=t.getByUri(x);if(I||(I=jt(e.editorManager.get(),function(q,D){return q||D.editorUpload&&D.editorUpload.blobCache.getByUri(x)},null)),I){var J=I.blob();return'src="data:'+J.type+";base64,"+I.base64()+'"'}return C})};return e.on("SetContent",function(){_m(e)?m():y()}),e.on("RawSaveContent",function(S){S.content=w(S.content)}),e.on("GetContent",function(S){S.source_view||S.format==="raw"||S.format==="tree"||(S.content=w(S.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(S){X(S,function(C){var x=C.attr("src");if(!t.getByUri(x)){var T=a.getResultUri(x);T&&C.attr("src",T)}})})}),{blobCache:t,addFilter:g,uploadImages:d,uploadImagesAuto:m,scanForImages:y,destroy:b}},aP=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(n,r,a){return re(n)&&n.hasAttribute("href")},onformat:function(n,r,a){B.each(a,function(i,o){e.setAttrib(n,o,i)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(n){var r;return(r=n==null?void 0:n.customValue)!==null&&r!==void 0?r:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return B.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(n){t[n]={block:n,remove:"all"}}),t},iP=function(e){var t={},n=function(o){return Ee(o)?t[o]:t},r=function(o){return de(t,o)},a=function(o,u){o&&(Le(o)?(Lt(u)||(u=[u]),X(u,function(f){Ct(f.deep)&&(f.deep=!kt(f)),Ct(f.split)&&(f.split=!kt(f)||Ke(f)),Ct(f.remove)&&kt(f)&&!Ke(f)&&(f.remove="none"),kt(f)&&Ke(f)&&(f.mixed=!0,f.block_expand=!0),Le(f.classes)&&(f.classes=f.classes.split(/\s+/))}),t[o]=u):Be(o,function(f,s){a(s,f)}))},i=function(o){return o&&t[o]&&delete t[o],t};return a(aP(e.dom)),a(r1(e)),{get:n,has:r,register:a,unregister:i}},cu=B.each,st=Ce.DOM,tb=function(e,t){var n,r,a,i=t&&t.schema||Gn({}),o=function(l,c){c.classes.length&&st.addClass(l,c.classes.join(" ")),st.setAttribs(l,c.attrs)},u=function(l){r=typeof l=="string"?{name:l,classes:[],attrs:{}}:l;var c=st.create(r.name);return o(c,r),c},f=function(l,c){var v=typeof l!="string"?l.nodeName.toLowerCase():l,d=i.getElementRule(v),m=d&&d.parentsRequired;return m&&m.length?c&&B.inArray(m,c)!==-1?c:m[0]:!1},s=function(l,c,v){var d,m,p=c.length>0&&c[0],g=p&&p.name,y=f(l,g);if(y)g===y?(m=c[0],c=c.slice(1)):m=y;else if(p)m=c[0],c=c.slice(1);else if(!v)return l;return m&&(d=u(m),d.appendChild(l)),v&&(d||(d=st.create("div"),d.appendChild(l)),B.each(v,function(b){var w=u(b);d.insertBefore(w,l)})),s(d,c,m&&m.siblings)};return e&&e.length?(r=e[0],n=u(r),a=st.create("div"),a.appendChild(s(n,e.slice(1),r.siblings)),a):""},oP=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=B.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(r,a,i,o,u){switch(a){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":B.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(n.attrs[i]=i);break}if(o==="["){var f=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(n.attrs[f[1]]=f[2])}return""})),n.name=t||"div",n},uP=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),B.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=B.map(t.split(/(?:~\+|~|\+)/),oP),r=n.pop();return n.length&&(r.siblings=n),r}).reverse())},fP=function(e,t){var n,r,a="",i,o=a1(e);if(o==="")return"";var u=function(c){return c.replace(/%(\w+)/g,"")};if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var f=Me(t,"preview");if(Yi(f,!1))return"";o=f.getOr(o)}n=t.block||t.inline||"span";var s=uP(t.selector);s.length?(s[0].name||(s[0].name=n),n=t.selector,r=tb(s,e)):r=tb([n],e);var l=st.select(n,r)[0]||r.firstChild;return cu(t.styles,function(c,v){var d=u(c);d&&st.setStyle(l,v,d)}),cu(t.attributes,function(c,v){var d=u(c);d&&st.setAttrib(l,v,d)}),cu(t.classes,function(c){var v=u(c);st.hasClass(l,v)||st.addClass(l,v)}),e.fire("PreviewFormats"),st.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=st.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,cu(o.split(" "),function(c){var v=st.getStyle(l,c,!0);if(!(c==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)&&(v=st.getStyle(e.getBody(),c,!0),st.toHex(v).toLowerCase()==="#ffffff"))&&!(c==="color"&&st.toHex(v).toLowerCase()==="#000000")){if(c==="font-size"&&/em|%$/.test(v)){if(i===0)return;var d=parseFloat(v)/(/%$/.test(v)?100:1);v=d*i+"px"}c==="border"&&v&&(a+="padding:0 2px;"),a+=c+":"+v+";"}}),e.fire("AfterPreviewFormats"),st.remove(r),a},sP=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},nb=function(e){var t=iP(e),n=ft(null);return sP(e),iB(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(r,a,i){QD(e,r,a,i)},remove:function(r,a,i,o){ZD(e,r,a,i,o)},toggle:function(r,a,i){JD(e,r,a,i)},match:function(r,a,i,o){return jD(e,r,a,i,o)},closest:function(r){return YD(e,r)},matchAll:function(r,a){return KD(e,r,a)},matchNode:function(r,a,i,o){return GD(e,r,a,i,o)},canApply:function(r){return XD(e,r)},formatChanged:function(r,a,i,o){return e_(e,n,r,a,i,o)},getCssText:K(fP,e)}},rb=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},lP=function(e,t,n){var r=ft(!1),a=function(f){au(t,!1,n),t.add({},f)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(f){var s=f.command;rb(s)||(xh(t,n),t.beforeChange())}),e.on("ExecCommand",function(f){var s=f.command;rb(s)||a(f)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",function(f){var s=f.keyCode;f.isDefaultPrevented()||((s>=33&&s<=36||s>=37&&s<=40||s===45||f.ctrlKey)&&(a(),e.nodeChanged()),(s===46||s===8)&&e.nodeChanged(),r.get()&&t.typing&&ru(Hl(e),t.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(f){var s=f.keyCode;if(!f.isDefaultPrevented()){if(s>=33&&s<=36||s>=37&&s<=40||s===45){t.typing&&a(f);return}var l=f.ctrlKey&&!f.altKey||f.metaKey;(s<16||s>20)&&s!==224&&s!==91&&!t.typing&&!l&&(t.beforeChange(),au(t,!0,n),t.add({},f),r.set(!0))}}),e.on("mousedown",function(f){t.typing&&a(f)});var i=function(f){return f.inputType==="insertReplacementText"},o=function(f){return f.inputType==="insertText"&&f.data===null},u=function(f){return f.inputType==="insertFromPaste"||f.inputType==="insertFromDrop"};e.on("input",function(f){f.inputType&&(i(f)||o(f)||u(f))&&a(f)}),e.on("AddUndo Undo Redo ClearUndos",function(f){f.isDefaultPrevented()||e.nodeChanged()})},cP=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},ab=function(e){var t=ma(),n=ft(0),r=ft(0),a={data:[],typing:!1,beforeChange:function(){ID(e,n,t)},add:function(i,o){return LD(e,a,r,n,t,i,o)},undo:function(){return $D(e,a,n,r)},redo:function(){return FD(e,r,a.data)},clear:function(){MD(e,a,r)},reset:function(){UD(e,a)},hasUndo:function(){return zD(e,a,r)},hasRedo:function(){return HD(e,a,r)},transact:function(i){return VD(e,a,n,i)},ignore:function(i){qD(e,n,i)},extra:function(i,o){WD(e,a,r,i,o)}};return In(e)||lP(e,a,n),cP(e),a},vP=[9,27,te.HOME,te.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,te.DOWN,te.UP,te.LEFT,te.RIGHT].concat(ue.browser.isFirefox()?[224]:[]),ib="data-mce-placeholder",ob=function(e){return e.type==="keydown"||e.type==="keyup"},ub=function(e){var t=e.keyCode;return t===te.BACKSPACE||t===te.DELETE},dP=function(e){if(ob(e)){var t=e.keyCode;return!ub(e)&&(te.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Xe(vP,t))}else return!1},mP=function(e){return ob(e)&&!(ub(e)||e.type==="keyup"&&e.keyCode===229)},pP=function(e,t,n){if(qe(k.fromDom(t),!1)){var r=n==="",a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:r?!e.isBlock(a):n===a.nodeName.toLowerCase():!0}else return!1},gP=function(e){var t=e.dom,n=it(e),r=e1(e),a=function(i,o){if(!dP(i)){var u=e.getBody(),f=mP(i)?!1:pP(t,u,n),s=t.getAttrib(u,ib)!=="";(s!==f||o)&&(t.setAttrib(u,ib,f?r:null),t.setAttrib(u,"aria-placeholder",f?r:null),Hx(e,f),e.on(f?"keydown":"keyup",a),e.off(f?"keyup":"keydown",a))}};r&&e.on("init",function(i){a(i,!0),e.on("change SetContent ExecCommand",a),e.on("paste",function(o){return nt.setEditorTimeout(e,function(){return a(o)})})})},hP=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,bP=function(e){return hP.test(e)},Ir=function(e,t){return Qr(k.fromDom(t),Zk(e))},yP=function(e){return Ce.DOM.getStyle(e,"direction",!0)==="rtl"||bP(e.textContent)},CP=function(e,t,n){return ve(Ce.DOM.getParents(n.container(),"*",t),e)},lr=function(e,t,n){var r=CP(e,t,n);return h.from(r[r.length-1])},wP=function(e,t,n){var r=ar(t,e),a=ar(n,e);return r&&r===a},EP=function(e){return Af(e)||Tf(e)},Pt=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?oa(n)?Q(n.nextSibling)?R(n.nextSibling,0):R.after(n):Af(t)?R(n,r+1):t:oa(n)?Q(n.previousSibling)?R(n.previousSibling,n.previousSibling.data.length):R.before(n):Tf(t)?R(n,r-1):t},fb=K(Pt,!0),sb=K(Pt,!1),SP=function(e){return function(t){return Se(e,k.fromDom(t.dom.parentNode))}},kP=function(e){return cd(e)||ei(e)},vu=function(e,t){return Un(e,t)?Zi(t,kP,SP(e)):h.none()},xP=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},lb=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),xP(e))},NP=function(e,t,n){return ht(pt(n),bn(n),function(r,a){var i=Pt(!0,r),o=Pt(!1,a),u=Pt(!1,t);return e?tn(n,u).exists(function(f){return f.isEqual(o)&&t.isEqual(i)}):hn(n,u).exists(function(f){return f.isEqual(i)&&t.isEqual(o)})}).getOr(!0)},AP=function(e,t){return{block:e,position:t}},TP=function(e,t){return{from:e,to:t}},nc=function(e,t){var n=k.fromDom(e),r=k.fromDom(t.container());return vu(n,r).map(function(a){return AP(a,t)})},RP=function(e){return Se(e.from.block,e.to.block)===!1},BP=function(e){return Gt(e.from.block).bind(function(t){return Gt(e.to.block).filter(function(n){return Se(t,n)})}).isSome()},DP=function(e){return Ae(e.from.block.dom)===!1&&Ae(e.to.block.dom)===!1},_P=function(e,t,n){return _e(n.position.getNode())&&qe(n.block)===!1?Ea(!1,n.block.dom).bind(function(r){return r.isEqual(n.position)?_t(t,e,r).bind(function(a){return nc(e,a)}):h.some(n)}).getOr(n):n},OP=function(e,t,n){var r=nc(e,R.fromRangeStart(n)),a=r.bind(function(i){return _t(t,e,i.position).bind(function(o){return nc(e,o).map(function(u){return _P(e,t,u)})})});return ht(r,a,TP).filter(function(i){return RP(i)&&BP(i)&&DP(i)})},PP=function(e,t,n){return n.collapsed?OP(e,t,n):h.none()},IP=function(e){var t=Mt(e);return Mi(t,cn).fold(G(t),function(n){return t.slice(0,n)})},cb=function(e){var t=IP(e);return X(t,Qe),t},vb=function(e,t){var n=Pn(t,e);return Ye(n.reverse(),function(r){return qe(r)}).each(Qe)},LP=function(e){return ve(Pv(e),function(t){return!qe(t)}).length===0},$P=function(e,t,n,r){if(qe(n))return _r(n),pt(n.dom);LP(r)&&qe(t)&&Xt(r,k.fromTag("br"));var a=hn(n.dom,R.before(r.dom));return X(cb(t),function(i){Xt(r,i)}),vb(e,t),a},FP=function(e,t,n){if(qe(n))return Qe(n),qe(t)&&_r(t),pt(t.dom);var r=bn(n.dom);return X(cb(t),function(a){et(n,a)}),vb(e,t),r},MP=function(e,t){var n=Pn(t,e);return h.from(n[n.length-1])},UP=function(e,t){return Un(t,e)?MP(t,e):h.none()},db=function(e,t){Ea(e,t.dom).map(function(n){return n.getNode()}).map(k.fromDom).filter(ra).each(Qe)},mb=function(e,t,n){return db(!0,t),db(!1,n),UP(t,n).fold(K(FP,e,t,n),K($P,e,t,n))},pb=function(e,t,n,r){return t?mb(e,r,n):mb(e,n,r)},du=function(e,t){var n=k.fromDom(e.getBody()),r=PP(n.dom,t,e.selection.getRng()).bind(function(a){return pb(n,t,a.from.block,a.to.block)});return r.each(function(a){e.selection.setRng(a.toRange())}),r.isSome()},zP=function(e,t){var n=t.getRng();return ht(vu(e,k.fromDom(n.startContainer)),vu(e,k.fromDom(n.endContainer)),function(r,a){return Se(r,a)===!1?(n.deleteContents(),pb(e,!0,r,a).each(function(i){t.setRng(i.toRange())}),!0):!1}).getOr(!1)},gb=function(e,t){var n=k.fromDom(t),r=K(Se,e);return Ja(n,to,r).isSome()},HP=function(e,t){return gb(e,t.startContainer)||gb(e,t.endContainer)},VP=function(e,t){var n=hn(e.dom,R.fromRangeStart(t)).isNone(),r=tn(e.dom,R.fromRangeEnd(t)).isNone();return!HP(e,t)&&n&&r},qP=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},WP=function(e){var t=k.fromDom(e.getBody()),n=e.selection.getRng();return VP(t,n)?qP(e):zP(t,e.selection)},mu=function(e,t){return e.selection.isCollapsed()?!1:WP(e)},jP=sn,KP=Ae,Ln=function(e,t,n,r,a){return h.from(t._selectionOverrides.showCaret(e,n,r,a))},GP=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Ia=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?h.none():h.some(GP(t))},hb=function(e,t,n){var r=bs(1,e.getBody(),t),a=R.fromRangeStart(r),i=a.getNode();if(di(i))return Ln(1,e,i,!a.isAtEnd(),!1);var o=a.getNode(!0);if(di(o))return Ln(1,e,o,!1,!1);var u=e.dom.getParent(a.getNode(),function(f){return KP(f)||jP(f)});return di(u)?Ln(1,e,u,!1,n):h.none()},rc=function(e,t,n){return t.collapsed?hb(e,t,n).getOr(t):t},XP=function(e){return ur(e)||Ba(e)},YP=function(e){return fr(e)||Da(e)},QP=function(e,t){Q(t)&&t.data.length===0&&e.remove(t)},bb=function(e,t,n,r,a,i){return Ln(r,e,i.getNode(!a),a,!0).each(function(o){if(t.collapsed){var u=t.cloneRange();a?u.setEnd(o.startContainer,o.startOffset):u.setStart(o.endContainer,o.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(o)}),QP(e.dom,n),!0},ZP=function(e,t){var n=e.selection.getRng();if(!Q(n.commonAncestorContainer))return!1;var r=t?je.Forwards:je.Backwards,a=en(e.getBody()),i=K(ys,t?a.next:a.prev),o=t?XP:YP,u=gi(r,e.getBody(),n),f=Pt(t,i(u));if(!f||!Bo(u,f))return!1;if(o(f))return bb(e,n,u.getNode(),r,t,f);var s=i(f);return s&&o(s)&&Bo(f,s)?bb(e,n,u.getNode(),r,t,s):!1},pu=function(e,t){return ZP(e,t)},JP=function(e){return to(k.fromDom(e))||ei(k.fromDom(e))},xt=Vn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),eI=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return re(n)&&n.getAttribute("data-mce-caret")===r},tI=function(e,t,n,r){var a=function(i){return kf(k.fromDom(i))&&!pn(n,r,e)};return Zm(!t,n).fold(function(){return Zm(t,r).fold(xe,a)},a)},yb=function(e,t,n,r){var a=r.getNode(t===!1);return vu(k.fromDom(e),k.fromDom(n.getNode())).map(function(i){return qe(i)?xt.remove(i.dom):xt.moveToElement(a)}).orThunk(function(){return h.some(xt.moveToElement(a))})},Cb=function(e,t,n){return _t(t,e,n).bind(function(r){return JP(r.getNode())||tI(e,t,n,r)?h.none():t&&Ae(r.getNode())||t===!1&&Ae(r.getNode(!0))?yb(e,t,n,r):t&&fr(n)||t===!1&&ur(n)?h.some(xt.moveToPosition(r)):h.none()})},nI=function(e,t){return e&&Ae(t.nextSibling)?h.some(xt.moveToElement(t.nextSibling)):e===!1&&Ae(t.previousSibling)?h.some(xt.moveToElement(t.previousSibling)):h.none()},rI=function(e,t,n){return n.fold(function(r){return h.some(xt.remove(r))},function(r){return h.some(xt.moveToElement(r))},function(r){return pn(t,r,e)?h.none():h.some(xt.moveToPosition(r))})},aI=function(e,t,n){return eI(t,n)?nI(t,n.getNode(t===!1)).fold(function(){return Cb(e,t,n)},h.some):Cb(e,t,n).bind(function(r){return rI(e,n,r)})},iI=function(e,t,n){var r=bs(t?1:-1,e,n),a=R.fromRangeStart(r),i=k.fromDom(e);return t===!1&&fr(a)?h.some(xt.remove(a.getNode(!0))):t&&ur(a)?h.some(xt.remove(a.getNode())):t===!1&&ur(a)&&fl(i,a)?eT(i,a).map(function(o){return xt.remove(o.getNode())}):t&&fr(a)&&ul(i,a)?tT(i,a).map(function(o){return xt.remove(o.getNode())}):aI(e,t,a)},oI=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Or(e,t,k.fromDom(n)),!0}},uI=function(e,t){return function(n){var r=t?R.before(n):R.after(n);return e.selection.setRng(r.toRange()),!0}},fI=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},wb=function(e,t){return h.from(Ta(e.getBody(),t))},sI=function(e,t){var n=e.selection.getNode();return wb(e,n).filter(Ae).fold(function(){return iI(e.getBody(),t,e.selection.getRng()).exists(function(r){return r.fold(oI(e,t),uI(e,t),fI(e))})},Fe)},lI=function(e){X(bt(e,".mce-offscreen-selection"),Qe)},cI=function(e,t){var n=e.selection.getNode();if(Ae(n)&&!Xi(n)){var r=wb(e,n.parentNode).filter(Ae);return r.fold(function(){return lI(k.fromDom(e.getBody())),Or(e,t,k.fromDom(e.selection.getNode())),lb(e),!0},Fe)}return!1},Eb=function(e){var t=e.dom,n=e.selection,r=Ta(e.getBody(),n.getNode());if(sn(r)&&t.isBlock(r)&&t.isEmpty(r)){var a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),n.setRng(R.before(a).toRange())}return!0},gu=function(e,t){return e.selection.isCollapsed()?sI(e,t):cI(e,t)},vI=function(e,t){var n=R.fromRangeStart(e.selection.getRng());return _t(t,e.getBody(),n).filter(function(r){return t?qA(r):WA(r)}).bind(function(r){return h.from(hs(t?0:-1,r))}).exists(function(r){return e.selection.select(r),!0})},hu=function(e,t){return e.selection.isCollapsed()?vI(e,t):!1},La=Q,Sb=function(e){return La(e)&&e.data[0]===Ze},kb=function(e){return La(e)&&e.data[e.data.length-1]===Ze},xb=function(e){return e.ownerDocument.createTextNode(Ze)},dI=function(e){if(La(e.previousSibling))return kb(e.previousSibling)||e.previousSibling.appendData(Ze),e.previousSibling;if(La(e))return Sb(e)||e.insertData(0,Ze),e;var t=xb(e);return e.parentNode.insertBefore(t,e),t},mI=function(e){if(La(e.nextSibling))return Sb(e.nextSibling)||e.nextSibling.insertData(0,Ze),e.nextSibling;if(La(e))return kb(e)||e.appendData(Ze),e;var t=xb(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},bu=function(e,t){return e?dI(t):mI(t)},pI=K(bu,!0),gI=K(bu,!1),Nb=function(e,t){return Q(e.container())?bu(t,e.container()):bu(t,e.getNode())},Ab=function(e,t){var n=t.get();return n&&e.container()===n&&oa(n)},ac=function(e,t){return t.fold(function(n){Ar(e.get());var r=pI(n);return e.set(r),h.some(R(r,r.length-1))},function(n){return pt(n).map(function(r){if(Ab(r,e))return R(e.get(),1);Ar(e.get());var a=Nb(r,!0);return e.set(a),R(a,1)})},function(n){return bn(n).map(function(r){if(Ab(r,e))return R(e.get(),e.get().length-1);Ar(e.get());var a=Nb(r,!1);return e.set(a),R(a,a.length-1)})},function(n){Ar(e.get());var r=gI(n);return e.set(r),h.some(R(r,1))})},Tb=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return h.none()},lt=Vn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Rb=function(e,t){var n=ar(t,e);return n||e},hI=function(e,t,n){var r=fb(n),a=Rb(t,r.container());return lr(e,a,r).fold(function(){return tn(a,r).bind(K(lr,e,a)).map(function(i){return lt.before(i)})},h.none)},bI=function(e,t){return Br(e,t)===null},Bb=function(e,t,n){return lr(e,t,n).filter(K(bI,t))},yI=function(e,t,n){var r=sb(n);return Bb(e,t,r).bind(function(a){var i=hn(a,r);return i.isNone()?h.some(lt.start(a)):h.none()})},CI=function(e,t,n){var r=fb(n);return Bb(e,t,r).bind(function(a){var i=tn(a,r);return i.isNone()?h.some(lt.end(a)):h.none()})},wI=function(e,t,n){var r=sb(n),a=Rb(t,r.container());return lr(e,a,r).fold(function(){return hn(a,r).bind(K(lr,e,a)).map(function(i){return lt.after(i)})},h.none)},Db=function(e){return yP(ic(e))===!1},En=function(e,t,n){var r=Tb([hI,yI,CI,wI],[e,t,n]);return r.filter(Db)},ic=function(e){return e.fold(wt,wt,wt,wt)},_b=function(e){return e.fold(G("before"),G("start"),G("end"),G("after"))},yu=function(e){return e.fold(lt.before,lt.before,lt.after,lt.after)},oc=function(e){return e.fold(lt.start,lt.start,lt.end,lt.end)},EI=function(e,t){return _b(e)===_b(t)&&ic(e)===ic(t)},SI=function(e,t,n,r,a,i){return ht(lr(t,n,r),lr(t,n,a),function(o,u){return o!==u&&wP(n,o,u)?lt.after(e?o:u):i}).getOr(i)},kI=function(e,t){return e.fold(Fe,function(n){return!EI(n,t)})},xI=function(e,t,n,r,a){var i=Pt(e,a),o=_t(e,n,i).map(K(Pt,e)),u=o.fold(function(){return r.map(yu)},function(f){return En(t,n,f).map(K(SI,e,t,n,i,f)).filter(K(kI,r))});return u.filter(Db)},NI=function(e,t){return e?t.fold(mr(h.some,lt.start),h.none,mr(h.some,lt.after),h.none):t.fold(h.none,mr(h.some,lt.before),h.none,mr(h.some,lt.end))},uc=function(e,t,n,r){var a=Pt(e,r),i=En(t,n,a);return En(t,n,a).bind(K(NI,e)).orThunk(function(){return xI(e,t,n,i,r)})};K(uc,!1),K(uc,!0);var AI=function(e){return Re(e.selection.getSel().modify)},Ob=function(e,t,n){var r=e?1:-1;return t.setRng(R(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},TI=function(e,t){var n=t.selection.getRng(),r=e?R.fromRangeEnd(n):R.fromRangeStart(n);return AI(t)?e&&Af(r)?Ob(!0,t.selection,r):!e&&Tf(r)?Ob(!1,t.selection,r):!1:!1},Sn;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Sn||(Sn={}));var Cu=function(e,t){return e===je.Backwards?Ui(t):t},RI=function(e,t,n){return e===je.Forwards?t.next(n):t.prev(n)},BI=function(e,t,n,r){return _e(r.getNode(t===je.Forwards))?Sn.Br:pn(n,r)===!1?Sn.Block:Sn.Wrap},Pb=function(e,t,n,r){for(var a=en(n),i=r,o=[];i;){var u=RI(t,a,i);if(!u)break;if(_e(u.getNode(!1)))return t===je.Forwards?{positions:Cu(t,o).concat([u]),breakType:Sn.Br,breakAt:h.some(u)}:{positions:Cu(t,o),breakType:Sn.Br,breakAt:h.some(u)};if(!u.isVisible()){i=u;continue}if(e(i,u)){var f=BI(n,t,i,u);return{positions:Cu(t,o),breakType:f,breakAt:h.some(u)}}o.push(u),i=u}return{positions:Cu(t,o),breakType:Sn.Eol,breakAt:h.none()}},Ib=function(e,t,n,r){return t(n,r).breakAt.map(function(a){var i=t(n,a).positions;return e===je.Backwards?i.concat(a):[a].concat(i)}).getOr([])},fc=function(e,t){return jt(e,function(n,r){return n.fold(function(){return h.some(r)},function(a){return ht(At(a.getClientRects()),At(r.getClientRects()),function(i,o){var u=Math.abs(t-i.left),f=Math.abs(t-o.left);return f<=u?r:a}).or(n)})},h.none())},Lb=function(e,t){return At(t.getClientRects()).bind(function(n){return fc(e,n.left)})},Ti=K(Pb,R.isAbove,-1),Ri=K(Pb,R.isBelow,1),DI=K(Ib,-1,Ti),_I=K(Ib,1,Ri),OI=function(e,t){return Ti(e,t).breakAt.isNone()},PI=function(e,t){return Ri(e,t).breakAt.isNone()},II=function(e){return pt(e).map(function(t){return[t].concat(Ri(e,t).positions)}).getOr([])},LI=function(e){return bn(e).map(function(t){return Ti(e,t).positions.concat(t)}).getOr([])},$I=function(e){var t=function(r){return Te(r,function(a){var i=xr(a);return i.node=e,i})};if(re(e))return t(e.getClientRects());if(Q(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},sc=function(e){return Kr(e,$I)},Lr;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Lr||(Lr={}));var FI=function(e,t,n,r){for(;r=Ca(r,e,oo,t);)if(n(r))return},$b=function(e,t,n,r,a,i){var o=0,u=[],f=function(c){var v=sc([c]);e===-1&&(v=v.reverse());for(var d=0;d<v.length;d++){var m=v[d];if(!n(m,s)){if(u.length>0&&t(m,Mn(u))&&o++,m.line=o,a(m))return!0;u.push(m)}}},s=Mn(i.getClientRects());if(!s)return u;var l=i.getNode();return f(l),FI(e,r,f,l),u},MI=function(e,t){return t.line>e},UI=function(e,t){return t.line===e},zI=K($b,Lr.Up,ha,ba),HI=K($b,Lr.Down,ba,ha),VI=function(e,t,n,r){var a=en(t),i,o,u,f,s=[],l=0,c=function(p){return Mn(p.getClientRects())};e===1?(i=a.next,o=ba,u=ha,f=R.after(r)):(i=a.prev,o=ha,u=ba,f=R.before(r));var v=c(f);do if(f.isVisible()){var d=c(f);if(!u(d,v)){s.length>0&&o(d,Mn(s))&&l++;var m=xr(d);if(m.position=f,m.line=l,n(m))return s;s.push(m)}}while(f=i(f));return s},Fb=function(e){return function(t){return MI(e,t)}},lc=function(e){return function(t){return UI(e,t)}},qI=Ae,Mb=Ca,cc=function(e,t){return Math.abs(e.left-t)},vc=function(e,t){return Math.abs(e.right-t)},Ub=function(e,t){return e>=t.left&&e<=t.right},WI=function(e,t){return e>=t.top&&e<=t.bottom},jI=function(e){return Xr(e,"node")},wu=function(e,t,n){return n===void 0&&(n=Fe),zi(e,function(r,a){if(Ub(t,a))return n(a)?a:r;if(Ub(t,r))return n(r)?r:a;var i=Math.min(cc(r,t),vc(r,t)),o=Math.min(cc(a,t),vc(a,t));return o===i&&jI(a)&&qI(a.node)||o<i?a:r})},zb=function(e,t,n,r,a){var i=Mb(r,e,oo,t,!a);do if(!i||n(i))return;while(i=Mb(i,e,oo,t))},KI=function(e,t,n){n===void 0&&(n=!0);var r=[],a=function(i,o){var u=ve(sc([o]),function(f){return!i(f,t)});return r=r.concat(u),u.length===0};return r.push(t),zb(Lr.Up,e,K(a,ha),t.node,n),zb(Lr.Down,e,K(a,ba),t.node,n),r},GI=function(e){return ve(un(e.getElementsByTagName("*")),Tr)},XI=function(e,t){return{node:e.node,before:cc(e,t)<vc(e,t)}},YI=function(e,t,n){var r=sc(GI(e)),a=ve(r,K(WI,n)),i=function(f){return!ea(f.node)&&!zt(f.node)},o=wu(a,t,i);if(o){var u=i(o);if(o=wu(KI(e,o,u),t,i),o&&Tr(o.node))return XI(o,t)}return null},$n=function(e,t){e.selection.setRng(t),Ei(e,e.selection.getRng())},dc=function(e,t,n){return h.some(rc(e,t,n))},Hb=function(e,t,n,r,a,i){var o=t===je.Forwards,u=en(e.getBody()),f=K(ys,o?u.next:u.prev),s=o?r:a;if(!n.collapsed){var l=ko(n);if(i(l))return Ln(t,e,l,t===je.Backwards,!1)}var c=gi(t,e.getBody(),n);if(s(c))return Ia(e,c.getNode(!o));var v=Pt(o,f(c)),d=dd(n);if(!v)return d?h.some(n):h.none();if(s(v))return Ln(t,e,v.getNode(!o),o,!1);var m=f(v);return m&&s(m)&&Bo(v,m)?Ln(t,e,m.getNode(!o),o,!1):d?dc(e,v.toRange(),!1):h.none()},Vb=function(e,t,n,r,a,i){var o=gi(t,e.getBody(),n),u=Mn(o.getClientRects()),f=t===Lr.Down;if(!u)return h.none();var s=f?HI:zI,l=s(e.getBody(),Fb(1),o),c=ve(l,lc(1)),v=u.left,d=wu(c,v);if(d&&i(d.node)){var m=Math.abs(v-d.left),p=Math.abs(v-d.right);return Ln(t,e,d.node,m<p,!1)}var g;if(r(o)?g=o.getNode():a(o)?g=o.getNode(!0):g=ko(n),g){var y=VI(t,e.getBody(),Fb(1),g),b=wu(ve(y,lc(1)),v);if(b||(b=Mn(ve(y,lc(0))),b))return dc(e,b.position.toRange(),!1)}return c.length===0?mc(e,f).filter(f?a:r).map(function(w){return rc(e,w.toRange(),!1)}):h.none()},mc=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var a=R.fromRangeEnd(n),i=Ri(r,a);return pr(i.positions)}else{var a=R.fromRangeStart(n),i=Ti(r,a);return At(i.positions)}},qb=function(e,t,n){return mc(e,t).filter(n).exists(function(r){return e.selection.setRng(r.toRange()),!0})},Eu=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Wb=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},jb=function(e,t,n){return ac(t,n).map(function(r){return Eu(e,r),n})},QI=function(e,t,n){var r=e.getBody(),a=R.fromRangeStart(e.selection.getRng()),i=K(Ir,e),o=uc(n,i,r,a);return o.bind(function(u){return jb(e,t,u)})},ZI=function(e,t,n){var r=Te(bt(k.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(o){return o.dom}),a=ve(r,e),i=ve(n,e);X(Kc(a,i),K(Wb,!1)),X(Kc(i,a),K(Wb,!0))},JI=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=R.fromRangeStart(e.selection.getRng());R.isTextPosition(n)&&EP(n)===!1&&(Eu(e,B1(t.get(),n)),t.set(null))}},eL=function(e,t,n,r){if(t.selection.isCollapsed()){var a=ve(r,e);X(a,function(i){var o=R.fromRangeStart(t.selection.getRng());En(e,t.getBody(),o).bind(function(u){return jb(t,n,u)})})}},Kb=function(e,t,n){return vi(e)?QI(e,t,n).isSome():!1},Gb=function(e,t,n){return vi(t)?TI(e,t):!1},tL=function(e){var t=ft(null),n=K(Ir,e);return e.on("NodeChange",function(r){vi(e)&&!(ue.browser.isIE()&&r.initial)&&(ZI(n,e.dom,r.parents),JI(e,t),eL(n,e,t,r.parents))}),t},nL=K(Gb,!0),rL=K(Gb,!1),Su=function(e,t,n){if(vi(e)){var r=mc(e,t).getOrThunk(function(){var a=e.selection.getRng();return t?R.fromRangeEnd(a):R.fromRangeStart(a)});return En(K(Ir,e),e.getBody(),r).exists(function(a){var i=yu(a);return ac(n,i).exists(function(o){return Eu(e,o),!0})})}else return!1},aL=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},iL=function(e){return ht(pt(e),bn(e),function(t,n){var r=Pt(!0,t),a=Pt(!1,n);return tn(e,r).forall(function(i){return i.isEqual(a)})}).getOr(!0)},Xb=function(e,t){return function(n){return ac(t,n).exists(function(r){return Eu(e,r),!0})}},Yb=function(e,t,n,r){var a=e.getBody(),i=K(Ir,e);e.undoManager.ignore(function(){e.selection.setRng(aL(n,r)),e.execCommand("Delete"),En(i,a,R.fromRangeStart(e.selection.getRng())).map(oc).map(Xb(e,t))}),e.nodeChanged()},oL=function(e,t){var n=ar(t,e);return n||e},uL=function(e,t,n,r){var a=oL(e.getBody(),r.container()),i=K(Ir,e),o=En(i,a,r);return o.bind(function(u){return n?u.fold(G(h.some(oc(u))),h.none,G(h.some(yu(u))),h.none):u.fold(h.none,G(h.some(yu(u))),h.none,G(h.some(oc(u))))}).map(Xb(e,t)).getOrThunk(function(){var u=_o(n,a,r),f=u.bind(function(s){return En(i,a,s)});return ht(o,f,function(){return lr(i,a,r).exists(function(s){return iL(s)?(Or(e,n,k.fromDom(s)),!0):!1})}).orThunk(function(){return f.bind(function(s){return u.map(function(l){return n?Yb(e,t,r,l):Yb(e,t,l,r),!0})})}).getOr(!1)})},ku=function(e,t,n){if(e.selection.isCollapsed()&&vi(e)){var r=R.fromRangeStart(e.selection.getRng());return uL(e,t,n,r)}return!1},fL=function(e,t){var n=Pn(t,e);return Mi(n,cn).fold(G(n),function(r){return n.slice(0,r)})},sL=function(e){return $v(e)===1},lL=function(e,t,n,r){var a=K(uB,t),i=Te(ve(r,a),function(u){return u.dom});if(i.length===0)Or(t,e,n);else{var o=oB(n.dom,i);t.selection.setRng(o.toRange())}},cL=function(e,t){var n=k.fromDom(e.getBody()),r=k.fromDom(e.selection.getStart()),a=ve(fL(n,r),sL);return pr(a).exists(function(i){var o=R.fromRangeStart(e.selection.getRng());return NP(t,o,i.dom)&&!fB(i)?(lL(t,e,i,a),!0):!1})},xu=function(e,t){return e.selection.isCollapsed()?cL(e,t):!1},pc=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),Or(e,t,k.fromDom(n)),!0},vL=function(e,t){var n=t?Ba:Da,r=t?je.Forwards:je.Backwards,a=gi(r,e.getBody(),e.selection.getRng());return n(a)?pc(e,t,a.getNode(!t)):h.from(Pt(t,a)).filter(function(i){return n(i)&&Bo(a,i)}).exists(function(i){return pc(e,t,i.getNode(!t))})},dL=function(e,t){var n=e.selection.getNode();return zt(n)?pc(e,t,n):!1},Nu=function(e,t){return e.selection.isCollapsed()?vL(e,t):dL(e,t)},mL=function(e){return Zi(e,function(t){return sn(t.dom)||Ae(t.dom)}).exists(function(t){return sn(t.dom)})},gc=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Qb=function(e,t){var n=e||Kw(t)?"margin":"padding",r=Bn(t,"direction")==="rtl"?"-right":"-left";return n+r},pL=function(e,t,n,r,a,i){var o=Qb(n,k.fromDom(i));if(t==="outdent"){var u=Math.max(0,gc(i.style[o])-r);e.setStyle(i,o,u?u+a:"")}else{var u=gc(i.style[o])+r+a;e.setStyle(i,o,u)}},gL=function(e,t){return Ha(t,function(n){var r=Qb(Lm(e),n),a=bf(n,r).map(gc).getOr(0),i=e.dom.getContentEditable(n.dom);return i!=="false"&&a>0})},Zb=function(e){var t=ey(e);return!e.mode.isReadOnly()&&(t.length>1||gL(e,t))},Jb=function(e){return xf(e)||ei(e)},hL=function(e){return Gt(e).exists(Jb)},ey=function(e){return ve(ZS(e.selection.getSelectedBlocks()),function(t){return!Jb(t)&&!hL(t)&&mL(t)})},ty=function(e,t){var n=e.dom,r=e.selection,a=e.formatter,i=Xk(e),o=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),f=Lm(e),s=it(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&s===""&&!n.getParent(r.getNode(),n.isBlock)&&a.apply("div"),X(ey(e),function(l){pL(n,t,f,u,o,l.dom)})},ny=function(e,t){if(e.selection.isCollapsed()&&Zb(e)){var n=e.dom,r=e.selection.getRng(),a=R.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(i!==null&&ol(k.fromDom(i),a))return ty(e,"outdent"),!0}return!1},ry=function(e,t){e.getDoc().execCommand(t,!1,null)},bL=function(e,t){if(!ny(e)){if(gu(e,!1))return;if(pu(e,!1))return;if(ku(e,t,!1))return;if(du(e,!1))return;if(Zo(e))return;if(hu(e,!1))return;if(Nu(e,!1))return;if(mu(e))return;if(xu(e,!1))return;ry(e,"Delete"),lb(e)}},yL=function(e,t){if(!gu(e,!0)){if(pu(e,!0))return;if(ku(e,t,!0))return;if(du(e,!0))return;if(Zo(e))return;if(hu(e,!0))return;if(Nu(e,!0))return;if(mu(e))return;if(xu(e,!0))return;ry(e,"ForwardDelete")}},CL=function(e,t){e.addCommand("delete",function(){bL(e,t)}),e.addCommand("forwardDelete",function(){yL(e,t)})},ay=5,wL=400,iy=function(e){return e.touches===void 0||e.touches.length!==1?h.none():h.some(e.touches[0])},EL=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>ay||r>ay},SL=function(e){var t=ma(),n=ft(!1),r=Xd(function(a){e.fire("longpress",ae(ae({},a),{type:"longpress"})),n.set(!0)},wL);e.on("touchstart",function(a){iy(a).each(function(i){r.cancel();var o={x:i.clientX,y:i.clientY,target:a.target};r.throttle(a),n.set(!1),t.set(o)})},!0),e.on("touchmove",function(a){r.cancel(),iy(a).each(function(i){t.on(function(o){EL(i,o)&&(t.clear(),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(a){r.cancel(),a.type!=="touchcancel"&&t.get().filter(function(i){return i.target.isEqualNode(a.target)}).each(function(){n.get()?a.preventDefault():e.fire("tap",ae(ae({},a),{type:"tap"}))})},!0)},hc=function(e,t){return de(e,t.nodeName)},kL=function(e,t){return Q(t)?!0:re(t)?!hc(e,t)&&!Ot(t):!1},xL=function(e,t,n){return vt(dg(k.fromDom(n),k.fromDom(t)),function(r){return hc(e,r.dom)})},NL=function(e,t){if(Q(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||hc(e,t.nextSibling)))return!0}return!1},AL=function(e){var t=e.dom,n=e.selection,r=e.schema,a=r.getBlockElements(),i=n.getStart(),o=e.getBody(),u,f,s,l=it(e);if(!(!i||!re(i)||!l)){var c=o.nodeName.toLowerCase();if(!(!r.isValidChild(c,l.toLowerCase())||xL(a,o,i))){var v=n.getRng(),d=v.startContainer,m=v.startOffset,p=v.endContainer,g=v.endOffset,y=Dr(e);for(i=o.firstChild;i;)if(kL(a,i)){if(NL(a,i)){f=i,i=i.nextSibling,t.remove(f);continue}u||(u=t.create(l,li(e)),i.parentNode.insertBefore(u,i),s=!0),f=i,i=i.nextSibling,u.appendChild(f)}else u=null,i=i.nextSibling;s&&y&&(v.setStart(d,m),v.setEnd(p,g),n.setRng(v),e.nodeChanged())}}},TL=function(e){it(e)&&e.on("NodeChange",K(AL,e))},RL=function(e){return eo(k.fromDom(e.getBody()),"*[data-mce-caret]").map(function(t){return t.dom}).getOrNull()},BL=function(e){e.selection.setRng(e.selection.getRng())},oy=function(e,t){t.hasAttribute("data-mce-caret")&&(Rf(t),BL(e),e.selection.scrollIntoView(t))},DL=function(e,t){var n=RL(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),oy(e,n);return}vd(n)&&(oy(e,n),e.undoManager.add())}},_L=function(e){e.on("keyup compositionstart",K(DL,e))},uy=Ae,OL=function(e,t,n){return Hb(t,e,n,ur,fr,uy)},PL=function(e,t,n){var r=function(i){return ur(i)||cg(i)},a=function(i){return fr(i)||vg(i)};return Vb(t,e,n,r,a,uy)},IL=function(e){var t=e.dom.create(it(e));return(!ue.ie||ue.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},fy=function(e,t,n){var r=en(e.getBody()),a=K(ys,t===1?r.next:r.prev);if(n.collapsed&&m1(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;var o=a(R.fromRangeStart(n));if(!o){var u=IL(e);t===1?e.$(i).after(u):e.$(i).before(u),e.selection.select(u,!0),e.selection.collapse()}}},LL=function(e,t){var n=t?je.Forwards:je.Backwards,r=e.selection.getRng();return OL(n,e,r).orThunk(function(){return fy(e,n,r),h.none()})},$L=function(e,t){var n=t?1:-1,r=e.selection.getRng();return PL(n,e,r).orThunk(function(){return fy(e,n,r),h.none()})},sy=function(e,t){return LL(e,t).exists(function(n){return $n(e,n),!0})},ly=function(e,t){return $L(e,t).exists(function(n){return $n(e,n),!0})},cy=function(e,t){var n=t?fr:ur;return qb(e,t,n)},FL=function(e){return Xe(["figcaption"],Ue(e))},vy=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},dy=function(e,t,n){n?et(e,t):Uv(e,t)},ML=function(e,t){var n=k.fromTag("br");return dy(e,n,t),vy(n)},UL=function(e,t,n,r){var a=k.fromTag(n),i=k.fromTag("br");return zn(a,r),et(a,i),dy(e,a,t),vy(i)},zL=function(e,t,n,r){return t===""?ML(e,r):UL(e,r,t,n)},HL=function(e,t){var n=K(Se,t);return Zi(k.fromDom(e.container()),cn,n).filter(FL)},VL=function(e,t,n){return t?PI(e.dom,n):OI(e.dom,n)},qL=function(e,t){var n=k.fromDom(e.getBody()),r=R.fromRangeStart(e.selection.getRng()),a=it(e),i=li(e);return HL(r,n).exists(function(){if(VL(n,t,r)){var o=zL(n,a,i,t);return e.selection.setRng(o),!0}else return!1})},my=function(e,t){return e.selection.isCollapsed()?qL(e,t):!1},WL=function(e){return Te(e,function(t){return ae({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:le},t)})},jL=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},KL=function(e,t){return Kr(WL(e),function(n){return jL(n,t)?[n]:[]})},ce=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},$a=function(e,t){return Ye(KL(e,t),function(n){return n.action()})},py=function(e,t){var n=t?je.Forwards:je.Backwards,r=e.selection.getRng();return Hb(e,n,r,Ba,Da,zt).exists(function(a){return $n(e,a),!0})},gy=function(e,t){var n=t?1:-1,r=e.selection.getRng();return Vb(e,n,r,Ba,Da,zt).exists(function(a){return $n(e,a),!0})},hy=function(e,t){var n=t?Da:Ba;return qb(e,t,n)},GL=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}},XL=function(e,t){return Kr(t,function(n){var r=GL(xr(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]})},YL=function(e,t,n){return jt(e,function(r,a){return r.fold(function(){return h.some(a)},function(i){var o=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n)),u=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return h.some(u<o?a:i)})},h.none())},by=function(e,t,n,r,a){var i=bt(k.fromDom(n),"td,th,caption").map(function(u){return u.dom}),o=ve(XL(e,i),function(u){return t(u,a)});return YL(o,r,a).map(function(u){return u.cell})},QL=function(e){return e.bottom},ZL=function(e){return e.top},JL=function(e,t){return e.y<t},e$=function(e,t){return e.y>t},t$=K(by,QL,JL),n$=K(by,ZL,e$),r$=function(e,t){return At(t.getClientRects()).bind(function(n){return t$(e,n.left,n.top)}).bind(function(n){return Lb(LI(n),t)})},a$=function(e,t){return pr(t.getClientRects()).bind(function(n){return n$(e,n.left,n.top)}).bind(function(n){return Lb(II(n),t)})},i$=function(e,t,n){return n.breakAt.exists(function(r){return e(t,r).breakAt.isSome()})},o$=function(e){return e.breakType===Sn.Wrap&&e.positions.length===0},u$=function(e){return e.breakType===Sn.Br&&e.positions.length===1},yy=function(e,t,n){var r=e(t,n);return o$(r)||!_e(n.getNode())&&u$(r)?!i$(e,t,r):r.breakAt.isNone()},f$=K(yy,Ti),s$=K(yy,Ri),l$=function(e,t,n){var r=R.fromRangeStart(t);return Ea(!e,n).exists(function(a){return a.isEqual(r)})},c$=function(e,t,n,r){var a=e.selection.getRng(),i=t?1:-1;return jm()&&l$(t,a,n)?(Ln(i,e,n,!t,!1).each(function(o){$n(e,o)}),!0):!1},v$=function(e,t,n){return r$(t,n).orThunk(function(){return At(n.getClientRects()).bind(function(r){return fc(DI(e,R.before(t)),r.left)})}).getOr(R.before(t))},d$=function(e,t,n){return a$(t,n).orThunk(function(){return At(n.getClientRects()).bind(function(r){return fc(_I(e,R.after(t)),r.left)})}).getOr(R.after(t))},Cy=function(e,t){var n=t.getNode(e);return re(n)&&n.nodeName==="TABLE"?h.some(n):h.none()},m$=function(e,t,n,r){var a=it(t);a?t.undoManager.transact(function(){var i=k.fromTag(a);zn(i,li(t)),et(i,k.fromTag("br")),e?Ga(k.fromDom(n),i):Xt(k.fromDom(n),i);var o=t.dom.createRng();o.setStart(i.dom,0),o.setEnd(i.dom,0),$n(t,o)}):$n(t,r.toRange())},wy=function(e,t,n){var r=Cy(!!t,n),a=t===!1;r.fold(function(){return $n(e,n.toRange())},function(i){return Ea(a,e.getBody()).filter(function(o){return o.isEqual(n)}).fold(function(){return $n(e,n.toRange())},function(o){return m$(t,e,i,n)})})},p$=function(e,t,n,r){var a=e.selection.getRng(),i=R.fromRangeStart(a),o=e.getBody();if(!t&&f$(r,i)){var u=v$(o,n,i);return wy(e,t,u),!0}else if(t&&s$(r,i)){var u=d$(o,n,i);return wy(e,t,u),!0}else return!1},Ey=function(e,t,n){return h.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(r){return h.from(e.dom.getParent(r,"table")).map(function(a){return n(e,t,a,r)})}).getOr(!1)},Sy=function(e,t){return Ey(e,t,c$)},ky=function(e,t){return Ey(e,t,p$)},g$=function(e,t,n){var r=$t().os;$a([{keyCode:te.RIGHT,action:ce(sy,e,!0)},{keyCode:te.LEFT,action:ce(sy,e,!1)},{keyCode:te.UP,action:ce(ly,e,!1)},{keyCode:te.DOWN,action:ce(ly,e,!0)},{keyCode:te.RIGHT,action:ce(Sy,e,!0)},{keyCode:te.LEFT,action:ce(Sy,e,!1)},{keyCode:te.UP,action:ce(ky,e,!1)},{keyCode:te.DOWN,action:ce(ky,e,!0)},{keyCode:te.RIGHT,action:ce(py,e,!0)},{keyCode:te.LEFT,action:ce(py,e,!1)},{keyCode:te.UP,action:ce(gy,e,!1)},{keyCode:te.DOWN,action:ce(gy,e,!0)},{keyCode:te.RIGHT,action:ce(Kb,e,t,!0)},{keyCode:te.LEFT,action:ce(Kb,e,t,!1)},{keyCode:te.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:ce(nL,e,t)},{keyCode:te.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:ce(rL,e,t)},{keyCode:te.UP,action:ce(my,e,!1)},{keyCode:te.DOWN,action:ce(my,e,!0)}],n).each(function(a){n.preventDefault()})},h$=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&g$(e,t,n)})},b$=function(e,t,n){$a([{keyCode:te.BACKSPACE,action:ce(ny,e,!1)},{keyCode:te.BACKSPACE,action:ce(gu,e,!1)},{keyCode:te.DELETE,action:ce(gu,e,!0)},{keyCode:te.BACKSPACE,action:ce(pu,e,!1)},{keyCode:te.DELETE,action:ce(pu,e,!0)},{keyCode:te.BACKSPACE,action:ce(ku,e,t,!1)},{keyCode:te.DELETE,action:ce(ku,e,t,!0)},{keyCode:te.BACKSPACE,action:ce(Zo,e,!1)},{keyCode:te.DELETE,action:ce(Zo,e,!0)},{keyCode:te.BACKSPACE,action:ce(hu,e,!1)},{keyCode:te.DELETE,action:ce(hu,e,!0)},{keyCode:te.BACKSPACE,action:ce(Nu,e,!1)},{keyCode:te.DELETE,action:ce(Nu,e,!0)},{keyCode:te.BACKSPACE,action:ce(mu,e,!1)},{keyCode:te.DELETE,action:ce(mu,e,!0)},{keyCode:te.BACKSPACE,action:ce(du,e,!1)},{keyCode:te.DELETE,action:ce(du,e,!0)},{keyCode:te.BACKSPACE,action:ce(xu,e,!1)},{keyCode:te.DELETE,action:ce(xu,e,!0)}],n).each(function(r){n.preventDefault()})},y$=function(e,t){$a([{keyCode:te.BACKSPACE,action:ce(Eb,e)},{keyCode:te.DELETE,action:ce(Eb,e)}],t)},C$=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&b$(e,t,n)}),e.on("keyup",function(n){n.isDefaultPrevented()===!1&&y$(e,n)})},w$=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Bi=function(e,t){var n,r=t,a=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var o=w$(t.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(a.doc.createTextNode(Et),t.firstChild)}var u=a.createRng();if(t.normalize(),t.hasChildNodes()){for(var f=new Ve(t,t);n=f.current();){if(Q(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=f.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else _e(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Ei(e,u)}},E$=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},bc=function(e){return h.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},S$=function(e){return bc(e).fold(G(""),function(t){return t.nodeName.toUpperCase()})},k$=function(e){return bc(e).filter(function(t){return ei(k.fromDom(t))}).isSome()},x$=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},N$=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},xy=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Ny=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},A$=function(e){return Ny(e)&&Ny(e.parentNode)},Au=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Tu=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!re(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},T$=function(e,t,n,r,a){var i=e.dom,o=e.selection.getRng();if(n!==e.getBody()){A$(n)&&(a="LI");var u=a?t(a):i.create("BR");if(Tu(n,r,!0)&&Tu(n,r,!1))if(xy(n,"LI")){var f=Au(n);i.insertAfter(u,f),N$(n)?i.remove(f):i.remove(n)}else i.replace(u,n);else if(Tu(n,r,!0))xy(n,"LI")?(i.insertAfter(u,Au(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(Tu(n,r,!1))i.insertAfter(u,Au(n)),i.remove(r);else{n=Au(n);var s=o.cloneRange();s.setStartAfter(r),s.setEndAfter(n);var l=s.extractContents();a==="LI"&&x$(l,"LI")?(u=l.firstChild,i.insertAfter(l,n)):(i.insertAfter(l,n),i.insertAfter(u,n)),i.remove(r)}Bi(e,u)}},R$=function(e){X(Qd(k.fromDom(e),Ft),function(t){var n=t.dom;n.nodeValue=Wn(n.nodeValue)})},B$=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)},D$=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},yc=function(e){e.innerHTML='<br data-mce-bogus="1">'},Cc=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Ay=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"},_$=function(e,t,n){var r=n,a=[],i;if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;re(r)&&!t[r.nodeName.toLowerCase()]&&a.push(r)}for(i=a.length;i--;)r=a[i],(!r.hasChildNodes()||r.firstChild===r.lastChild&&r.firstChild.nodeValue===""||B$(e,r))&&e.remove(r)}},wc=function(e,t,n){return Q(t)===!1?n:e?n===1&&t.data.charAt(n-1)===Ze?0:n:n===t.data.length-1&&t.data.charAt(n)===Ze?t.data.length:n},O$=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,wc(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,wc(!1,e.endContainer,e.endOffset)),t},P$=function(e){do Q(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},Ty=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},I$=function(e,t,n){var r=e.dom;h.from(n.style).map(r.parseStyle).each(function(f){var s=Zv(k.fromDom(t)),l=ae(ae({},s),f);r.setStyles(t,l)});var a=h.from(n.class).map(function(f){return f.split(/\s+/)}),i=h.from(t.className).map(function(f){return ve(f.split(/\s+/),function(s){return s!==""})});ht(a,i,function(f,s){var l=ve(s,function(v){return!Xe(f,v)}),c=Tn(Tn([],f,!0),l,!0);r.setAttrib(t,"class",c.join(" "))});var o=["style","class"],u=Va(n,function(f,s){return!Xe(o,s)});r.setAttribs(t,u)},Di=function(e,t){var n=it(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=li(e);I$(e,t,r)}},L$=function(e,t,n,r,a){var i,o,u,f,s,l,c=t||"P",v=e.dom,d=Ty(v,r);if(o=v.getParent(r,v.isBlock),!o||!Ay(v,o)){if(o=o||d,o===e.getBody()||D$(o)?l=o.nodeName.toLowerCase():l=o.parentNode.nodeName.toLowerCase(),!o.hasChildNodes())return i=v.create(c),Di(e,i),o.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(f=r;f.parentNode!==o;)f=f.parentNode;for(;f&&!v.isBlock(f);)u=f,f=f.previousSibling;if(u&&e.schema.isValidChild(l,c.toLowerCase())){for(i=v.create(c),Di(e,i),u.parentNode.insertBefore(i,u),f=u;f&&!v.isBlock(f);)s=f.nextSibling,i.appendChild(f),f=s;n.setStart(r,a),n.setEnd(r,a)}}return r},$$=function(e,t){t.normalize();var n=t.lastChild;(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},F$=function(e,t){var n,r,a,i,o,u,f,s,l,c,v=e.dom,d=e.schema,m=d.getNonEmptyElements(),p=e.selection.getRng(),g=function(T){var I=r,J,q,D,ne=d.getTextInlineElements();if(T||s==="TABLE"||s==="HR"?J=v.create(T||l):J=i.cloneNode(!1),D=J,Ik(e)===!1)v.setAttrib(J,"style",null),v.setAttrib(J,"class",null);else do if(ne[I.nodeName]){if(yn(I)||Ot(I))continue;q=I.cloneNode(!1),v.setAttrib(q,"id",""),J.hasChildNodes()?(q.appendChild(J.firstChild),J.appendChild(q)):(D=q,J.appendChild(q))}while((I=I.parentNode)&&I!==C);return Di(e,J),yc(D),J},y=function(T){var I,J,q=wc(T,r,a);if(Q(r)&&(T?q>0:q<r.nodeValue.length))return!1;if(r.parentNode===i&&c&&!T||T&&re(r)&&r===i.firstChild)return!0;if(Cc(r,"TABLE")||Cc(r,"HR"))return c&&!T||!c&&T;var D=new Ve(r,i);for(Q(r)&&(T&&q===0?D.prev():!T&&q===r.nodeValue.length&&D.next());I=D.current();){if(re(I)){if(!I.getAttribute("data-mce-bogus")&&(J=I.nodeName.toLowerCase(),m[J]&&J!=="br"))return!1}else if(Q(I)&&!Cr(I.nodeValue))return!1;T?D.prev():D.next()}return!0},b=function(){/^(H[1-6]|PRE|FIGURE)$/.test(s)&&x!=="HGROUP"?o=g(l):o=g(),Lk(e)&&Ay(v,f)&&v.isEmpty(i)?o=v.split(f,i):v.insertAfter(o,i),Bi(e,o)};Fo(v,p).each(function(T){p.setStart(T.startContainer,T.startOffset),p.setEnd(T.endContainer,T.endOffset)}),r=p.startContainer,a=p.startOffset,l=it(e);var w=!!(t&&t.shiftKey),S=!!(t&&t.ctrlKey);re(r)&&r.hasChildNodes()&&(c=a>r.childNodes.length-1,r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r,c&&Q(r)?a=r.nodeValue.length:a=0);var C=Ty(v,r);if(C){(l&&!w||!l&&w)&&(r=L$(e,l,p,r,a)),i=v.getParent(r,v.isBlock),f=i?v.getParent(i.parentNode,v.isBlock):null,s=i?i.nodeName.toUpperCase():"";var x=f?f.nodeName.toUpperCase():"";if(x==="LI"&&!S&&(i=f,f=f.parentNode,s=x),/^(LI|DT|DD)$/.test(s)&&v.isEmpty(i)){T$(e,g,f,i,l);return}l&&i===e.getBody()||(l=l||"P",ia(i)?(o=Rf(i),v.isEmpty(i)&&yc(i),Di(e,o),Bi(e,o)):y()?b():y(!0)?(o=i.parentNode.insertBefore(g(),i),Bi(e,Cc(i,"HR")?o:i)):(n=O$(p).cloneRange(),n.setEndAfter(i),u=n.extractContents(),R$(u),P$(u),o=u.firstChild,v.insertAfter(u,i),_$(v,m,o),$$(v,i),v.isEmpty(i)&&yc(i),o.normalize(),v.isEmpty(o)?(v.remove(o),b()):(Di(e,o),Bi(e,o))),v.setAttrib(o,"id",""),e.fire("NewBlock",{newBlock:o}))}},M$=function(e,t,n){for(var r=new Ve(t,n),a,i=e.getNonEmptyElements();a=r.next();)if(i[a.nodeName.toLowerCase()]||a.length>0)return!0},Ry=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Ei(e,r)},U$=function(e,t){var n=e.selection,r=e.dom,a=n.getRng(),i,o;Fo(r,a).each(function(m){a.setStart(m.startContainer,m.startOffset),a.setEnd(m.endContainer,m.endOffset)});var u=a.startOffset,f=a.startContainer;if(f.nodeType===1&&f.hasChildNodes()){var s=u>f.childNodes.length-1;f=f.childNodes[Math.min(u,f.childNodes.length-1)]||f,s&&f.nodeType===3?u=f.nodeValue.length:u=0}var l=r.getParent(f,r.isBlock),c=l?r.getParent(l.parentNode,r.isBlock):null,v=c?c.nodeName.toUpperCase():"",d=!!(t&&t.ctrlKey);v==="LI"&&!d&&(l=c),f&&f.nodeType===3&&u>=f.nodeValue.length&&(M$(e.schema,f,l)||(i=r.create("br"),a.insertNode(i),a.setStartAfter(i),a.setEndAfter(i),o=!0)),i=r.create("br"),cs(r,a,i),Ry(e,i,o),e.undoManager.add()},z$=function(e,t){var n=k.fromTag("br");Xt(k.fromDom(t),n),e.undoManager.add()},H$=function(e,t){q$(e.getBody(),t)||Ga(k.fromDom(t),k.fromTag("br"));var n=k.fromTag("br");Ga(k.fromDom(t),n),Ry(e,n.dom,!1),e.undoManager.add()},V$=function(e){return _e(e.getNode())},q$=function(e,t){return V$(R.after(t))?!0:tn(e,R.after(t)).map(function(n){return _e(n.getNode())}).getOr(!1)},By=function(e){return e&&e.nodeName==="A"&&"href"in e},W$=function(e){return e.fold(xe,By,By,xe)},j$=function(e){var t=K(Ir,e),n=R.fromRangeStart(e.selection.getRng());return En(t,e.getBody(),n).filter(W$)},K$=function(e,t){t.fold(le,K(z$,e),K(H$,e),le)},Dy=function(e,t){var n=j$(e);n.isSome()?n.each(K(K$,e)):U$(e,t)},_y=function(e,t){return bc(e).filter(function(n){return t.length>0&&Qr(k.fromDom(n),t)}).isSome()},G$=function(e){return _y(e,Ok(e))},X$=function(e){return _y(e,Pk(e))},Nt=Vn.generate([{br:[]},{block:[]},{none:[]}]),Y$=function(e,t){return X$(e)},Ec=function(e){return function(t,n){var r=it(t)==="";return r===e}},Oy=function(e){return function(t,n){return k$(t)===e}},Py=function(e,t){return function(n,r){var a=S$(n)===e.toUpperCase();return a===t}},Ru=function(e){return Py("pre",e)},Q$=function(){return Py("summary",!0)},Bu=function(e){return function(t,n){return _k(t)===e}},Z$=function(e,t){return G$(e)},_i=function(e,t){return t},Iy=function(e){var t=it(e),n=E$(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},It=function(e,t){return function(n,r){var a=jt(e,function(i,o){return i&&o(n,r)},!0);return a?h.some(t):h.none()}},J$=function(e,t){return Tb([It([Y$],Nt.none()),It([Q$()],Nt.br()),It([Ru(!0),Bu(!1),_i],Nt.br()),It([Ru(!0),Bu(!1)],Nt.block()),It([Ru(!0),Bu(!0),_i],Nt.block()),It([Ru(!0),Bu(!0)],Nt.br()),It([Oy(!0),_i],Nt.br()),It([Oy(!0)],Nt.block()),It([Ec(!0),_i,Iy],Nt.block()),It([Ec(!0)],Nt.br()),It([Z$],Nt.br()),It([Ec(!1),_i],Nt.br()),It([Iy],Nt.block())],[e,!!(t&&t.shiftKey)]).getOr(Nt.none())},Ly=function(e,t){J$(e,t).fold(function(){Dy(e,t)},function(){F$(e,t)},le)},eF=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),bD(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),Ly(e,t)}))},tF=function(e){e.on("keydown",function(t){t.keyCode===te.ENTER&&eF(e,t)})},nF=function(e,t,n){$a([{keyCode:te.END,action:ce(cy,e,!0)},{keyCode:te.HOME,action:ce(cy,e,!1)},{keyCode:te.END,action:ce(hy,e,!0)},{keyCode:te.HOME,action:ce(hy,e,!1)},{keyCode:te.END,action:ce(Su,e,!0,t)},{keyCode:te.HOME,action:ce(Su,e,!1,t)}],n).each(function(r){n.preventDefault()})},rF=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&nF(e,t,n)})},aF=$t().browser,iF=function(e){var t=as(function(){e.composing||kg(e)},0);aF.isIE()&&(e.on("keypress",function(n){t.throttle()}),e.on("remove",function(n){t.cancel()}))},oF=function(e){iF(e),e.on("input",function(t){t.isComposing===!1&&kg(e)})},uF=$t(),fF=function(e,t,n){$a([{keyCode:te.PAGE_UP,action:ce(Su,e,!1,t)},{keyCode:te.PAGE_DOWN,action:ce(Su,e,!0,t)}],n)},$y=function(e){return e.stopImmediatePropagation()},Fy=function(e){return e.keyCode===te.PAGE_UP||e.keyCode===te.PAGE_DOWN},My=function(e,t,n){n&&!e.get()?t.on("NodeChange",$y,!0):!n&&e.get()&&t.off("NodeChange",$y),e.set(n)},sF=function(e,t){if(!uF.os.isOSX()){var n=ft(!1);e.on("keydown",function(r){Fy(r)&&My(n,e,!0)}),e.on("keyup",function(r){r.isDefaultPrevented()===!1&&fF(e,t,r),Fy(r)&&n.get()&&(My(n,e,!1),e.nodeChanged())})}},Uy=function(e,t){var n=t.container(),r=t.offset();return Q(n)?(n.insertData(r,e),h.some(R(n,r+e.length))):Ro(t).map(function(a){var i=k.fromText(e);return t.isAtEnd()?Ga(a,i):Xt(a,i),R(i.dom,e.length)})},lF=K(Uy,Et),cF=K(Uy," "),vF=function(e){return function(t){return t.fold(function(n){return hn(e.dom,R.before(n))},function(n){return pt(n)},function(n){return bn(n)},function(n){return tn(e.dom,R.after(n))})}},dF=function(e,t){return function(n){return oT(e,n)?lF(t):cF(t)}},mF=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},pF=function(e){var t=R.fromRangeStart(e.selection.getRng()),n=k.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=K(Ir,e),a=R.fromRangeStart(e.selection.getRng());return En(r,e.getBody(),a).bind(vF(n)).bind(dF(n,t)).exists(mF(e))}else return!1},gF=function(e,t){$a([{keyCode:te.SPACEBAR,action:ce(pF,e)}],t).each(function(n){t.preventDefault()})},hF=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&gF(e,t)})},bF=function(e){var t=tL(e);return _L(e),h$(e,t),C$(e,t),tF(e),hF(e),oF(e),rF(e,t),sF(e,t),t},yF=function(e){return In(e)?ft(null):bF(e)},CF=function(){function e(t){this.lastPath=[],this.editor=t;var n,r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(a){var i=t.selection.getRng(),o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};(a.type==="nodechange"||!Us(o,n))&&t.fire("SelectionChange"),n=o}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var a=t.selection.getStart(!0);!a||!ue.range&&t.selection.isCollapsed()||$o(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(a){!a.isDefaultPrevented()&&$o(t)&&(t.selection.getNode().nodeName==="IMG"?nt.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return e.prototype.nodeChanged=function(t){var n=this.editor.selection,r,a,i;this.editor.initialized&&n&&!g1(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),r=n.getStart(!0)||i,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,i))&&(r=i),a=[],this.editor.dom.getParent(r,function(o){if(o===i)return!0;a.push(o)}),t=t||{},t.element=r,t.parents=a,this.editor.fire("NodeChange",t))},e.prototype.isSameElementPath=function(t){var n,r=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(r.length===this.lastPath.length){for(n=r.length;n>=0&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1},e}(),wF=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},EF=function(e){e.parser.addNodeFilter("details",function(t){X(t,function(n){n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",function(t){X(t,function(n){var r=n.attr("data-mce-open");n.attr("open",Le(r)?r:null),n.attr("data-mce-open",null)})})},SF=function(e){wF(e),EF(e)},zy=function(e){return re(e)&&cd(k.fromDom(e))},kF=function(e){var t=e.selection.getRng(),n=R.fromRangeStart(t),r=R.fromRangeEnd(t);if(R.isElementPosition(n)){var a=n.container();zy(a)&&pt(a).each(function(i){return t.setStart(i.container(),i.offset())})}if(R.isElementPosition(r)){var a=n.container();zy(a)&&bn(a).each(function(o){return t.setEnd(o.container(),o.offset())})}e.selection.setRng(yl(t))},xF=function(e){e.on("click",function(t){t.detail>=3&&kF(e)})},Hy=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,a=n.defaultView;return{top:t.top+a.pageYOffset-r.clientTop,left:t.left+a.pageXOffset-r.clientLeft}},NF=function(e){return e.inline?Hy(e.getBody()):{left:0,top:0}},AF=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},TF=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:a},RF=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Hy(e.getContentAreaContainer()),r=TF(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},BF=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},DF=function(e,t){return BF(NF(e),AF(e),RF(e,t))},Du=Ae,_F=sn,OF=function(e,t){return Du(t)&&t!==e},PF=function(e,t,n){return t===n||e.dom.isChildOf(t,n)?!1:!Du(t)},IF=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},LF=function(e,t,n,r){var a=e.dom,i=t.cloneNode(!0);a.setStyles(i,{width:n,height:r}),a.setAttrib(i,"data-mce-selected",null);var o=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),a.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},$F=function(e,t){e.parentNode!==t&&t.appendChild(e)},FF=function(e,t,n,r,a,i){var o=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(o=t.pageX+n-a),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-o+"px",e.style.height=r-u+"px"},Vy=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},MF=function(e){return e.button===0},UF=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},zF=function(e,t){return function(n){if(MF(n)){var r=Ye(t.dom.getParents(n.target),ak(Du,_F)).getOr(null);if(OF(t.getBody(),r)){var a=t.dom.getPos(r),i=t.getBody(),o=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:o.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:o.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:LF(t,r,r.offsetWidth,r.offsetHeight)})}}}},HF=function(e,t){var n=nt.throttle(function(r,a){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(r,a)},0);return t.on("remove",n.stop),function(r){return e.on(function(a){var i=Math.max(Math.abs(r.screenX-a.screenX),Math.abs(r.screenY-a.screenY));if(!a.dragging&&i>10){var o=t.fire("dragstart",{target:a.element});if(o.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){var u=UF(a,DF(t,r));$F(a.ghost,t.getBody()),FF(a.ghost,u,a.width,a.height,a.maxX,a.maxY),n(r.clientX,r.clientY)}})}},VF=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return n.nodeType===3?n.parentNode:n},qF=function(e,t){return function(n){e.on(function(r){if(r.dragging){if(PF(t,VF(t.selection),r.element)){var a=IF(r.element),i=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||t.undoManager.transact(function(){Vy(r.element),t.insertContent(t.dom.getOuterHTML(a)),t._selectionOverrides.hideFakeCaret()})}t.fire("dragend")}}),qy(e)}},WF=function(e,t){return function(){e.on(function(n){n.dragging&&t.fire("dragend")}),qy(e)}},qy=function(e){e.on(function(t){Vy(t.ghost)}),e.clear()},jF=function(e){var t=ma(),n=Ce.DOM,r=document,a=zF(t,e),i=HF(t,e),o=qF(t,e),u=WF(t,e);e.on("mousedown",a),e.on("mousemove",i),e.on("mouseup",o),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),e.on("remove",function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)}),e.on("keydown",function(f){f.keyCode===te.ESC&&u()})},KF=function(e){e.on("drop",function(t){var n=typeof t.clientX!="undefined"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(Du(n)||e.dom.getContentEditableParent(n)==="false")&&t.preventDefault()})},GF=function(e){var t=function(a){if(!a.isDefaultPrevented()){var i=a.dataTransfer;i&&(Xe(i.types,"Files")||i.files.length>0)&&(a.preventDefault(),a.type==="drop"&&su(e,"Dropped file type is not supported"))}},n=function(a){Vo(e,a.target)&&t(a)},r=function(){var a=Ce.DOM,i=e.dom,o=document,u=e.inline?e.getBody():e.getDoc(),f=["drop","dragover"];X(f,function(s){a.bind(o,s,n),i.bind(u,s,t)}),e.on("remove",function(){X(f,function(s){a.unbind(o,s,n),i.unbind(u,s,t)})})};e.on("init",function(){nt.setEditorTimeout(e,r,0)})},XF=function(e){jF(e),KF(e),C1(e)&&GF(e)},YF=function(e){var t=as(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var n=e.selection.getRng();if(n.collapsed){var r=rc(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},QF=function(e){e.on("init",function(){e.on("focusin",function(t){var n=t.target;if(zt(n)){var r=Ta(e.getBody(),n),a=Ae(r)?r:n;e.selection.getNode()!==a&&Ia(e,a).each(function(i){return e.selection.setRng(i)})}})})},Wy=sn,$r=Ae,_u=function(e,t){return Ta(e.getBody(),t)},ZF=function(e){var t=e.selection,n=e.dom,r=n.isBlock,a=e.getBody(),i=L1(e,a,r,function(){return Dr(e)}),o="sel-"+n.uniqueId(),u="data-mce-selected",f,s=function(D){return n.hasClass(D,"mce-offscreen-selection")},l=function(D){return D!==a&&($r(D)||zt(D))&&n.isChildOf(D,a)},c=function(D){return ur(D)||fr(D)||Ba(D)||Da(D)},v=function(){var D=n.get(o);return D&&D.getElementsByTagName("*")[0]},d=function(D){D&&t.setRng(D)},m=t.getRng,p=function(D,ne,F,V){V===void 0&&(V=!0);var $=e.fire("ShowCaret",{target:ne,direction:D,before:F});return $.isDefaultPrevented()?null:(V&&t.scrollIntoView(ne,D===-1),i.show(F,ne))},g=function(D){D.hasAttribute("data-mce-caret")&&(Rf(D),d(m()),t.scrollIntoView(D))},y=function(){e.on("mouseup",function($){var H=m();H.collapsed&&jh(e,$.clientX,$.clientY)&&hb(e,H,!1).each(d)}),e.on("click",function($){var H=_u(e,$.target);H&&($r(H)&&($.preventDefault(),e.focus()),Wy(H)&&n.isChildOf(H,t.getNode())&&I())}),e.on("blur NewBlock",I),e.on("ResizeWindow FullscreenStateChanged",i.reposition);var D=function($){var H=$.firstChild;if(on(H))return!1;var j=R.before(H);if(_e(j.getNode())&&$.childNodes.length===1)return!c(j);var _=en($),W=_.next(j);return W&&!c(W)},ne=function($,H){var j=n.getParent($,r),_=n.getParent(H,r);return j===_},F=function($,H){var j=n.getParent($,r),_=n.getParent(H,r);return on(j)?!1:$!==_&&n.isChildOf(j,_)&&$r(_u(e,j))===!1?!0:!n.isChildOf(_,j)&&!ne(j,_)&&D(j)};e.on("tap",function($){var H=$.target,j=_u(e,H);$r(j)?($.preventDefault(),Ia(e,j).each(T)):l(H)&&Ia(e,H).each(T)},!0),e.on("mousedown",function($){var H=$.target;if(!(H!==a&&H.nodeName!=="HTML"&&!n.isChildOf(H,a))&&jh(e,$.clientX,$.clientY)!==!1){var j=_u(e,H);if(j)$r(j)?($.preventDefault(),Ia(e,j).each(T)):(I(),!(Wy(j)&&$.shiftKey)&&!$s($.clientX,$.clientY,t.getRng())&&(q(),t.placeCaretAt($.clientX,$.clientY)));else if(l(H))Ia(e,H).each(T);else if(Tr(H)===!1){I(),q();var _=YI(a,$.clientX,$.clientY);if(_&&!F(H,_.node)){$.preventDefault();var W=p(1,_.node,_.before,!1);d(W),e.getBody().focus()}}}}),e.on("keypress",function($){te.modifierPressed($)||$r(t.getNode())&&$.preventDefault()}),e.on("GetSelectionRange",function($){var H=$.range;if(f){if(!f.parentNode){f=null;return}H=H.cloneRange(),H.selectNode(f),$.range=H}}),e.on("SetSelectionRange",function($){$.range=S($.range);var H=T($.range,$.forward);H&&($.range=H)});var V=function($){return $.id==="mcepastebin"};e.on("AfterSetSelectionRange",function($){var H=$.range,j=H.startContainer.parentNode;!w(H)&&!V(j)&&q(),s(j)||I()}),e.on("copy",function($){var H=$.clipboardData;if(!$.isDefaultPrevented()&&$.clipboardData&&!ue.ie){var j=v();j&&($.preventDefault(),H.clearData(),H.setData("text/html",j.outerHTML),H.setData("text/plain",j.outerText||j.innerText))}}),XF(e),YF(e),QF(e)},b=function(D){return Rt(D)||ao(D)||io(D)},w=function(D){return b(D.startContainer)||b(D.endContainer)},S=function(D){var ne=e.schema.getShortEndedElements(),F=n.createRng(),V=D.startContainer,$=D.startOffset,H=D.endContainer,j=D.endOffset;return de(ne,V.nodeName.toLowerCase())?$===0?F.setStartBefore(V):F.setStartAfter(V):F.setStart(V,$),de(ne,H.nodeName.toLowerCase())?j===0?F.setEndBefore(H):F.setEndAfter(H):F.setEnd(H,j),F},C=function(D,ne,F){var V=e.$,$=eo(k.fromDom(e.getBody()),"#"+o).fold(function(){return V([])},function(_){return V([_.dom])});$.length===0&&($=V('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),$.appendTo(e.getBody()));var H=n.createRng();ne===F&&ue.ie?($.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(ne),H.setStartAfter($[0].firstChild.firstChild),H.setEndAfter(ne)):($.empty().append(Et).append(ne).append(Et),H.setStart($[0].firstChild,1),H.setEnd($[0].lastChild,0)),$.css({top:n.getPos(D,e.getBody()).y}),$[0].focus();var j=t.getSel();return j.removeAllRanges(),j.addRange(H),H},x=function(D){var ne=D.cloneNode(!0),F=e.fire("ObjectSelected",{target:D,targetClone:ne});if(F.isDefaultPrevented())return null;var V=C(D,F.targetClone,ne),$=k.fromDom(D);return X(bt(k.fromDom(e.getBody()),"*[data-mce-selected]"),function(H){Se($,H)||Hn(H,u)}),n.getAttrib(D,u)||D.setAttribute(u,"1"),f=D,q(),V},T=function(D,ne){if(!D)return null;if(D.collapsed){if(!w(D)){var F=ne?1:-1,V=gi(F,a,D),$=V.getNode(!ne);if(Tr($))return p(F,$,ne?!V.isAtEnd():!1,!1);var H=V.getNode(ne);if(Tr(H))return p(F,H,ne?!1:!V.isAtEnd(),!1)}return null}var j=D.startContainer,_=D.startOffset,W=D.endOffset;if(j.nodeType===3&&_===0&&$r(j.parentNode)&&(j=j.parentNode,_=n.nodeIndex(j),j=j.parentNode),j.nodeType!==1)return null;if(W===_+1&&j===D.endContainer){var fe=j.childNodes[_];if(l(fe))return x(fe)}return null},I=function(){f&&f.removeAttribute(u),eo(k.fromDom(e.getBody()),"#"+o).each(Qe),f=null},J=function(){i.destroy(),f=null},q=function(){i.hide()};return ue.ceFalse&&!In(e)&&y(),{showCaret:p,showBlockCaretContainer:g,hideFakeCaret:q,destroy:J}},JF=function(e){var t=B.each,n=te.BACKSPACE,r=te.DELETE,a=e.dom,i=e.selection,o=e.parser,u=ue.gecko,f=ue.ie,s=ue.webkit,l="data:text/mce-internal,",c=f?"Text":"URL",v=function(O,U){try{e.getDoc().execCommand(O,!1,U)}catch(Z){}},d=function(O){return O.isDefaultPrevented()},m=function(O){var U,Z;O.dataTransfer&&(e.selection.isCollapsed()&&O.target.tagName==="IMG"&&i.select(O.target),U=e.selection.getContent(),U.length>0&&(Z=l+escape(e.id)+","+escape(U),O.dataTransfer.setData(c,Z)))},p=function(O){var U;return O.dataTransfer&&(U=O.dataTransfer.getData(c),U&&U.indexOf(l)>=0)?(U=U.substr(l.length).split(","),{id:unescape(U[0]),html:unescape(U[1])}):null},g=function(O,U){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:O,internal:U}):e.execCommand("mceInsertContent",!1,O)},y=function(){var O=function(Z){var N=a.create("body"),P=Z.cloneContents();return N.appendChild(P),i.serializer.serialize(N,{format:"html"})},U=function(Z){var N=O(Z),P=a.createRng();P.selectNode(e.getBody());var L=O(P);return N===L};e.on("keydown",function(Z){var N=Z.keyCode,P,L;if(!d(Z)&&(N===r||N===n)){if(P=e.selection.isCollapsed(),L=e.getBody(),P&&!a.isEmpty(L)||!P&&!U(e.selection.getRng()))return;Z.preventDefault(),e.setContent(""),L.firstChild&&a.isBlock(L.firstChild)?e.selection.setCursorLocation(L.firstChild,0):e.selection.setCursorLocation(L,0),e.nodeChanged()}})},b=function(){e.shortcuts.add("meta+a",null,"SelectAll")},w=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",function(O){var U;if(O.target===e.getDoc().documentElement)if(U=i.getRng(),e.getBody().focus(),O.type==="mousedown"){if(Rt(U.startContainer))return;i.placeCaretAt(O.clientX,O.clientY)}else i.setRng(U)})},S=function(){e.on("keydown",function(O){if(!d(O)&&O.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&i.getRng().startOffset===0){var U=i.getNode(),Z=U.previousSibling;if(U.nodeName==="HR"){a.remove(U),O.preventDefault();return}Z&&Z.nodeName&&Z.nodeName.toLowerCase()==="hr"&&(a.remove(Z),O.preventDefault())}}})},C=function(){Range.prototype.getClientRects||e.on("mousedown",function(O){if(!d(O)&&O.target.nodeName==="HTML"){var U=e.getBody();U.blur(),nt.setEditorTimeout(e,function(){U.focus()})}})},x=function(){e.on("click",function(O){var U=O.target;/^(IMG|HR)$/.test(U.nodeName)&&a.getContentEditableParent(U)!=="false"&&(O.preventDefault(),e.selection.select(U),e.nodeChanged()),U.nodeName==="A"&&a.hasClass(U,"mce-item-anchor")&&(O.preventDefault(),i.select(U))})},T=function(){var O=function(){var Z=a.getAttribs(i.getStart().cloneNode(!1));return function(){var N=i.getStart();N!==e.getBody()&&(a.setAttrib(N,"style",null),t(Z,function(P){N.setAttributeNode(P.cloneNode(!0))}))}},U=function(){return!i.isCollapsed()&&a.getParent(i.getStart(),a.isBlock)!==a.getParent(i.getEnd(),a.isBlock)};e.on("keypress",function(Z){var N;if(!d(Z)&&(Z.keyCode===8||Z.keyCode===46)&&U())return N=O(),e.getDoc().execCommand("delete",!1,null),N(),Z.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(Z){var N;!d(Z)&&U()&&(N=O(),nt.setEditorTimeout(e,function(){N()}))})},I=function(){e.on("keydown",function(O){if(!d(O)&&O.keyCode===n&&i.isCollapsed()&&i.getRng().startOffset===0){var U=i.getNode().previousSibling;if(U&&U.nodeName&&U.nodeName.toLowerCase()==="table")return O.preventDefault(),!1}})},J=function(){e.on("keydown",function(O){var U,Z;if(!(d(O)||O.keyCode!==te.BACKSPACE)){U=i.getRng();var N=U.startContainer,P=U.startOffset,L=a.getRoot();if(Z=N,!(!U.collapsed||P!==0)){for(;Z&&Z.parentNode&&Z.parentNode.firstChild===Z&&Z.parentNode!==L;)Z=Z.parentNode;Z.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Z),U=a.createRng(),U.setStart(N,0),U.setEnd(N,0),i.setRng(U))}}})},q=function(){var O=function(){v("StyleWithCSS",!1),v("enableInlineTableEditing",!1),Fm(e)||v("enableObjectResizing",!1)};h1(e)||e.on("BeforeExecCommand mousedown",O)},D=function(){var O=function(){t(a.select("a"),function(U){var Z=U.parentNode,N=a.getRoot();if(Z.lastChild===U){for(;Z&&!a.isBlock(Z);){if(Z.parentNode.lastChild!==Z||Z===N)return;Z=Z.parentNode}a.add(Z,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(U){(U.type==="setcontent"||U.command==="mceInsertLink")&&O()})},ne=function(){it(e)&&e.on("init",function(){v("DefaultParagraphSeparator",it(e))})},F=function(){e.on("keyup focusin mouseup",function(O){te.modifierPressed(O)||i.normalize()},!0)},V=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},$=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},H=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(O){var U;if(O.target.nodeName==="HTML"){if(ue.ie>11){e.getBody().focus();return}U=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(U),e.selection.normalize(),e.nodeChanged()}}))},j=function(){ue.mac&&e.on("keydown",function(O){if(te.metaKeyPressed(O)&&!O.shiftKey&&(O.keyCode===37||O.keyCode===39)){O.preventDefault();var U=e.selection.getSel();U.modify("move",O.keyCode===37?"backward":"forward","lineboundary")}})},_=function(){v("AutoUrlDetect",!1)},W=function(){e.on("click",function(O){var U=O.target;do if(U.tagName==="A"){O.preventDefault();return}while(U=U.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},fe=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(O){O.preventDefault()})})},ge=function(){o.addNodeFilter("br",function(O){for(var U=O.length;U--;)O[U].attr("class")==="Apple-interchange-newline"&&O[U].remove()})},se=function(){e.on("dragstart",function(O){m(O)}),e.on("drop",function(O){if(!d(O)){var U=p(O);if(U&&U.id!==e.id){O.preventDefault();var Z=Ms(O.x,O.y,e.getDoc());i.setRng(Z),g(U.html,!0)}}})},Ge=le,we=function(){if(!u||e.removed)return!1;var O=e.selection.getSel();return!O||!O.rangeCount||O.rangeCount===0},ot=function(){s&&(w(),x(),fe(),b(),ue.iOS&&($(),H(),W())),u&&(C(),q(),V(),j())},yt=function(){J(),y(),ue.windowsPhone||F(),s&&(w(),x(),ne(),fe(),I(),ge(),ue.iOS?($(),H(),W()):b()),ue.ie>=11&&(H(),I()),ue.ie&&(b(),_(),se()),u&&(S(),C(),T(),q(),D(),V(),j(),I())};return In(e)?ot():yt(),{refreshContentEditable:Ge,isHidden:we}},Sc=Ce.DOM,eM=function(e,t){var n=k.fromDom(e.getBody()),r=cf(br(n)),a=k.fromTag("style");ln(a,"type","text/css"),et(a,k.fromText(t)),et(r,a),e.on("remove",function(){Qe(a)})},tM=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},kc=function(e){return Va(e,function(t){return Ct(t)===!1})},jy=function(e){var t=e.settings;return kc({block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements,padd_empty_block_inline_children:t.format_empty_lines})},Ky=function(e){var t=e.settings,n=e.editorUpload.blobCache;return kc({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:tM(e),validate:!0,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})},nM=function(e){var t=e.settings;return ae(ae(ae({},Ky(e)),jy(e)),kc({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before}))},rM=function(e){var t=Yl(Ky(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(n,r){for(var a=n.length,i,o,u=e.dom,f="data-mce-"+r;a--;)if(i=n[a],o=i.attr(r),o&&!i.attr(f)){if(o.indexOf("data:")===0||o.indexOf("blob:")===0)continue;r==="style"?(o=u.serializeStyle(u.parseStyle(o),i.name),o.length||(o=null),i.attr(f,o),i.attr(r,o)):r==="tabindex"?(i.attr(f,o),i.attr(r,null)):i.attr(f,e.convertURL(o,r,i.name))}}),t.addNodeFilter("script",function(n){for(var r=n.length;r--;){var a=n[r],i=a.attr("type")||"no/type";i.indexOf("mce-")!==0&&a.attr("type","mce-"+i)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(n){for(var r=n.length;r--;){var a=n[r];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(a.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(n){for(var r=n.length,a=e.schema.getNonEmptyElements();r--;){var i=n[r];i.isEmpty(a)&&i.getAll("br").length===0&&(i.append(new Ht("br",1)).shortEnded=!0)}}),t},aM=function(e){e.settings.auto_focus&&nt.setEditorTimeout(e,function(){var t;e.settings.auto_focus===!0?t=e:t=e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},iM=function(e){var t=e.dom.getRoot();!e.inline&&(!$o(e)||e.selection.getStart(!0)===t)&&pt(t).each(function(n){var r=n.getNode(),a=ea(r)?pt(r).getOr(n):n;ue.browser.isIE()?qN(e,a.toRange()):e.selection.setRng(a.toRange())})},oM=function(e){e.bindPendingEventDelegates(),e.initialized=!0,zx(e),e.focus(!0),iM(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),aM(e)},Gy=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},uM=function(e,t,n){var r=[new tt(function(a,i){return Gy(e).loadAll(t,a,i)})];return e.inline?r:r.concat([new tt(function(a,i){return e.ui.styleSheetLoader.loadAll(n,a,i)})])},Xy=function(e){var t=Gy(e),n=$m(e),r=e.contentCSS,a=function(){t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=function(){e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){var o="";B.each(e.contentStyles,function(f){o+=f+`\r
`}),e.dom.addStyle(o)}var u=tt.all(uM(e,r,n)).then(i).catch(i);return e.settings.content_style&&eM(e,e.settings.content_style),u},fM=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();Mx(e),!t.browser_spellcheck&&!t.gecko_spellcheck&&(n.body.spellcheck=!1,Sc.setAttrib(r,"spellcheck","false")),e.quirks=JF(e),Ux(e);var a=Qk(e);a!==void 0&&(r.dir=a),t.protect&&e.on("BeforeSetContent",function(i){B.each(t.protect,function(o){i.content=i.content.replace(o,function(u){return"<!--mce:protected "+escape(u)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(i){e.composing=i.type==="compositionstart"})},sM=function(e){In(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},xc=function(e){e.removed!==!0&&(sM(e),oM(e))},Nc=function(e,t){var n=e.settings,r=e.getElement(),a=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline&&(a.open(),a.write(e.iframeHTML),a.close()),e.inline&&(Sc.addClass(r,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&Sc.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=rP(e),e.schema=Gn(jy(e)),e.dom=Ce(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Kk(e),referrerPolicy:Pm(e),onSetAttrib:function(f){e.fire("SetAttrib",f)}}),e.parser=rM(e),e.serializer=Mh(nM(e),e),e.selection=_h(e.dom,e.getWin(),e.serializer,e),e.annotator=Ap(e),e.formatter=nb(e),e.undoManager=ab(e),e._nodeChangeDispatcher=new CF(e),e._selectionOverrides=ZF(e),SL(e),SF(e),In(e)||xF(e);var o=yF(e);CL(e,o),TL(e),gP(e);var u=PD(e);fM(e),u.fold(function(){Xy(e).then(function(){return xc(e)})},function(f){e.setProgressState(!0),Xy(e).then(function(){f().then(function(s){e.setProgressState(!1),xc(e)},function(s){e.notificationManager.open({type:"error",text:String(s)}),xc(e)})})})},Oi=Ce.DOM,lM=function(e,t){if(document.domain!==window.location.hostname&&ue.browser.isIE()){var n=Zh("mce");e[n]=function(){Nc(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Oi.setAttrib(t,"src",r),!0}return!1},cM=function(e,t,n,r){var a=k.fromTag("iframe");return zn(a,r),zn(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Eo(a,"tox-edit-area__iframe"),a},vM=function(e){var t=Tk(e)+"<html><head>";Rk(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Bk(e),r=Dk(e),a=e.translate(k1(e));return Dm(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Dm(e)+'" />'),t+="</head>"+('<body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'" aria-label="'+a+'">')+"<br></body></html>",t},dM=function(e,t){var n=e.translate("Rich Text Area"),r=cM(e.id,n,t.height,Ak(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var a=lM(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=vM(e),Oi.add(t.iframeContainer,r),a},mM=function(e,t){var n=dM(e,t);t.editorContainer&&(Oi.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Oi.isHidden(t.editorContainer)),e.getElement().style.display="none",Oi.setAttrib(e.id,"aria-hidden","true"),n||Nc(e)},Yy=Ce.DOM,Qy=function(e,t,n){var r=nn.get(n),a=nn.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=B.trim(n),r&&B.inArray(t,n)===-1){if(B.each(nn.dependencies(n),function(o){Qy(e,t,o)}),e.plugins[n])return;try{var i=new r(e,a,e.$);e.plugins[n]=i,i.init&&(i.init(e,a),t.push(n))}catch(o){jO(e,n,o)}}},Zy=function(e){return e.replace(/^\-/,"")},pM=function(e){var t=[];B.each(ms(e).split(/[ ,]/),function(n){Qy(e,t,Zy(n))})},gM=function(e){var t=B.trim(Om(e)),n=e.ui.registry.getAll().icons,r=ae(ae({},fu.get("default").icons),fu.get(t).icons);Be(r,function(a,i){de(n,i)||e.ui.registry.addIcon(i,a)})},hM=function(e){var t=ci(e);if(Le(t)){e.settings.theme=Zy(t);var n=sr.get(t);e.theme=new n(e,sr.urls[t]),e.theme.init&&e.theme.init(e,sr.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},bM=function(e){return e.theme.renderUI()},yM=function(e){var t=e.getElement(),n=ci(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},Jy=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},CM=function(e){var t=Yy.create("div");return Yy.insertAfter(t,e),Jy(t)},wM=function(e){var t=e.getElement();return e.inline?Jy(null):CM(t)},EM=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Le(ci(e))?bM(e):Re(ci(e))?yM(e):wM(e)},SM=function(e,t){var n={show:h.from(t.show).getOr(le),hide:h.from(t.hide).getOr(le),disable:h.from(t.disable).getOr(le),isDisabled:h.from(t.isDisabled).getOr(xe),enable:function(){e.mode.isReadOnly()||h.from(t.enable).map(UC)}};e.ui=ae(ae({},e.ui),n)},eC=function(e){e.fire("ScriptsLoaded"),gM(e),hM(e),pM(e);var t=EM(e);SM(e,h.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,YO(e),e.inline?Nc(e):mM(e,n)},Fr=Ce.DOM,tC=function(e){return e.charAt(0)==="-"},kM=function(e,t){var n=Im(t),r=Gk(t);if(Zt.hasCode(n)===!1&&n!=="en"){var a=r!==""?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(a,le,void 0,function(){WO(t,a,n)})}},xM=function(e,t,n,r){var a=ci(t);if(Le(a)){if(!tC(a)&&!de(sr.urls,a)){var i=u1(t);i?sr.load(a,t.documentBaseURI.toAbsolute(i)):sr.load(a,"themes/"+a+"/theme"+n+".js")}e.loadQueue(function(){sr.waitFor(a,r)})}else r()},NM=function(e){return h.from(Hk(e)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:h.none()}})},nC=function(e,t,n){return h.from(t).filter(function(r){return r.length>0&&!fu.has(r)}).map(function(r){return{url:e.editorManager.baseURL+"/icons/"+r+"/icons"+n+".js",name:h.some(r)}})},AM=function(e,t,n){var r=nC(t,"default",n),a=NM(t).orThunk(function(){return nC(t,Om(t),"")});X(vw([r,a]),function(i){e.add(i.url,le,void 0,function(){qO(t,i.url,i.name.getOrUndefined())})})},TM=function(e,t){B.each(y1(e),function(n,r){nn.load(r,n,le,void 0,function(){tc(e,n,r)}),e.settings.plugins+=" "+r}),B.each(ms(e).split(/[ ,]/),function(n){if(n=B.trim(n),n&&!nn.urls[n])if(tC(n)){n=n.substr(1,n.length);var r=nn.dependencies(n);B.each(r,function(i){var o={prefix:"plugins/",resource:i,suffix:"/plugin"+t+".js"},u=nn.createUrl(o,i);nn.load(u.resource,u,le,void 0,function(){tc(e,u.prefix+u.resource+u.suffix,u.resource)})})}else{var a={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};nn.load(n,a,le,void 0,function(){tc(e,a.prefix+a.resource+a.suffix,n)})}})},RM=function(e,t){var n=_n.ScriptLoader;xM(n,e,t,function(){kM(n,e),AM(n,e,t),TM(e,t),n.loadQueue(function(){e.removed||eC(e)},e,function(){e.removed||eC(e)})})},BM=function(e,t){return ld.forElement(e,{contentCssCors:b1(t),referrerPolicy:Pm(t)})},DM=function(e){var t=e.id;Zt.setCode(Im(e));var n=function(){Fr.unbind(window,"ready",n),e.render()};if(!sa.Event.domLoaded){Fr.bind(window,"ready",n);return}if(e.getElement()&&ue.contentEditable){var r=k.fromDom(e.getElement()),a=gw(r);e.on("remove",function(){Vc(r.dom.attributes,function(o){return Hn(r,o.name)}),zn(r,a)}),e.ui.styleSheetLoader=BM(r,e),f1(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||Fr.getParent(t,"form");i&&(e.formElement=i,s1(e)&&!pf(e.getElement())&&(Fr.insertAfter(Fr.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(o){e.fire(o.type,o)},Fr.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),l1(e)&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=Gh(e),e.notificationManager=Kh(e),c1(e)&&e.on("GetContent",function(o){o.save&&(o.content=Fr.encode(o.content))}),v1(e)&&e.on("submit",function(){e.initialized&&e.save()}),d1(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),RM(e,e.suffix)}},_M=function(e,t){return i_(e,t)},OM={"font-size":"size","font-family":"face"},PM=function(e,t,n){var r=function(i){return bf(i,e).orThunk(function(){return Ue(i)==="font"?Me(OM,e).bind(function(o){return Yv(i,o)}):h.none()})},a=function(i){return Se(k.fromDom(t),i)};return xl(k.fromDom(n),function(i){return r(i)},a)},IM=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},LM=function(e,t){return h.from(Ce.DOM.getStyle(t,e,!0))},rC=function(e){return function(t,n){return h.from(n).map(k.fromDom).filter(Kt).bind(function(r){return PM(e,t,r.dom).or(LM(e,r.dom))}).getOr("")}},$M=rC("font-size"),FM=mr(IM,rC("font-family")),MM=function(e){return pt(e.getBody()).map(function(t){var n=t.container();return Q(n)?n.parentNode:n})},UM=function(e){return h.from(e.selection.getRng()).bind(function(t){var n=e.getBody(),r=t.startContainer===n&&t.startOffset===0;return r?h.none():h.from(e.selection.getStart(!0))})},zM=function(e,t){return UM(e).orThunk(K(MM,e)).map(k.fromDom).filter(Kt).bind(t)},Ac=function(e,t){return zM(e,zc(h.some,t))},aC=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=$k(e),a=Fk(e);return a?a[n-1]||t:r[n-1]||t}else return t}else return t},HM=function(e){var t=e.split(/\s*,\s*/);return Te(t,function(n){return n.indexOf(" ")!==-1&&!(gr(n,'"')||gr(n,"'"))?"'"+n+"'":n}).join(",")},VM=function(e,t){var n=aC(e,t);e.formatter.toggle("fontname",{value:HM(n)}),e.nodeChanged()},qM=function(e){return Ac(e,function(t){return FM(e.getBody(),t.dom)}).getOr("")},WM=function(e,t){e.formatter.toggle("fontsize",{value:aC(e,t)}),e.nodeChanged()},jM=function(e){return Ac(e,function(t){return $M(e.getBody(),t.dom)}).getOr("")},KM=function(e){return Ac(e,function(t){var n=k.fromDom(e.getBody()),r=xl(t,function(i){return bf(i,"line-height")},K(Se,n)),a=function(){var i=parseFloat(Bn(t,"line-height")),o=parseFloat(Bn(t,"font-size"));return String(i/o)};return r.getOrThunk(a)}).getOr("")},GM=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},XM=function(e){if(typeof e!="string"){var t=B.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},YM=function(e,t){var n=XM(t);r_(e,n.content,n.details)},Ou=B.each,QM=B.map,ZM=B.inArray,iC=function(){function e(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return e.prototype.execCommand=function(t,n,r,a){var i,o=!1,u=this;if(!u.editor.removed){if(t.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)&&(!a||!a.skip_focus)?u.editor.focus():WN(u.editor)),a=u.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r}),a.isDefaultPrevented())return!1;var f=t.toLowerCase();if(i=u.commands.exec[f])return i(f,n,r),u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(Ou(this.editor.plugins,function(s){if(s.execCommand&&s.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),o=!0,!1}),o)return o;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{o=u.editor.getDoc().execCommand(t,n,r)}catch(s){}return o?(u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0):!1}},e.prototype.queryCommandState=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.state[t])return n(t);try{return this.editor.getDoc().queryCommandState(t)}catch(r){}return!1}},e.prototype.queryCommandValue=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.value[t])return n(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(r){}}},e.prototype.addCommands=function(t,n){n===void 0&&(n="exec");var r=this;Ou(t,function(a,i){Ou(i.toLowerCase().split(","),function(o){r.commands[n][o]=a})})},e.prototype.addCommand=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.exec[t]=function(i,o,u,f){return n.call(r||a.editor,o,u,f)}},e.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(n){}return!1},e.prototype.addQueryStateHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.state[t]=function(){return n.call(r||a.editor)}},e.prototype.addQueryValueHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.value[t]=function(){return n.call(r||a.editor)}},e.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},e.prototype.execNativeCommand=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=null),this.editor.getDoc().execCommand(t,n,r)},e.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},e.prototype.toggleFormat=function(t,n){this.editor.formatter.toggle(t,n),this.editor.nodeChanged()},e.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(t){var n=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":le,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(a,i,o){mA(t,o)},"Cut,Copy,Paste":function(a){var i=t.getDoc(),o;try{n.execNativeCommand(a)}catch(f){o=!0}if(a==="paste"&&!i.queryCommandEnabled(a)&&(o=!0),o||!i.queryCommandSupported(a)){var u=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");ue.mac&&(u=u.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:u,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var i=a.substring(7);i==="full"&&(i="justify"),Ou("left,center,right,justify".split(","),function(o){i!==o&&t.formatter.remove("align"+o)}),i!=="none"&&n.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(a){var i;n.execNativeCommand(a);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(i=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(n.storeSelection(),t.dom.split(i,o),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){n.toggleFormat(a)},"ForeColor,HiliteColor":function(a,i,o){n.toggleFormat(a,{value:o})},FontName:function(a,i,o){VM(t,o)},FontSize:function(a,i,o){WM(t,o)},LineHeight:function(a,i,o){GM(t,o)},Lang:function(a,i,o){n.toggleFormat(a,{value:o.code,customValue:o.customCode})},RemoveFormat:function(a){t.formatter.remove(a)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(a,i,o){return n.toggleFormat(o||"p")},mceCleanup:function(){var a=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(a)},mceRemoveNode:function(a,i,o){var u=o||t.selection.getNode();u!==t.getBody()&&(n.storeSelection(),t.dom.remove(u,!0),n.restoreSelection())},mceSelectNodeDepth:function(a,i,o){var u=0;t.dom.getParent(t.selection.getNode(),function(f){if(f.nodeType===1&&u++===o)return t.selection.select(f),!1},t.getBody())},mceSelectNode:function(a,i,o){t.selection.select(o)},mceInsertContent:function(a,i,o){YM(t,o)},mceInsertRawHTML:function(a,i,o){t.selection.setContent("tiny_mce_marker");var u=t.getContent();t.setContent(u.replace(/tiny_mce_marker/g,function(){return o}))},mceInsertNewLine:function(a,i,o){Ly(t,o)},mceToggleFormat:function(a,i,o){n.toggleFormat(o)},mceSetContent:function(a,i,o){t.setContent(o)},"Indent,Outdent":function(a){ty(t,a)},mceRepaint:le,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(a,i,o){t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(a,i,o){typeof o=="string"&&(o={href:o});var u=t.dom.getParent(t.selection.getNode(),"a");o.href=o.href.replace(/ /g,"%20"),(!u||!o.href)&&t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,u)},selectAll:function(){var a=t.dom.getParent(t.selection.getStart(),sn);if(a){var i=t.dom.createRng();i.selectNodeContents(a),t.selection.setRng(i)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(a,i,o){return Dy(t,o),!0}});var r=function(a){return function(){var i=t.selection,o=i.isCollapsed()?[t.dom.getParent(i.getNode(),t.dom.isBlock)]:i.getSelectedBlocks(),u=QM(o,function(f){return!!t.formatter.matchNode(f,a)});return ZM(u,!0)!==-1}};n.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return n.isFormatMatch(a)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return Zb(t)},"InsertUnorderedList,InsertOrderedList":function(a){var i=t.dom.getParent(t.selection.getNode(),"ul,ol");return i&&(a==="insertunorderedlist"&&i.tagName==="UL"||a==="insertorderedlist"&&i.tagName==="OL")}},"state"),n.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),n.addQueryValueHandler("FontName",function(){return qM(t)},this),n.addQueryValueHandler("FontSize",function(){return jM(t)},this),n.addQueryValueHandler("LineHeight",function(){return KM(t)},this)},e}(),Mr="data-mce-contenteditable",JM=function(e,t,n){Yd(e,t)&&n===!1?VS(e,t):n&&Eo(e,t)},Tc=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(r){}},Pu=function(e,t){e.dom.contentEditable=t?"true":"false"},eU=function(e){X(bt(e,'*[contenteditable="true"]'),function(t){ln(t,Mr,"true"),Pu(t,!1)})},tU=function(e){X(bt(e,"*["+Mr+'="true"]'),function(t){Hn(t,Mr),Pu(t,!0)})},nU=function(e){h.from(e.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},rU=function(e){e.selection.setRng(e.selection.getRng())},aU=function(e,t){var n=k.fromDom(e.getBody());JM(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),nU(e),e.readonly=!0,Pu(n,!1),eU(n)):(e.readonly=!1,Pu(n,!0),tU(n),Tc(e,"StyleWithCSS",!1),Tc(e,"enableInlineTableEditing",!1),Tc(e,"enableObjectResizing",!1),vA(e)&&e.focus(),rU(e),e.nodeChanged())},Ur=function(e){return e.readonly},oC=function(e){e.parser.addAttributeFilter("contenteditable",function(t){Ur(e)&&X(t,function(n){n.attr(Mr,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Mr,function(t){Ur(e)&&X(t,function(n){n.attr("contenteditable",n.attr(Mr))})}),e.serializer.addTempAttr(Mr)},iU=function(e){e.serializer?oC(e):e.on("PreInit",function(){oC(e)})},oU=function(e){return e.type==="click"},uU=function(e,t){var n=function(r){return Se(r,k.fromDom(e.getBody()))};return wf(t,"a",n).bind(function(r){return Yv(r,"href")})},fU=function(e,t){if(oU(t)&&!te.metaKeyPressed(t)){var n=k.fromDom(t.target);uU(e,n).each(function(r){if(t.preventDefault(),/^#/.test(r)){var a=e.dom.select(r+',[name="'+l0(r,"#")+'"]');a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},sU=function(e){e.on("ShowCaret",function(t){Ur(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){Ur(e)&&t.preventDefault()})},lU=B.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Rc=function(){function e(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xe}return e.isNative=function(t){return!!lU[t.toLowerCase()]},e.prototype.fire=function(t,n){var r=t.toLowerCase(),a=xd(r,n||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);var i=this.bindings[r];if(i)for(var o=0,u=i.length;o<u;o++){var f=i[o];if(!f.removed){if(f.once&&this.off(r,f.func),a.isImmediatePropagationStopped())return a;if(f.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a},e.prototype.on=function(t,n,r,a){if(n===!1&&(n=xe),n){var i={func:n,removed:!1};a&&B.extend(i,a);for(var o=t.toLowerCase().split(" "),u=o.length;u--;){var f=o[u],s=this.bindings[f];s||(s=[],this.toggleEvent(f,!0)),r?s=Tn([i],s,!0):s=Tn(Tn([],s,!0),[i],!1),this.bindings[f]=s}}return this},e.prototype.off=function(t,n){var r=this;if(t)for(var a=t.toLowerCase().split(" "),i=a.length;i--;){var o=a[i],u=this.bindings[o];if(!o)return Be(this.bindings,function(s,l){r.toggleEvent(l,!1),delete r.bindings[l]}),this;if(u){if(!n)u.length=0;else{var f=qc(u,function(s){return s.func===n});u=f.fail,this.bindings[o]=u,X(f.pass,function(s){s.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}else Be(this.bindings,function(s,l){r.toggleEvent(l,!1)}),this.bindings={};return this},e.prototype.once=function(t,n,r){return this.on(t,n,r,{once:!0})},e.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},e}(),Pi=function(e){return e._eventDispatcher||(e._eventDispatcher=new Rc({scope:e,toggleEvent:function(t,n){Rc.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},Iu={fire:function(e,t,n){var r=this;if(r.removed&&e!=="remove"&&e!=="detach")return t;var a=Pi(r).fire(e,t);if(n!==!1&&r.parent)for(var i=r.parent();i&&!a.isPropagationStopped();)i.fire(e,a,!1),i=i.parent();return a},on:function(e,t,n){return Pi(this).on(e,t,n)},off:function(e,t){return Pi(this).off(e,t)},once:function(e,t){return Pi(this).once(e,t)},hasEventListeners:function(e){return Pi(this).has(e)}},Lu=Ce.DOM,zr,$u=function(e,t){if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Mm(e);return n?(e.eventRoot||(e.eventRoot=Lu.select(n)[0]),e.eventRoot):e.getBody()},cU=function(e){return!e.hidden&&!Ur(e)},uC=function(e,t,n){cU(e)?e.fire(t,n):Ur(e)&&fU(e,n)},fC=function(e,t){var n;if(e.delegates||(e.delegates={}),!(e.delegates[t]||e.removed)){var r=$u(e,t);if(Mm(e)){if(zr||(zr={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||zr&&(Be(zr,function(a,i){e.dom.unbind($u(e,i))}),zr=null)})),zr[t])return;n=function(a){for(var i=a.target,o=e.editorManager.get(),u=o.length;u--;){var f=o[u].getBody();(f===i||Lu.isChildOf(i,f))&&uC(o[u],t,a)}},zr[t]=n,Lu.bind(r,t,n)}else n=function(a){uC(e,t,a)},Lu.bind(r,t,n),e.delegates[t]=n}},sC=ae(ae({},Iu),{bindPendingEventDelegates:function(){var e=this;B.each(e._pendingNativeEvents,function(t){fC(e,t)})},toggleNativeEvent:function(e,t){var n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?fC(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind($u(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(Be(e.delegates,function(r,a){e.dom.unbind($u(e,a),a,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),vU=["design","readonly"],lC=function(e,t,n,r){var a=n[t.get()],i=n[r];try{i.activate()}catch(o){console.error("problem while activating editor mode "+r+":",o);return}a.deactivate(),a.editorReadOnly!==i.editorReadOnly&&aU(e,i.editorReadOnly),t.set(r),Lx(e,r)},dU=function(e,t,n,r){if(r!==n.get()){if(!de(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?lC(e,n,t,r):e.on("init",function(){return lC(e,n,t,r)})}},mU=function(e,t,n){var r;if(Xe(vU,t))throw new Error("Cannot override default mode "+t);return ae(ae({},e),(r={},r[t]=ae(ae({},n),{deactivate:function(){try{n.deactivate()}catch(a){console.error("problem while deactivating editor mode "+t+":",a)}}}),r))},pU=function(e){var t=ft("design"),n=ft({design:{activate:le,deactivate:le,editorReadOnly:!1},readonly:{activate:le,deactivate:le,editorReadOnly:!0}});return iU(e),sU(e),{isReadOnly:function(){return Ur(e)},set:function(r){return dU(e,n.get(),t,r)},get:function(){return t.get()},register:function(r,a){n.set(mU(n.get(),r,a))}}},Bc=B.each,Dc=B.explode,gU={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},cC=B.makeMap("alt,ctrl,shift,meta,access"),hU=function(e){var t,n={};Bc(Dc(e.toLowerCase(),"+"),function(a){a in cC?n[a]=!0:/^[0-9]{2,}$/.test(a)?n.keyCode=parseInt(a,10):(n.charCode=a.charCodeAt(0),n.keyCode=gU[a]||a.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in cC)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,ue.mac?n.ctrl=!0:n.shift=!0),n.meta&&(ue.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},vC=function(){function e(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",function(r){(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(Bc(n.shortcuts,function(a){if(n.matchShortcut(r,a))return n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a),!0}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}return e.prototype.add=function(t,n,r,a){var i=this,o=i.normalizeCommandFunc(r);return Bc(Dc(B.trim(t)),function(u){var f=i.createShortcut(u,n,o,a);i.shortcuts[f.id]=f}),!0},e.prototype.remove=function(t){var n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1},e.prototype.normalizeCommandFunc=function(t){var n=this,r=t;return typeof r=="string"?function(){n.editor.execCommand(r,!1,null)}:B.isArray(r)?function(){n.editor.execCommand(r[0],r[1],r[2])}:r},e.prototype.createShortcut=function(t,n,r,a){var i=B.map(Dc(t,">"),hU);return i[i.length-1]=B.extend(i[i.length-1],{func:r,scope:a||this.editor}),B.extend(i[0],{desc:this.editor.translate(n),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},e.prototype.isFunctionKey=function(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123},e.prototype.matchShortcut=function(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},e}(),bU=function(){var e={},t={},n={},r={},a={},i={},o={},u=function(s,l){return function(c,v){return s[c.toLowerCase()]=ae(ae({},v),{type:l})}},f=function(s,l){return r[s.toLowerCase()]=l};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(o,"sidebar"),addIcon:f,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:a,contextToolbars:i,sidebars:o}}}},yU=function(){var e=bU();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Hr=Ce.DOM,dC=B.extend,CU=B.each,mC=B.resolve,wU=ue.ie,Fu=function(){function e(t,n,r){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,dC(this,sC),this.settings=AO(this,t,this.documentBaseUrl,r.defaultSettings,n),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(_n.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ce.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),St.languageLoad=this.settings.language_load,St.baseURL=r.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new ir(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new vC(this),this.editorCommands=new iC(this),this.settings.cache_suffix&&(ue.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:yU(),styleSheetLoader:void 0,show:le,hide:le,enable:le,disable:le,isDisabled:xe};var i=this,o=pU(i);this.mode=o,this.setMode=o.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ie.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}return e.prototype.render=function(){DM(this)},e.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},e.prototype.hasFocus=function(){return Dr(this)},e.prototype.execCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this,i=a.settings[t],o;if(i)return a.callbackLookup&&(o=a.callbackLookup[t])&&(i=o.func,o=o.scope),typeof i=="string"&&(o=i.replace(/\.\w+$/,""),o=o?mC(o):0,i=mC(i),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[t]={func:i,scope:o}),i.apply(o||a,n)},e.prototype.translate=function(t){return Zt.translate(t)},e.prototype.getParam=function(t,n,r){return BO(this,t,n,r)},e.prototype.hasPlugin=function(t,n){var r=Xe(ms(this).split(/[ ,]/),t);return r?n?nn.get(t)!==void 0:!0:!1},e.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},e.prototype.addCommand=function(t,n,r){this.editorCommands.addCommand(t,n,r)},e.prototype.addQueryStateHandler=function(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)},e.prototype.addQueryValueHandler=function(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)},e.prototype.addShortcut=function(t,n,r,a){this.shortcuts.add(t,n,r,a)},e.prototype.execCommand=function(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)},e.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},e.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},e.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},e.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Hr.show(t.getContainer()),Hr.hide(t.id)),t.load(),t.fire("show"))},e.prototype.hide=function(){var t=this,n=t.getDoc();t.hidden||(wU&&n&&!t.inline&&n.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Hr.hide(t.getContainer()),Hr.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(t,n){this.fire("ProgressState",{state:t,time:n})},e.prototype.load=function(t){var n=this,r=n.getElement(),a;if(n.removed)return"";if(r){t=t||{},t.load=!0;var i=pf(r)?r.value:r.innerHTML;return a=n.setContent(i,t),t.element=r,t.no_events||n.fire("LoadContent",t),t.element=r=null,a}},e.prototype.save=function(t){var n=this,r=n.getElement(),a,i;if(!(!r||!n.initialized||n.removed))return t=t||{},t.save=!0,t.element=r,a=t.content=n.getContent(t),t.no_events||n.fire("SaveContent",t),t.format==="raw"&&n.fire("RawSaveContent",t),a=t.content,pf(r)?r.value=a:((t.is_removing||!n.inline)&&(r.innerHTML=a),(i=Hr.getParent(n.id,"form"))&&CU(i.elements,function(o){if(o.name===n.id)return o.value=a,!1})),t.element=r=null,t.set_dirty!==!1&&n.setDirty(!1),a},e.prototype.setContent=function(t,n){return Ql(this,t,n)},e.prototype.getContent=function(t){return Y_(this,t)},e.prototype.insertContent=function(t,n){n&&(t=dC({content:t},n)),this.execCommand("mceInsertContent",!1,t)},e.prototype.resetContent=function(t){t===void 0?Ql(this,this.startContent,{format:"raw"}):Ql(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(t){var n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.fire("dirty")},e.prototype.getContainer=function(){var t=this;return t.container||(t.container=Hr.get(t.editorContainer||t.id+"_parent")),t.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Hr.get(this.id)),this.targetElm},e.prototype.getWin=function(){var t=this,n;return t.contentWindow||(n=t.iframeElement,n&&(t.contentWindow=n.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var t=this,n;return t.contentDocument||(n=t.getWin(),n&&(t.contentDocument=n.document)),t.contentDocument},e.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},e.prototype.convertURL=function(t,n,r){var a=this,i=a.settings;return i.urlconverter_callback?a.execCallback("urlconverter_callback",t,r,!0,n):!i.convert_urls||r&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:i.relative_urls?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,i.remove_script_host),t)},e.prototype.addVisual=function(t){_M(this,t)},e.prototype.remove=function(){eO(this)},e.prototype.destroy=function(t){tO(this,t)},e.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Vt=Ce.DOM,EU=B.explode,kn=B.each,SU=B.extend,kU=0,pC=!1,Mu,cr=[],gt=[],xU=function(e){return e!=="length"},gC=function(e){var t=e.type;kn(vr.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}})},hC=function(e){e!==pC&&(e?ie(window).on("resize scroll",gC):ie(window).off("resize scroll",gC),pC=e)},bC=function(e){var t=gt;delete cr[e.id];for(var n=0;n<cr.length;n++)if(cr[n]===e){cr.splice(n,1);break}return gt=ve(gt,function(r){return e!==r}),vr.activeEditor===e&&(vr.activeEditor=gt.length>0?gt[0]:null),vr.focusedEditor===e&&(vr.focusedEditor=null),t.length!==gt.length},NU=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(bC(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},AU=document.compatMode!=="CSS1Compat",vr=ae(ae({},Iu),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ie,majorVersion:"5",minorVersion:"10.5",releaseDate:"2022-05-25",editors:cr,i18n:Zt,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,t,n,r="";n=ir.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,r=a.suffix;else{for(var i=document.getElementsByTagName("script"),o=0;o<i.length;o++){var u=i[o].src||"";if(u!==""){var f=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){f.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var u=document.currentScript.src;u.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new ir(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new ir(e.baseURL),e.suffix=r,aA(e)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;r!==void 0&&Be(r,function(a,i){St.PluginManager.urls[i]=a})},init:function(e){var t=this,n,r=B.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(c,v){return c.inline&&v.tagName.toLowerCase()in r},i=function(c){var v=c.id;return v||(v=Me(c,"name").filter(function(d){return!Vt.get(d)}).getOrThunk(Vt.uniqueId),c.setAttribute("id",v)),v},o=function(c){var v=e[c];if(v)return v.apply(t,[])},u=function(c,v){return v.constructor===RegExp?v.test(c.className):Vt.hasClass(c,v)},f=function(c){var v=[];if(ue.browser.isIE()&&ue.browser.version.major<11)return lu("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(AU)return lu("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(c.types)return kn(c.types,function(m){v=v.concat(Vt.select(m.selector))}),v;if(c.selector)return Vt.select(c.selector);if(c.target)return[c.target];switch(c.mode){case"exact":var d=c.elements||"";d.length>0&&kn(EU(d),function(m){var p=Vt.get(m);p?v.push(p):kn(document.forms,function(g){kn(g.elements,function(y){y.name===m&&(m="mce_editor_"+kU++,Vt.setAttrib(y,"id",m),v.push(y))})})});break;case"textareas":case"specific_textareas":kn(Vt.select("textarea"),function(m){c.editor_deselector&&u(m,c.editor_deselector)||(!c.editor_selector||u(m,c.editor_selector))&&v.push(m)});break}return v},s=function(c){n=c},l=function(){var c=0,v=[],d,m=function(p,g,y){var b=new Fu(p,g,t);v.push(b),b.on("init",function(){++c===d.length&&s(v)}),b.targetElm=b.targetElm||y,b.render()};if(Vt.unbind(window,"ready",l),o("onpageload"),d=ie.unique(f(e)),e.types){kn(e.types,function(p){B.each(d,function(g){return Vt.is(g,p.selector)?(m(i(g),SU({},e,p),g),!1):!0})});return}B.each(d,function(p){NU(t.get(p.id))}),d=B.grep(d,function(p){return!t.get(p.id)}),d.length===0?s([]):kn(d,function(p){a(e,p)?lu("Could not initialize inline editor on invalid inline target element",p):m(i(p),e,p)})};return t.settings=e,Vt.bind(window,"ready",l),new tt(function(c){n?c(n):s=function(v){c(v)}})},get:function(e){return arguments.length===0?gt.slice(0):Le(e)?Ye(gt,function(t){return t.id===e}).getOr(null):jr(e)&&gt[e]?gt[e]:null},add:function(e){var t=this,n=cr[e.id];return n===e||(t.get(e.id)===null&&(xU(e.id)&&(cr[e.id]=e),cr.push(e),gt.push(e)),hC(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Mu||(Mu=function(r){var a=t.fire("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",Mu))),e},createEditor:function(e,t){return this.add(new Fu(e,t,this))},remove:function(e){var t=this,n,r;if(!e){for(n=gt.length-1;n>=0;n--)t.remove(gt[n]);return}if(Le(e)){kn(Vt.select(e),function(a){r=t.get(a.id),r&&t.remove(r)});return}return r=e,za(t.get(r.id))?null:(bC(r)&&t.fire("RemoveEditor",{editor:r}),gt.length===0&&window.removeEventListener("beforeunload",Mu),r.remove(),hC(gt.length>0),r)},execCommand:function(e,t,n){var r=this,a=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new Fu(n,r.settings,r).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:function(){kn(gt,function(e){e.save()})},addI18n:function(e,t){Zt.add(e,t)},translate:function(e){return Zt.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new ir(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ir(this.baseURL)}});vr.setup();var yC=Math.min,Fa=Math.max,Uu=Math.round,CC=function(e,t,n){var r=t.x,a=t.y,i=e.w,o=e.h,u=t.w,f=t.h,s=(n||"").split("");return s[0]==="b"&&(a+=f),s[1]==="r"&&(r+=u),s[0]==="c"&&(a+=Uu(f/2)),s[1]==="c"&&(r+=Uu(u/2)),s[3]==="b"&&(a-=o),s[4]==="r"&&(r-=i),s[3]==="c"&&(a-=Uu(o/2)),s[4]==="c"&&(r-=Uu(i/2)),Ma(r,a,i,o)},TU=function(e,t,n,r){var a,i;for(i=0;i<r.length;i++)if(a=CC(e,t,r[i]),a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[i];return null},RU=function(e,t,n){return Ma(e.x-t,e.y-n,e.w+t*2,e.h+n*2)},BU=function(e,t){var n=Fa(e.x,t.x),r=Fa(e.y,t.y),a=yC(e.x+e.w,t.x+t.w),i=yC(e.y+e.h,t.y+t.h);return a-n<0||i-r<0?null:Ma(n,r,a-n,i-r)},DU=function(e,t,n){var r=e.x,a=e.y,i=e.x+e.w,o=e.y+e.h,u=t.x+t.w,f=t.y+t.h,s=Fa(0,t.x-r),l=Fa(0,t.y-a),c=Fa(0,i-u),v=Fa(0,o-f);return r+=s,a+=l,n&&(i+=s,o+=l,r-=c,a-=v),i-=c,o-=v,Ma(r,a,i-r,o-a)},Ma=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},_U=function(e){return Ma(e.left,e.top,e.width,e.height)},OU={inflate:RU,relativePosition:CC,findBestRelativePosition:TU,intersect:BU,clamp:DU,create:Ma,fromClientRect:_U},PU=function(e,t,n){n===void 0&&(n=1e3);var r=!1,a=null,i=function(s){return function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];r||(r=!0,a!==null&&(clearTimeout(a),a=null),s.apply(null,l))}},o=i(e),u=i(t),f=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];!r&&a===null&&(a=setTimeout(function(){return u.apply(null,s)},n))};return{start:f,resolve:o,reject:u}},IU=function(){var e={},t={},n=function(a,i){var o='Script at URL "'+i+'" failed to load',u='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(e[a]!==void 0)return e[a];var f=new tt(function(s,l){var c=PU(s,l);t[a]=c.resolve,_n.ScriptLoader.loadScript(i,function(){return c.start(u)},function(){return c.reject(o)})});return e[a]=f,f},r=function(a,i){t[a]!==void 0&&(t[a](i),delete t[a]),e[a]=tt.resolve(i)};return{load:n,add:r}},LU=IU(),zu=B.each,$U=B.extend,wC,_c,EC=function(){};EC.extend=wC=function(e){var t=this,n=t.prototype,r=function(){var u,f,s,l=this;if(!_c&&(l.init&&l.init.apply(l,arguments),f=l.Mixins,f))for(u=f.length;u--;)s=f[u],s.init&&s.init.apply(l,arguments)},a=function(){return this},i=function(u,f){return function(){var s=this,l=s._super;s._super=n[u];var c=f.apply(s,arguments);return s._super=l,c}};_c=!0;var o=new t;return _c=!1,e.Mixins&&(zu(e.Mixins,function(u){for(var f in u)f!=="init"&&(e[f]=u[f])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&zu(e.Methods.split(","),function(u){e[u]=a}),e.Properties&&zu(e.Properties.split(","),function(u){var f="_"+u;e[u]=function(s){var l=this;return s!==void 0?(l[f]=s,l):l[f]}}),e.Statics&&zu(e.Statics,function(u,f){r[f]=u}),e.Defaults&&n.Defaults&&(e.Defaults=$U({},n.Defaults,e.Defaults)),Be(e,function(u,f){typeof u=="function"&&n[f]?o[f]=i(f,u):o[f]=u}),r.prototype=o,r.constructor=r,r.extend=wC,r};var Hu=Math.min,Vu=Math.max,Vr=Math.round,FU=function(e){var t={},n=0,r=0,a=0,i=function(c,v,d){var m,p,g;m=0,p=0,g=0,c=c/255,v=v/255,d=d/255;var y=Hu(c,Hu(v,d)),b=Vu(c,Vu(v,d));if(y===b)return g=y,{h:0,s:0,v:g*100};var w=c===y?v-d:d===y?c-v:d-c;return m=c===y?3:d===y?1:5,m=60*(m-w/(b-y)),p=(b-y)/b,g=b,{h:Vr(m),s:Vr(p*100),v:Vr(g*100)}},o=function(c,v,d){if(c=(parseInt(c,10)||0)%360,v=parseInt(v,10)/100,d=parseInt(d,10)/100,v=Vu(0,Hu(v,1)),d=Vu(0,Hu(d,1)),v===0){n=r=a=Vr(255*d);return}var m=c/60,p=d*v,g=p*(1-Math.abs(m%2-1)),y=d-p;switch(Math.floor(m)){case 0:n=p,r=g,a=0;break;case 1:n=g,r=p,a=0;break;case 2:n=0,r=p,a=g;break;case 3:n=0,r=g,a=p;break;case 4:n=g,r=0,a=p;break;case 5:n=p,r=0,a=g;break;default:n=r=a=0}n=Vr(255*(n+y)),r=Vr(255*(r+y)),a=Vr(255*(a+y))},u=function(){var c=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+c(n)+c(r)+c(a)},f=function(){return{r:n,g:r,b:a}},s=function(){return i(n,r,a)},l=function(c){var v;return typeof c=="object"?"r"in c?(n=c.r,r=c.g,a=c.b):"v"in c&&o(c.h,c.s,c.v):(v=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(c))?(n=parseInt(v[1],10),r=parseInt(v[2],10),a=parseInt(v[3],10)):(v=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(c))?(n=parseInt(v[1],16),r=parseInt(v[2],16),a=parseInt(v[3],16)):(v=/#([0-F])([0-F])([0-F])/gi.exec(c))&&(n=parseInt(v[1]+v[1],16),r=parseInt(v[2]+v[2],16),a=parseInt(v[3]+v[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,a=a<0?0:a>255?255:a,t};return e&&l(e),t.toRgb=f,t.toHsv=s,t.toHex=u,t.parse=l,t},MU=function(e){var t=JSON.stringify(e);return Le(t)?t.replace(/[\u0080-\uFFFF]/g,function(n){var r=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(r.length)+r}):t},Oc={serialize:MU,parse:function(e){try{return JSON.parse(e)}catch(t){}}},UU={callbacks:{},count:0,send:function(e){var t=this,n=Ce.DOM,r=e.count!==void 0?e.count:t.count,a="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(a),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:a,src:e.url,type:"text/javascript"}),t.count++}},qu=ae(ae({},Iu),{send:function(e){var t,n=0,r=function(){!e.async||t.readyState===4||n++>1e4?(e.success&&n<1e4&&t.status===200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):nt.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",qu.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&B.each(e.requestheaders,function(a){t.setRequestHeader(a.key,a.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=qu.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();nt.setTimeout(r,10)}}),SC=B.extend,zU=function(){function e(t){this.settings=SC({},t),this.count=0}return e.sendRPC=function(t){return new e().send(t)},e.prototype.send=function(t){var n=t.error,r=t.success,a=SC(this.settings,t);a.success=function(i,o){i=Oc.parse(i),typeof i=="undefined"&&(i={error:"JSON Parse error."}),i.error?n.call(a.error_scope||a.scope,i.error,o):r.call(a.success_scope||a.scope,i.result)},a.error=function(i,o){n&&n.call(a.error_scope||a.scope,i,o)},a.data=Oc.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),a.content_type="application/json",qu.send(a)},e}(),HU=function(){return function(){var e={},t=[],n={getItem:function(r){var a=e[r];return a||null},setItem:function(r,a){t.push(r),e[r]=String(a)},key:function(r){return t[r]},removeItem:function(r){t=t.filter(function(a){return a===r}),delete e[r]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()},Ii;try{var Pc="__storage_test__";Ii=window.localStorage,Ii.setItem(Pc,Pc),Ii.removeItem(Pc)}catch(e){Ii=HU()}var VU=Ii,qU={geom:{Rect:OU},util:{Promise:tt,Delay:nt,Tools:B,VK:te,URI:ir,Class:EC,EventDispatcher:Rc,Observable:Iu,I18n:Zt,XHR:qu,JSON:Oc,JSONRequest:zU,JSONP:UU,LocalStorage:VU,Color:FU,ImageUploader:tP},dom:{EventUtils:sa,Sizzle:he,DomQuery:ie,TreeWalker:Ve,TextSeeker:im,DOMUtils:Ce,ScriptLoader:_n,RangeUtils:wi,Serializer:Mh,StyleSheetLoader:sd,ControlSelection:Bp,BookmarkManager:Ci,Selection:_h,Event:sa.Event},html:{Styles:Lf,Entities:jn,Node:Ht,Schema:Gn,SaxParser:Wo,DomParser:Yl,Writer:ig,Serializer:Ra},Env:ue,AddOnManager:St,Annotator:Ap,Formatter:nb,UndoManager:ab,EditorCommands:iC,WindowManager:Gh,NotificationManager:Kh,EditorObservable:sC,Shortcuts:vC,Editor:Fu,FocusManager:Gp,EditorManager:vr,DOM:Ce.DOM,ScriptLoader:_n.ScriptLoader,PluginManager:nn,ThemeManager:sr,IconManager:fu,Resource:LU,trim:B.trim,isArray:B.isArray,is:B.is,toArray:B.toArray,makeMap:B.makeMap,each:B.each,map:B.map,grep:B.grep,inArray:B.inArray,extend:B.extend,create:B.create,walk:B.walk,createNS:B.createNS,resolve:B.resolve,explode:B.explode,_addCacheSuffix:B._addCacheSuffix,isOpera:ue.opera,isWebKit:ue.webkit,isIE:ue.ie,isGecko:ue.gecko,isMac:ue.mac},kC=B.extend(vr,qU),WU=function(e){try{An.exports=e}catch(t){}},jU=function(e){window.tinymce=e,window.tinyMCE=e};jU(kC),WU(kC)})()})(JU);const t2=Ic;export{RC as c,e2 as g,t2 as t};
