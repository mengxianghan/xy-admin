var w=(C,p,i)=>new Promise((d,a)=>{var g=o=>{try{l(i.next(o))}catch(f){a(f)}},h=o=>{try{l(i.throw(o))}catch(f){a(f)}},l=o=>o.done?d(o.value):Promise.resolve(o.value).then(g,h);l((i=i.apply(C,p)).next())});import{r as H,o as J,h as n,i as P,d as R,e as t,w as e,j as x,F as V,m as K,x as Q,k as c,E as D,M as U,n as W}from"./index.7b6fce2d.js";import X from"./Edit.cc5d6f64.js";import{u as Y}from"./usePagination.ee26acc1.js";import"./tinymce.b4091e4a.js";import"./echarts.98d40a9a.js";import"./useModal.b84de592.js";import"./useForm.98a74fe7.js";const Z=c("\u641C\u7D22 "),tt=c(" \u65B0\u5EFA "),et=c("\u641C\u7D22 "),nt=c("\u7F16\u8F91"),at=c("\u5220\u9664"),ot=c(" \u66F4\u591A "),lt=c("\u83DC\u5355 1"),ct=c("\u83DC\u5355 2"),_t=c("\u83DC\u5355 3"),st={name:"listBasic"},kt=Object.assign(st,{setup(C){const p=[{title:"ID",dataIndex:"id",width:64,align:"center"},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u64CD\u4F5C",key:"action",width:180}],{list:i,pagination:d,loading:a,resetPagination:g}=Y(),h=H();function l(){return w(this,null,function*(){const{pageSize:_,current:s}=d;a.value=!0;const{code:m,data:u}=yield D.common.getPageList({pageSize:_,page:s}).catch(()=>{a.value=!1});a.value=!1,m===200&&(i.value=u.rows,d.total=u.total)})}function o(){g(),l()}function f({id:_}){U.confirm({title:"\u5220\u9664\u63D0\u793A",content:"\u786E\u8BA4\u5220\u9664\uFF1F",onOk:()=>w(this,null,function*(){a.value=!0;const{code:s}=yield D.common.deleteData({id:_}).catch(()=>{a.value=!1});s===200?(W.success("\u5220\u9664\u6210\u529F"),yield l()):a.value=!1})})}function E({current:_,pageSize:s}){d.current=_,d.pageSize=s,l()}function I(){l()}return J(()=>{l()}),(_,s)=>{const m=n("a-input"),u=n("a-form-item"),r=n("a-col"),M=n("a-select"),S=n("a-range-picker"),k=n("a-button"),v=n("a-row"),$=n("a-form"),B=n("x-search-bar"),j=n("icon-plus-outlined"),z=n("x-action-bar"),b=n("x-action-button"),F=n("icon-down-outlined"),y=n("a-menu-item"),L=n("a-menu"),T=n("a-dropdown"),q=n("a-table"),A=n("a-card");return P(),R(V,null,[t(B,{class:"mb-8-2"},{default:e(()=>[t($,{layout:"inline"},{default:e(()=>[t(v,{gutter:16},{default:e(()=>[t(r,{span:6},{default:e(()=>[t(u,{label:"\u6807\u9898"},{default:e(()=>[t(m)]),_:1})]),_:1}),t(r,{span:6},{default:e(()=>[t(u,{label:"\u6807\u9898"},{default:e(()=>[t(M)]),_:1})]),_:1}),t(r,{span:6},{default:e(()=>[t(u,{label:"\u6807\u9898"},{default:e(()=>[t(S)]),_:1})]),_:1}),t(r,{span:6},{default:e(()=>[t(k,{type:"primary",ghost:"",onClick:o},{default:e(()=>[Z]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(A,{bordered:!1},{default:e(()=>[t(z,{class:"mb-8-2"},{extra:e(()=>[t(B,{"body-style":{padding:0}},{default:e(()=>[t($,{layout:"inline"},{default:e(()=>[t(v,{gutter:12,type:"flex"},{default:e(()=>[t(r,null,{default:e(()=>[t(u,null,{default:e(()=>[t(m)]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(k,{type:"primary",ghost:"",onClick:o},{default:e(()=>[et]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),default:e(()=>[t(k,{type:"primary",onClick:s[0]||(s[0]=N=>_.$refs.editRef.handleCreate())},{icon:e(()=>[t(j)]),default:e(()=>[tt]),_:1})]),_:1}),t(q,{columns:p,pagination:x(d),"data-source":x(i),loading:x(a),"row-key":"id",onChange:E},{bodyCell:e(({column:N,record:O,index:it})=>[N.key==="action"?(P(),R(V,{key:0},[t(b,{onClick:G=>_.$refs.editRef.handleEdit(O)},{default:e(()=>[nt]),_:2},1032,["onClick"]),t(b,{onClick:G=>f(O)},{default:e(()=>[at]),_:2},1032,["onClick"]),t(b,{tag:"span"},{default:e(()=>[t(T,{trigger:["click"]},{overlay:e(()=>[t(L,null,{default:e(()=>[t(y,null,{default:e(()=>[lt]),_:1}),t(y,null,{default:e(()=>[ct]),_:1}),t(y,null,{default:e(()=>[_t]),_:1})]),_:1})]),default:e(()=>[K("a",null,[ot,t(F)])]),_:1})]),_:1})],64)):Q("",!0)]),_:1},8,["pagination","data-source","loading"])]),_:1}),t(X,{ref_key:"editRef",ref:h,onOk:I},null,512)],64)}}});export{kt as default};
