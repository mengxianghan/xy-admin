import{h as r,i as U,s as q,w as i,e as t,j as e,y as B}from"./index.7b6fce2d.js";import{u as D}from"./useModal.b84de592.js";import{u as E}from"./useForm.98a74fe7.js";import"./tinymce.b4091e4a.js";import"./echarts.98d40a9a.js";const V={__name:"DictTypeEdit",emits:["ok"],setup(O,{expose:v,emit:h}){const{modal:s,showModal:m,hideModal:d,showLoading:b,hideLoading:f}=D(),{formRef:c,rules:p,formRecord:g,formState:o,resetForm:k}=E();p.value={name:{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},code:{required:!0,message:"\u8BF7\u8F93\u5165\u7F16\u7801"}},o.value={valid:!0};function w(){m({title:"\u65B0\u5EFA\u5206\u7C7B"})}function C(l){m({title:"\u7F16\u8F91\u5206\u7C7B"}),o.value=B(l),g.value=l}function x(){c.value.validateFields().then(l=>{b(),setTimeout(()=>{f(),d(),h("ok")},3e3)}).catch(l=>{f()})}function y(){d()}function F(){k()}return v({handleCreate:w,handleEdit:C}),(l,a)=>{const L=r("a-tree-select"),u=r("a-form-item"),_=r("a-input"),M=r("a-form"),R=r("a-modal");return U(),q(R,{visible:e(s).visible,title:e(s).title,"confirm-loading":e(s).confirmLoading,"after-close":F,width:480,onOk:x,onCancel:y},{default:i(()=>[t(M,{ref_key:"formRef",ref:c,model:e(o),rules:e(p),"scroll-to-first-error":"","label-col":{style:{width:"100px"}}},{default:i(()=>[t(u,{label:"\u6240\u5C5E\u4E0A\u7EA7",name:"parent"},{default:i(()=>[t(L,{value:e(o).parent,"onUpdate:value":a[0]||(a[0]=n=>e(o).parent=n)},null,8,["value"])]),_:1}),t(u,{label:"\u540D\u79F0",name:"name"},{default:i(()=>[t(_,{value:e(o).name,"onUpdate:value":a[1]||(a[1]=n=>e(o).name=n)},null,8,["value"])]),_:1}),t(u,{label:"\u7F16\u7801",name:"code"},{default:i(()=>[t(_,{value:e(o).code,"onUpdate:value":a[2]||(a[2]=n=>e(o).code=n)},null,8,["value"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["visible","title","confirm-loading"])}}};export{V as default};
